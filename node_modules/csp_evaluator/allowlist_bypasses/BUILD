# Description:
#   Allowlist bypasses for CSP script-src and object-src allowlists.

load("//javascript/typescript:build_defs.bzl", "ts_library")
load("//tools/build_defs/js:rules.bzl", "js_library")

package_group(
    name = "csp_evaluator",
    packages = ["//javascript/security/csp/csp_evaluator/..."],
)

package(default_visibility = [":csp_evaluator"])

ts_library(
    name = "allowlistBypasses",
    srcs = [
    ],
    deps = [
        ":angular",
        ":flash",
        ":jsonp",
    ],
)

js_library(
    name = "all_bypasses",
    srcs = [],
    exports = [
        ":angular",
        ":flash",
        ":jsonp",
    ],
)

ts_library(
    name = "angular",
    srcs = ["angular.ts"],
)

ts_library(
    name = "flash",
    srcs = ["flash.ts"],
)

ts_library(
    name = "jsonp",
    srcs = ["jsonp.ts"],
)

filegroup(
    name = "js_files",
    srcs = glob(["*.js"]),
)
