/*
* @license Copyright 2020 The Lighthouse Authors. All Rights Reserved.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
* or implied. See the License for the specific language governing
* permissions and limitations under the License.
*/
"use strict";window.LH_CURRENT_VERSION="8.1.0",function(){function e(){return o||(o=new Promise((function(e,t){var o=indexedDB.open("keyval-store",1);o.onerror=function(){t(o.error)},o.onupgradeneeded=function(){o.result.createObjectStore("keyval")},o.onsuccess=function(){e(o.result)}}))),o}function t(t,o){return e().then((function(e){return new Promise((function(i,s){var n=e.transaction("keyval",t);n.oncomplete=function(){i()},n.onerror=function(){s(n.error)},o(n.objectStore("keyval"))}))}))}var o,i={get:function(e){var o;return t("readonly",(function(t){o=t.get(e)})).then((function(){return o.result}))},set:function(e,o){return t("readwrite",(function(t){t.put(o,e)}))},delete:function(e){return t("readwrite",(function(t){t.delete(e)}))},clear:function(){return t("readwrite",(function(e){e.clear()}))},keys:function(){var e=[];return t("readonly",(function(t){(t.openKeyCursor||t.openCursor).call(t).onsuccess=function(){this.result&&(e.push(this.result.key),this.result.continue())}})).then((function(){return e}))}};"undefined"!=typeof module&&module.exports?module.exports=i:self.idbKeyval=i}(),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).EventTargetShim={})}(this,(function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,o){return t&&i(e.prototype,t),o&&i(e,o),e}function n(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function a(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,i)}return o}function l(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?a(Object(o),!0).forEach((function(t){n(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function m(e,t,o){return(m=d()?Reflect.construct:function(e,t,o){var i=[null];i.push.apply(i,t);var s=new(Function.bind.apply(e,i));return o&&c(s,o.prototype),s}).apply(null,arguments)}function h(e){var t="function"==typeof Map?new Map:void 0;return(h=function(e){if(null===e||(o=e,-1===Function.toString.call(o).indexOf("[native code]")))return e;var o;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return m(e,arguments,u(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),c(i,e)})(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?p(e):t}function f(e){var t=d();return function(){var o,i=u(e);if(t){var s=u(this).constructor;o=Reflect.construct(i,arguments,s)}else o=i.apply(this,arguments);return g(this,o)}}function b(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}function y(e,t,o){return(y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,o){var i=b(e,t);if(i){var s=Object.getOwnPropertyDescriptor(i,t);return s.get?s.get.call(o):s.value}})(e,t,o||e)}function v(e,t,o,i){return(v="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(e,t,o,i){var s,a=b(e,t);if(a){if((s=Object.getOwnPropertyDescriptor(a,t)).set)return s.set.call(i,o),!0;if(!s.writable)return!1}if(s=Object.getOwnPropertyDescriptor(i,t)){if(!s.writable)return!1;s.value=o,Object.defineProperty(i,t,s)}else n(i,t,o);return!0})(e,t,o,i)}function w(e,t,o,i,s){if(!v(e,t,o,i||e)&&s)throw new Error("failed to set property");return o}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,i=new Array(t);o<t;o++)i[o]=e[o];return i}function E(e,t){if(!e){for(var o=arguments.length,i=new Array(o>2?o-2:0),s=2;s<o;s++)i[s-2]=arguments[s];throw new TypeError(R(t,i))}}function R(e,t){var o=0;return e.replace(/%[os]/g,(function(){return L(t[o++])}))}function L(e){return"object"!==t(e)||null===e?String(e):Object.prototype.toString.call(e)}var T,M,x="undefined"!=typeof window?window:"undefined"!=typeof self?self:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:void 0,D=function(){function e(t,i){o(this,e),this.code=t,this.message=i}return s(e,[{key:"warn",value:function(){var e;try{for(var t,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];if(M)return void M(l(l({},this),{},{args:i}));var n=(null!==(e=(new Error).stack)&&void 0!==e?e:"").replace(/^(?:(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+?\n){2}/g,"\n");(t=console).warn.apply(t,[this.message].concat(i,[n]))}catch(e){}}}]),e}(),B=new D("W01","Unable to initialize event under dispatching."),_=new D("W02","Assigning any falsy value to 'cancelBubble' property has no effect."),k=new D("W03","Assigning any truthy value to 'returnValue' property has no effect."),S=new D("W04","Unable to preventDefault on non-cancelable events."),N=new D("W05","Unable to preventDefault inside passive event listener invocation."),z=new D("W06","An event listener wasn't added because it has been added already: %o, %o"),H=new D("W07","The %o option value was abandoned because the event listener wasn't added as duplicated."),A=new D("W08","The 'callback' argument must be a function or an object that has 'handleEvent' method: %o"),P=new D("W09","Event attribute handler must be a function: %o"),F=function(){function e(t,i){o(this,e),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});var s=null!=i?i:{};W.set(this,{type:String(t),bubbles:Boolean(s.bubbles),cancelable:Boolean(s.cancelable),composed:Boolean(s.composed),target:null,currentTarget:null,stopPropagationFlag:!1,stopImmediatePropagationFlag:!1,canceledFlag:!1,inPassiveListenerFlag:!1,dispatchFlag:!1,timeStamp:Date.now()})}return s(e,null,[{key:"NONE",get:function(){return O}},{key:"CAPTURING_PHASE",get:function(){return I}},{key:"AT_TARGET",get:function(){return j}},{key:"BUBBLING_PHASE",get:function(){return V}}]),s(e,[{key:"composedPath",value:function(){var e=U(this).currentTarget;return e?[e]:[]}},{key:"stopPropagation",value:function(){U(this).stopPropagationFlag=!0}},{key:"stopImmediatePropagation",value:function(){var e=U(this);e.stopPropagationFlag=e.stopImmediatePropagationFlag=!0}},{key:"preventDefault",value:function(){G(U(this))}},{key:"initEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=U(this);i.dispatchFlag?B.warn():W.set(this,l(l({},i),{},{type:String(e),bubbles:Boolean(t),cancelable:Boolean(o),target:null,currentTarget:null,stopPropagationFlag:!1,stopImmediatePropagationFlag:!1,canceledFlag:!1}))}},{key:"type",get:function(){return U(this).type}},{key:"target",get:function(){return U(this).target}},{key:"srcElement",get:function(){return U(this).target}},{key:"currentTarget",get:function(){return U(this).currentTarget}},{key:"NONE",get:function(){return O}},{key:"CAPTURING_PHASE",get:function(){return I}},{key:"AT_TARGET",get:function(){return j}},{key:"BUBBLING_PHASE",get:function(){return V}},{key:"eventPhase",get:function(){return U(this).dispatchFlag?2:0}},{key:"cancelBubble",get:function(){return U(this).stopPropagationFlag},set:function(e){e?U(this).stopPropagationFlag=!0:_.warn()}},{key:"bubbles",get:function(){return U(this).bubbles}},{key:"cancelable",get:function(){return U(this).cancelable}},{key:"returnValue",get:function(){return!U(this).canceledFlag},set:function(e){e?k.warn():G(U(this))}},{key:"defaultPrevented",get:function(){return U(this).canceledFlag}},{key:"composed",get:function(){return U(this).composed}},{key:"isTrusted",get:function(){return!1}},{key:"timeStamp",get:function(){return U(this).timeStamp}}]),e}(),O=0,I=1,j=2,V=3,W=new WeakMap;function U(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"this",o=W.get(e);return E(null!=o,"'%s' must be an object that Event constructor created, but got another one: %o",t,e),o}function G(e){e.inPassiveListenerFlag?N.warn():e.cancelable?e.canceledFlag=!0:S.warn()}Object.defineProperty(F,"NONE",{enumerable:!0}),Object.defineProperty(F,"CAPTURING_PHASE",{enumerable:!0}),Object.defineProperty(F,"AT_TARGET",{enumerable:!0}),Object.defineProperty(F,"BUBBLING_PHASE",{enumerable:!0});for(var Z,q=Object.getOwnPropertyNames(F.prototype),$=0;$<q.length;++$)"constructor"!==q[$]&&Object.defineProperty(F.prototype,q[$],{enumerable:!0});void 0!==x&&void 0!==x.Event&&Object.setPrototypeOf(F.prototype,x.Event.prototype);var K={INDEX_SIZE_ERR:1,DOMSTRING_SIZE_ERR:2,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,INVALID_CHARACTER_ERR:5,NO_DATA_ALLOWED_ERR:6,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INUSE_ATTRIBUTE_ERR:10,INVALID_STATE_ERR:11,SYNTAX_ERR:12,INVALID_MODIFICATION_ERR:13,NAMESPACE_ERR:14,INVALID_ACCESS_ERR:15,VALIDATION_ERR:16,TYPE_MISMATCH_ERR:17,SECURITY_ERR:18,NETWORK_ERR:19,ABORT_ERR:20,URL_MISMATCH_ERR:21,QUOTA_EXCEEDED_ERR:22,TIMEOUT_ERR:23,INVALID_NODE_TYPE_ERR:24,DATA_CLONE_ERR:25};function Y(e){for(var t=Object.keys(K),o=function(o){var i=t[o],s=K[i];Object.defineProperty(e,i,{get:function(){return s},configurable:!0,enumerable:!0})},i=0;i<t.length;++i)o(i)}var X=function(e){r(i,e);var t=f(i);function i(e){var s,n,a;o(this,i),a=t.call(this,e.type,{bubbles:e.bubbles,cancelable:e.cancelable,composed:e.composed}),e.cancelBubble&&y((s=p(a),u(i.prototype)),"stopPropagation",s).call(s),e.defaultPrevented&&y((n=p(a),u(i.prototype)),"preventDefault",n).call(n),J.set(p(a),{original:e});for(var l=Object.keys(e),r=0;r<l.length;++r){var c=l[r];c in p(a)||Object.defineProperty(p(a),c,oe(e,c))}return a}return s(i,null,[{key:"wrap",value:function(e){return new(te(e))(e)}}]),s(i,[{key:"stopPropagation",value:function(){y(u(i.prototype),"stopPropagation",this).call(this);var e=Q(this).original;"stopPropagation"in e&&e.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){y(u(i.prototype),"stopImmediatePropagation",this).call(this);var e=Q(this).original;"stopImmediatePropagation"in e&&e.stopImmediatePropagation()}},{key:"preventDefault",value:function(){y(u(i.prototype),"preventDefault",this).call(this);var e=Q(this).original;"preventDefault"in e&&e.preventDefault()}},{key:"cancelBubble",get:function(){return y(u(i.prototype),"cancelBubble",this)},set:function(e){w(u(i.prototype),"cancelBubble",e,this,!0);var t=Q(this).original;"cancelBubble"in t&&(t.cancelBubble=e)}},{key:"returnValue",get:function(){return y(u(i.prototype),"returnValue",this)},set:function(e){w(u(i.prototype),"returnValue",e,this,!0);var t=Q(this).original;"returnValue"in t&&(t.returnValue=e)}},{key:"timeStamp",get:function(){var e=Q(this).original;return"timeStamp"in e?e.timeStamp:y(u(i.prototype),"timeStamp",this)}}]),i}(F),J=new WeakMap;function Q(e){var t=J.get(e);return E(null!=t,"'this' is expected an Event object, but got",e),t}var ee=new WeakMap;function te(e){var t=Object.getPrototypeOf(e);if(null==t)return X;var i=ee.get(t);return null==i&&(i=function(e,t){for(var i=function(e){r(i,e);var t=f(i);function i(){return o(this,i),t.apply(this,arguments)}return i}(e),s=Object.keys(t),n=0;n<s.length;++n)Object.defineProperty(i.prototype,s[n],oe(t,s[n]));return i}(te(t),t),ee.set(t,i)),i}function oe(e,t){var o=Object.getOwnPropertyDescriptor(e,t);return{get:function(){var e=Q(this).original,o=e[t];return"function"==typeof o?o.bind(e):o},set:function(e){Q(this).original[t]=e},configurable:o.configurable,enumerable:o.enumerable}}function ie(e){e.flags|=8}function se(e){return 1==(1&e.flags)}function ne(e){return 2==(2&e.flags)}function ae(e){return 4==(4&e.flags)}function le(e){return 8==(8&e.flags)}function re(e,t,o){var i=e.callback;try{"function"==typeof i?i.call(t,o):"function"==typeof i.handleEvent&&i.handleEvent(o)}catch(e){!function(e){try{var t=e instanceof Error?e:new Error(L(e));if(T)return void T(t);if("function"==typeof dispatchEvent&&"function"==typeof ErrorEvent)dispatchEvent(new ErrorEvent("error",{error:t,message:t.message}));else if("undefined"!=typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",t);console.error(t)}catch(e){}}(e)}}function ue(e,t,o){for(var i=e.listeners,s=0;s<i.length;++s)if(i[s].callback===t&&se(i[s])===o)return s;return-1}function ce(e,t,o,i,s,n){var a;n&&(a=de.bind(null,e,t,o),n.addEventListener("abort",a));var l=function(e,t,o,i,s,n){return{callback:e,flags:(t?1:0)|(o?2:0)|(i?4:0),signal:s,signalListener:n}}(t,o,i,s,n,a);return e.cow?(e.cow=!1,e.listeners=[].concat(function(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return C(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?C(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.listeners),[l])):e.listeners.push(l),l}function de(e,t,o){var i=ue(e,t,o);return-1!==i&&me(e,i)}function me(e,t){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=e.listeners[t];return ie(i),i.signal&&i.signal.removeEventListener("abort",i.signalListener),e.cow&&!o?(e.cow=!1,e.listeners=e.listeners.filter((function(e,o){return o!==t})),!1):(e.listeners.splice(t,1),!0)}function he(e,t){var o;return null!==(o=e[t])&&void 0!==o?o:e[t]={attrCallback:void 0,attrListener:void 0,cow:!1,listeners:[]}}ee.set(Object.prototype,X),void 0!==x&&void 0!==x.Event&&ee.set(x.Event.prototype,X);var pe=function(){function e(){o(this,e),ge.set(this,Object.create(null))}return s(e,[{key:"addEventListener",value:function(e,o,i){var s=fe(this),n=function(e,o,i){var s;return be(o),"object"===t(i)&&null!==i?{type:String(e),callback:null!=o?o:void 0,capture:Boolean(i.capture),passive:Boolean(i.passive),once:Boolean(i.once),signal:null!==(s=i.signal)&&void 0!==s?s:void 0}:{type:String(e),callback:null!=o?o:void 0,capture:Boolean(i),passive:!1,once:!1,signal:void 0}}(e,o,i),a=n.callback,l=n.capture,r=n.once,u=n.passive,c=n.signal,d=n.type;if(null!=a&&!(null==c?void 0:c.aborted)){var m=he(s,d),h=ue(m,a,l);-1===h?ce(m,a,l,u,r,c):function(e,t,o,i){z.warn(se(e)?"capture":"bubble",e.callback),ne(e)!==t&&H.warn("passive"),ae(e)!==o&&H.warn("once"),e.signal!==i&&H.warn("signal")}(m.listeners[h],u,r,c)}}},{key:"removeEventListener",value:function(e,o,i){var s=fe(this),n=function(e,o,i){return be(o),"object"===t(i)&&null!==i?{type:String(e),callback:null!=o?o:void 0,capture:Boolean(i.capture)}:{type:String(e),callback:null!=o?o:void 0,capture:Boolean(i)}}(e,o,i),a=n.callback,l=n.capture,r=s[n.type];null!=a&&r&&de(r,a,l)}},{key:"dispatchEvent",value:function(e){var t=fe(this)[String(e.type)];if(null==t)return!0;var i,n=e instanceof F?e:X.wrap(e),a=U(n,"event");if(a.dispatchFlag)throw i="This event has been in dispatching.",x.DOMException?new x.DOMException(i,"InvalidStateError"):(null==Z&&(Z=function(e){r(i,e);var t=f(i);function i(e){var s;return o(this,i),s=t.call(this,e),Error.captureStackTrace&&Error.captureStackTrace(p(s),i),s}return s(i,[{key:"code",get:function(){return 11}},{key:"name",get:function(){return"InvalidStateError"}}]),i}(h(Error)),Object.defineProperties(Z.prototype,{code:{enumerable:!0},name:{enumerable:!0}}),Y(Z),Y(Z.prototype)),new Z(i));if(a.dispatchFlag=!0,a.target=a.currentTarget=this,!a.stopPropagationFlag){var l=t.cow,u=t.listeners;t.cow=!0;for(var c=0;c<u.length;++c){var d=u[c];if(!le(d)&&(ae(d)&&me(t,c,!l)&&(c-=1),a.inPassiveListenerFlag=ne(d),re(d,this,n),a.inPassiveListenerFlag=!1,a.stopImmediatePropagationFlag))break}l||(t.cow=!1)}return a.target=null,a.currentTarget=null,a.stopImmediatePropagationFlag=!1,a.stopPropagationFlag=!1,a.dispatchFlag=!1,!a.canceledFlag}}]),e}(),ge=new WeakMap;function fe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"this",o=ge.get(e);return E(null!=o,"'%s' must be an object that EventTarget constructor created, but got another one: %o",t,e),o}function be(e){if("function"!=typeof e&&("object"!==t(e)||null===e||"function"!=typeof e.handleEvent)){if(null!=e&&"object"!==t(e))throw new TypeError(R(A.message,[e]));A.warn(e)}}for(var ye=Object.getOwnPropertyNames(pe.prototype),ve=0;ve<ye.length;++ve)"constructor"!==ye[ve]&&Object.defineProperty(pe.prototype,ye[ve],{enumerable:!0});function we(e,t){var o,i;return null!==(i=null===(o=fe(e,"target")[t])||void 0===o?void 0:o.attrCallback)&&void 0!==i?i:null}function Ce(e,o,i){null!=i&&"function"!=typeof i&&P.warn(i),"function"==typeof i||"object"===t(i)&&null!==i?function(e,t,o){var i=he(fe(e,"target"),String(t));i.attrCallback=o,null==i.attrListener&&(i.attrListener=ce(i,function(e){return function(t){var o=e.attrCallback;"function"==typeof o&&o.call(this,t)}}(i),!1,!1,!1,void 0))}(e,o,i):function(e,t){var o=fe(e,"target")[String(t)];o&&o.attrListener&&(de(o,o.attrListener.callback,!1),o.attrCallback=o.attrListener=void 0)}(e,o)}function Ee(e,t,o){Object.defineProperty(e,"on".concat(t),{get:function(){return we(this,t)},set:function(e){Ce(this,t,e)},configurable:!0,enumerable:!0})}void 0!==x&&void 0!==x.EventTarget&&Object.setPrototypeOf(pe.prototype,x.EventTarget.prototype),e.Event=F,e.EventTarget=pe,e.default=pe,e.defineCustomEventTarget=function(){for(var e=function(e){r(i,e);var t=f(i);function i(){return o(this,i),t.apply(this,arguments)}return i}(pe),t=0;t<arguments.length;++t)Ee(e.prototype,t<0||arguments.length<=t?void 0:arguments[t]);return e},e.defineEventAttribute=Ee,e.getEventAttributeValue=we,e.setErrorHandler=function(e){E("function"==typeof e||void 0===e,"The error handler must be a function or undefined, but got %o.",e),T=e},e.setEventAttributeValue=Ce,e.setWarningHandler=function(e){E("function"==typeof e||void 0===e,"The warning handler must be a function or undefined, but got %o.",e),M=e},Object.defineProperty(e,"__esModule",{value:!0})}));var webtreemap=function(e){const t="webtreemap-node";function o(e){return e.classList.contains(t)}function i(e){let t=0,i=e;for(;i=i.previousElementSibling;)o(i)&&t++;return t}function s(e){let t=[],s=e;for(;s&&o(s);)t.unshift(i(s)),s=s.parentElement;return t.shift(),t}function n(e){return Math.round(e)+"px"}class a{constructor(e,t){this.node=e,this.options=function(e){const t={padding:e.padding||[14,3,3,3],spacing:e.spacing||0,lowerBound:void 0===e.lowerBound?.1:e.lowerBound,applyMutations:e.applyMutations||(()=>null),caption:e.caption||(e=>e.id||""),showNode:e.showNode||((e,o,i)=>o>20&&i>=t.padding[0]),showChildren:e.showChildren||((e,t,o)=>t>40&&o>40)};return t}(t)}ensureDOM(e){if(e.dom)return e.dom;const o=document.createElement("div");if(o.className=t,o.setAttribute("role","treeitem"),o.tabIndex=-1,this.options.caption){const t=document.createElement("div");t.className="webtreemap-caption",t.textContent=this.options.caption(e),o.appendChild(t)}return e.dom=o,this.options.applyMutations(e),o}selectSpan(e,t,o){let i=e[o].size,s=i,n=0,a=0,l=o;for(;l<e.length;l++){const o=e[l].size;o<i&&(i=o),o>s&&(s=o);const r=n+o,u=Math.max(s*t*t/(r*r),r*r/(i*t*t));if(a&&u>a)break;a=u,n=r}return{end:l,sum:n}}layoutChildren(e,t,o,i){const s=e.size,a=e.children;if(!a)return;let l=-1,r=-1,u=o-1,c=i-1;const d=this.options.spacing,m=this.options.padding;r+=m[0],m[1]&&(u-=m[1]+1),c-=m[2],l+=m[3];let h=0;if(this.options.showChildren(e,u-l,c-r)){const o=Math.sqrt(s/((u-l)*(c-r)));var p=l,g=r;e:for(let i=0;i<a.length;){p=l;const r=o*(u-l),{end:c,sum:m}=this.selectSpan(a,r,i);if(m/s<this.options.lowerBound)break;const f=m/r,b=Math.round(f/o)+1;for(h=i;h<c;h++){const i=a[h],s=i.size/f,l=Math.round(s/o)+1;if(!this.options.showNode(i,l-d,b-d))break e;const r=null==i.dom,u=this.ensureDOM(i),c=u.style;c.left=n(p),c.width=n(l-d),c.top=n(g),c.height=n(b-d),u.setAttribute("aria-level",(t+1).toString()),r&&e.dom.appendChild(u),this.associateCaptionWithLabelledBy(u),this.layoutChildren(i,t+1,l,b),p+=l-1}g+=b-1,i=c}}for(;h<a.length&&a[h].dom;h++)a[h].dom.parentNode.removeChild(a[h].dom),a[h].dom=void 0}render(e){const t=this.ensureDOM(this.node);t.onclick=e=>{let t=e.target;for(;!o(t);)if(t=t.parentElement,!t)return;let i=s(t);this.zoom(i)},t.onkeydown=e=>{if(!(e.target instanceof HTMLElement))return;let o;switch(e.key){case"Enter":const i=s(e.target);return void this.zoom(i);case"ArrowUp":if(o=e.target.parentElement,o===t.parentElement)return;break;case"ArrowDown":o=e.target.querySelector(".webtreemap-node");break;case"ArrowLeft":o=e.target.previousElementSibling;break;case"ArrowRight":o=e.target.nextElementSibling}if(!o)return;if(!o.matches(".webtreemap-node"))return;o=o;const i=Array.from(t.querySelectorAll('*[tabindex="0"]'));for(const e of i)e.tabIndex=-1;e.preventDefault(),o.tabIndex=0,o.focus()},e.appendChild(t),this.layout(this.node,e),this.associateCaptionWithLabelledBy(t),t.tabIndex=0,t.setAttribute("role","tree")}layout(e,t){const o=t.offsetWidth,i=t.offsetHeight;e.dom.style.width=o+"px",e.dom.style.height=i+"px",this.layoutChildren(this.node,0,o,i)}zoom(e){let t=this.node;const[o,i,s,a]=this.options.padding;let l=t.dom.offsetWidth,r=t.dom.offsetHeight;for(const u of e){if(l-=a+i,r-=o+s,!t.children)throw new Error("bad address");for(const e of t.children)e.dom&&(e.dom.style.zIndex="0");t=t.children[u];const e=t.dom.style;e.zIndex="1",e.left=n(a-1),e.width=n(l),e.top=n(o-1),e.height=n(r)}this.layoutChildren(t,0,l,r)}associateCaptionWithLabelledBy(e){const t="_wtm-cap-"+s(e).join("-");e.firstElementChild.id=t,e.setAttribute("aria-labelledby",t)}}return e.TreeMap=a,e.flatten=function e(t,o=((e,t)=>`${e}/${t}`)){if(t.children){for(const i of t.children)e(i,o);if(1===t.children.length){const e=t.children[0];t.id+="/"+e.id,t.children=e.children}}},e.getAddress=s,e.isDOMNode=o,e.render=function(e,t,o){new a(t,o).render(e)},e.rollup=function e(t){if(!t.children)return;let o=0;for(const i of t.children)e(i),o+=i.size;o>t.size&&(t.size=o)},e.sort=function e(t){if(t.children){for(const o of t.children)e(o);t.children.sort(((e,t)=>t.size-e.size))}},e.treeify=function(e){const t={size:0};for(const[o,i]of e){const e=o.replace(/\/$/,"").split("/");let s=t;for(;e.length>0;){const t=e.shift();s.children||(s.children=[]);let n=s.children.find((e=>e.id===t));if(n||(n={id:t,size:0},s.children.push(n)),0===e.length){if(0!==n.size)throw new Error(`duplicate path ${o} ${n.size}`);n.size=i}s=n}}return t},e}({}),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),o=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var i=arguments[1],s=0;s<o;){var n=t[s];if(e.call(i,n,s,t))return s;s++}return-1}}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),o=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var i=arguments[1],s=0;s<o;){var n=t[s];if(e.call(i,n,s,t))return n;s++}}}),String.prototype.includes||(String.prototype.includes=function(e,t){if(e instanceof RegExp)throw TypeError("first argument must not be a RegExp");return void 0===t&&(t=0),-1!==this.indexOf(e,t)}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var o=Object(this),i=o.length>>>0;if(0===i)return!1;var s,n,a=0|t,l=Math.max(a>=0?a:i-Math.abs(a),0);for(;l<i;){if((s=o[l])===(n=e)||"number"==typeof s&&"number"==typeof n&&isNaN(s)&&isNaN(n))return!0;l++}return!1}}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(e),i=1;i<arguments.length;i++){var s=arguments[i];if(null!=s)for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(o[n]=s[n])}return o},writable:!0,configurable:!0});var ColumnManager=function(e){this.table=e,this.blockHozScrollEvent=!1,this.headersElement=this.createHeadersElement(),this.element=this.createHeaderElement(),this.rowManager=null,this.columns=[],this.columnsByIndex=[],this.columnsByField={},this.scrollLeft=0,this.element.insertBefore(this.headersElement,this.element.firstChild)};ColumnManager.prototype.createHeadersElement=function(){var e=document.createElement("div");return e.classList.add("tabulator-headers"),e},ColumnManager.prototype.createHeaderElement=function(){var e=document.createElement("div");return e.classList.add("tabulator-header"),this.table.options.headerVisible||e.classList.add("tabulator-header-hidden"),e},ColumnManager.prototype.initialize=function(){},ColumnManager.prototype.setRowManager=function(e){this.rowManager=e},ColumnManager.prototype.getElement=function(){return this.element},ColumnManager.prototype.getHeadersElement=function(){return this.headersElement},ColumnManager.prototype.scrollHorizontal=function(e){var t=0,o=this.element.scrollWidth-this.table.element.clientWidth;this.element.scrollLeft=e,e>o?(t=e-o,this.element.style.marginLeft=-t+"px"):this.element.style.marginLeft=0,this.scrollLeft=e,this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.scrollHorizontal()},ColumnManager.prototype.generateColumnsFromRowData=function(e){var t,o,i=[],s=this.table.options.autoColumnsDefinitions;if(e&&e.length){for(var n in t=e[0]){var a={field:n,title:n},l=t[n];switch(void 0===l?"undefined":_typeof(l)){case"undefined":o="string";break;case"boolean":o="boolean";break;case"object":o=Array.isArray(l)?"array":"string";break;default:o=isNaN(l)||""===l?l.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)?"alphanum":"string":"number"}a.sorter=o,i.push(a)}if(s)switch(void 0===s?"undefined":_typeof(s)){case"function":this.table.options.columns=s.call(this.table,i);break;case"object":Array.isArray(s)?i.forEach((function(e){var t=s.find((function(t){return t.field===e.field}));t&&Object.assign(e,t)})):i.forEach((function(e){s[e.field]&&Object.assign(e,s[e.field])})),this.table.options.columns=i}else this.table.options.columns=i;this.setColumns(this.table.options.columns)}},ColumnManager.prototype.setColumns=function(e,t){for(var o=this;o.headersElement.firstChild;)o.headersElement.removeChild(o.headersElement.firstChild);o.columns=[],o.columnsByIndex=[],o.columnsByField={},o.table.modExists("frozenColumns")&&o.table.modules.frozenColumns.reset(),e.forEach((function(e,t){o._addColumn(e)})),o._reIndexColumns(),o.table.options.responsiveLayout&&o.table.modExists("responsiveLayout",!0)&&o.table.modules.responsiveLayout.initialize(),this.table.options.virtualDomHoz&&this.table.vdomHoz.reinitialize(!1,!0),o.redraw(!0)},ColumnManager.prototype._addColumn=function(e,t,o){var i=new Column(e,this),s=i.getElement(),n=o?this.findColumnIndex(o):o;if(o&&n>-1){var a=this.columns.indexOf(o.getTopColumn()),l=o.getElement();t?(this.columns.splice(a,0,i),l.parentNode.insertBefore(s,l)):(this.columns.splice(a+1,0,i),l.parentNode.insertBefore(s,l.nextSibling))}else t?(this.columns.unshift(i),this.headersElement.insertBefore(i.getElement(),this.headersElement.firstChild)):(this.columns.push(i),this.headersElement.appendChild(i.getElement())),i.columnRendered();return i},ColumnManager.prototype.registerColumnField=function(e){e.definition.field&&(this.columnsByField[e.definition.field]=e)},ColumnManager.prototype.registerColumnPosition=function(e){this.columnsByIndex.push(e)},ColumnManager.prototype._reIndexColumns=function(){this.columnsByIndex=[],this.columns.forEach((function(e){e.reRegisterPosition()}))},ColumnManager.prototype._verticalAlignHeaders=function(){var e=this,t=0;e.columns.forEach((function(e){var o;e.clearVerticalAlign(),(o=e.getHeight())>t&&(t=o)})),e.columns.forEach((function(o){o.verticalAlign(e.table.options.columnHeaderVertAlign,t)})),e.rowManager.adjustTableSize()},ColumnManager.prototype.findColumn=function(e){return"object"!=(void 0===e?"undefined":_typeof(e))?this.columnsByField[e]||!1:e instanceof Column?e:e instanceof ColumnComponent?e._getSelf()||!1:"undefined"!=typeof HTMLElement&&e instanceof HTMLElement&&this.columns.find((function(t){return t.element===e}))||!1},ColumnManager.prototype.getColumnByField=function(e){return this.columnsByField[e]},ColumnManager.prototype.getColumnsByFieldRoot=function(e){var t=this,o=[];return Object.keys(this.columnsByField).forEach((function(i){i.split(".")[0]===e&&o.push(t.columnsByField[i])})),o},ColumnManager.prototype.getColumnByIndex=function(e){return this.columnsByIndex[e]},ColumnManager.prototype.getFirstVisibileColumn=function(e){return(e=this.columnsByIndex.findIndex((function(e){return e.visible})))>-1&&this.columnsByIndex[e]},ColumnManager.prototype.getColumns=function(){return this.columns},ColumnManager.prototype.findColumnIndex=function(e){return this.columnsByIndex.findIndex((function(t){return e===t}))},ColumnManager.prototype.getRealColumns=function(){return this.columnsByIndex},ColumnManager.prototype.traverse=function(e){this.columnsByIndex.forEach((function(t,o){e(t,o)}))},ColumnManager.prototype.getDefinitions=function(e){var t=[];return this.columnsByIndex.forEach((function(o){(!e||e&&o.visible)&&t.push(o.getDefinition())})),t},ColumnManager.prototype.getDefinitionTree=function(){var e=[];return this.columns.forEach((function(t){e.push(t.getDefinition(!0))})),e},ColumnManager.prototype.getComponents=function(e){var t=[];return(e?this.columns:this.columnsByIndex).forEach((function(e){t.push(e.getComponent())})),t},ColumnManager.prototype.getWidth=function(){var e=0;return this.columnsByIndex.forEach((function(t){t.visible&&(e+=t.getWidth())})),e},ColumnManager.prototype.moveColumn=function(e,t,o){this.moveColumnActual(e,t,o),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.initialize(),this.table.modExists("columnCalcs")&&this.table.modules.columnCalcs.recalc(this.table.rowManager.activeRows),t.element.parentNode.insertBefore(e.element,t.element),o&&t.element.parentNode.insertBefore(t.element,e.element),this._verticalAlignHeaders(),this.table.rowManager.reinitialize()},ColumnManager.prototype.moveColumnActual=function(e,t,o){e.parent.isGroup?this._moveColumnInArray(e.parent.columns,e,t,o):this._moveColumnInArray(this.columns,e,t,o),this._moveColumnInArray(this.columnsByIndex,e,t,o,!0),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.initialize(),this.table.options.virtualDomHoz&&this.table.vdomHoz.reinitialize(!0),this.table.options.columnMoved&&this.table.options.columnMoved.call(this.table,e.getComponent(),this.table.columnManager.getComponents()),this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.columns&&this.table.modules.persistence.save("columns")},ColumnManager.prototype._moveColumnInArray=function(e,t,o,i,s){var n,a=this,l=e.indexOf(t),r=[];l>-1&&(e.splice(l,1),(n=e.indexOf(o))>-1?i&&(n+=1):n=l,e.splice(n,0,t),s&&(this.table.options.dataTree&&this.table.modExists("dataTree",!0)&&this.table.rowManager.rows.forEach((function(e){r=r.concat(a.table.modules.dataTree.getTreeChildren(e,!1,!0))})),(r=r.concat(this.table.rowManager.rows)).forEach((function(e){if(e.cells.length){var t=e.cells.splice(l,1)[0];e.cells.splice(n,0,t)}}))))},ColumnManager.prototype.scrollToColumn=function(e,t,o){var i=this,s=0,n=0,a=0,l=e.getElement();return new Promise((function(r,u){if(void 0===t&&(t=i.table.options.scrollToColumnPosition),void 0===o&&(o=i.table.options.scrollToColumnIfVisible),e.visible){switch(t){case"middle":case"center":a=-i.element.clientWidth/2;break;case"right":a=l.clientWidth-i.headersElement.clientWidth}if(!o&&(n=l.offsetLeft)>0&&n+l.offsetWidth<i.element.clientWidth)return!1;s=l.offsetLeft+a,s=Math.max(Math.min(s,i.table.rowManager.element.scrollWidth-i.table.rowManager.element.clientWidth),0),i.table.rowManager.scrollHorizontal(s),i.scrollHorizontal(s),r()}else console.warn("Scroll Error - Column not visible"),u("Scroll Error - Column not visible")}))},ColumnManager.prototype.generateCells=function(e){var t=[];return this.columnsByIndex.forEach((function(o){t.push(o.generateCell(e))})),t},ColumnManager.prototype.getFlexBaseWidth=function(){var e=this,t=e.table.element.clientWidth,o=0;return e.rowManager.element.scrollHeight>e.rowManager.element.clientHeight&&(t-=e.rowManager.element.offsetWidth-e.rowManager.element.clientWidth),this.columnsByIndex.forEach((function(i){var s,n,a;i.visible&&(s=i.definition.width||0,n=void 0===i.minWidth?e.table.options.columnMinWidth:parseInt(i.minWidth),a="string"==typeof s?s.indexOf("%")>-1?t/100*parseInt(s):parseInt(s):s,o+=a>n?a:n)})),o},ColumnManager.prototype.addColumn=function(e,t,o){var i=this;return new Promise((function(s,n){var a=i._addColumn(e,t,o);i._reIndexColumns(),i.table.options.responsiveLayout&&i.table.modExists("responsiveLayout",!0)&&i.table.modules.responsiveLayout.initialize(),i.table.modExists("columnCalcs")&&i.table.modules.columnCalcs.recalc(i.table.rowManager.activeRows),i.redraw(!0),"fitColumns"!=i.table.modules.layout.getMode()&&a.reinitializeWidth(),i._verticalAlignHeaders(),i.table.rowManager.reinitialize(),i.table.options.virtualDomHoz&&i.table.vdomHoz.reinitialize(),s(a)}))},ColumnManager.prototype.deregisterColumn=function(e){var t,o=e.getField();o&&delete this.columnsByField[o],(t=this.columnsByIndex.indexOf(e))>-1&&this.columnsByIndex.splice(t,1),(t=this.columns.indexOf(e))>-1&&this.columns.splice(t,1),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.initialize(),this._verticalAlignHeaders(),this.redraw()},ColumnManager.prototype.redraw=function(e){e&&(Tabulator.prototype.helpers.elVisible(this.element)&&this._verticalAlignHeaders(),this.table.rowManager.resetScroll(),this.table.rowManager.reinitialize()),["fitColumns","fitDataStretch"].indexOf(this.table.modules.layout.getMode())>-1||e?this.table.modules.layout.layout():this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update(),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layout(),this.table.modExists("columnCalcs")&&this.table.modules.columnCalcs.recalc(this.table.rowManager.activeRows),e&&(this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.columns&&this.table.modules.persistence.save("columns"),this.table.modExists("columnCalcs")&&this.table.modules.columnCalcs.redraw()),this.table.footerManager.redraw()};var ColumnComponent=function(e){this._column=e,this.type="ColumnComponent"};ColumnComponent.prototype.getElement=function(){return this._column.getElement()},ColumnComponent.prototype.getDefinition=function(){return this._column.getDefinition()},ColumnComponent.prototype.getField=function(){return this._column.getField()},ColumnComponent.prototype.getCells=function(){var e=[];return this._column.cells.forEach((function(t){e.push(t.getComponent())})),e},ColumnComponent.prototype.getVisibility=function(){return console.warn("getVisibility function is deprecated, you should now use the isVisible function"),this._column.visible},ColumnComponent.prototype.isVisible=function(){return this._column.visible},ColumnComponent.prototype.show=function(){this._column.isGroup?this._column.columns.forEach((function(e){e.show()})):this._column.show()},ColumnComponent.prototype.hide=function(){this._column.isGroup?this._column.columns.forEach((function(e){e.hide()})):this._column.hide()},ColumnComponent.prototype.toggle=function(){this._column.visible?this.hide():this.show()},ColumnComponent.prototype.delete=function(){return this._column.delete()},ColumnComponent.prototype.getSubColumns=function(){var e=[];return this._column.columns.length&&this._column.columns.forEach((function(t){e.push(t.getComponent())})),e},ColumnComponent.prototype.getParentColumn=function(){return this._column.parent instanceof Column&&this._column.parent.getComponent()},ColumnComponent.prototype._getSelf=function(){return this._column},ColumnComponent.prototype.scrollTo=function(){return this._column.table.columnManager.scrollToColumn(this._column)},ColumnComponent.prototype.getTable=function(){return this._column.table},ColumnComponent.prototype.headerFilterFocus=function(){this._column.table.modExists("filter",!0)&&this._column.table.modules.filter.setHeaderFilterFocus(this._column)},ColumnComponent.prototype.reloadHeaderFilter=function(){this._column.table.modExists("filter",!0)&&this._column.table.modules.filter.reloadHeaderFilter(this._column)},ColumnComponent.prototype.getHeaderFilterValue=function(){if(this._column.table.modExists("filter",!0))return this._column.table.modules.filter.getHeaderFilterValue(this._column)},ColumnComponent.prototype.setHeaderFilterValue=function(e){this._column.table.modExists("filter",!0)&&this._column.table.modules.filter.setHeaderFilterValue(this._column,e)},ColumnComponent.prototype.move=function(e,t){var o=this._column.table.columnManager.findColumn(e);o?this._column.table.columnManager.moveColumn(this._column,o,t):console.warn("Move Error - No matching column found:",o)},ColumnComponent.prototype.getNextColumn=function(){var e=this._column.nextColumn();return!!e&&e.getComponent()},ColumnComponent.prototype.getPrevColumn=function(){var e=this._column.prevColumn();return!!e&&e.getComponent()},ColumnComponent.prototype.updateDefinition=function(e){return this._column.updateDefinition(e)},ColumnComponent.prototype.getWidth=function(){return this._column.getWidth()},ColumnComponent.prototype.setWidth=function(e){var t;return t=!0===e?this._column.reinitializeWidth(!0):this._column.setWidth(e),this._column.table.options.virtualDomHoz&&this._column.table.vdomHoz.reinitialize(!0),t},ColumnComponent.prototype.validate=function(){return this._column.validate()};var Column=function e(t,o){var i=this;this.table=o.table,this.definition=t,this.parent=o,this.type="column",this.columns=[],this.cells=[],this.element=this.createElement(),this.contentElement=!1,this.titleHolderElement=!1,this.titleElement=!1,this.groupElement=this.createGroupElement(),this.isGroup=!1,this.tooltip=!1,this.hozAlign="",this.vertAlign="",this.field="",this.fieldStructure="",this.getFieldValue="",this.setFieldValue="",this.titleFormatterRendered=!1,this.setField(this.definition.field),this.table.options.invalidOptionWarnings&&this.checkDefinition(),this.modules={},this.cellEvents={cellClick:!1,cellDblClick:!1,cellContext:!1,cellTap:!1,cellDblTap:!1,cellTapHold:!1,cellMouseEnter:!1,cellMouseLeave:!1,cellMouseOver:!1,cellMouseOut:!1,cellMouseMove:!1},this.width=null,this.widthStyled="",this.maxWidth=null,this.maxWidthStyled="",this.minWidth=null,this.minWidthStyled="",this.widthFixed=!1,this.visible=!0,this.component=null,this._mapDepricatedFunctionality(),t.columns?(this.isGroup=!0,t.columns.forEach((function(t,o){var s=new e(t,i);i.attachColumn(s)})),i.checkColumnVisibility()):o.registerColumnField(this),t.rowHandle&&!1!==this.table.options.movableRows&&this.table.modExists("moveRow")&&this.table.modules.moveRow.setHandle(!0),this._buildHeader(),this.bindModuleColumns()};Column.prototype.createElement=function(){var e=document.createElement("div");return e.classList.add("tabulator-col"),e.setAttribute("role","columnheader"),e.setAttribute("aria-sort","none"),e},Column.prototype.createGroupElement=function(){var e=document.createElement("div");return e.classList.add("tabulator-col-group-cols"),e},Column.prototype.checkDefinition=function(){var e=this;Object.keys(this.definition).forEach((function(t){-1===e.defaultOptionList.indexOf(t)&&console.warn("Invalid column definition option in '"+(e.field||e.definition.title)+"' column:",t)}))},Column.prototype.setField=function(e){this.field=e,this.fieldStructure=e?this.table.options.nestedFieldSeparator?e.split(this.table.options.nestedFieldSeparator):[e]:[],this.getFieldValue=this.fieldStructure.length>1?this._getNestedData:this._getFlatData,this.setFieldValue=this.fieldStructure.length>1?this._setNestedData:this._setFlatData},Column.prototype.registerColumnPosition=function(e){this.parent.registerColumnPosition(e)},Column.prototype.registerColumnField=function(e){this.parent.registerColumnField(e)},Column.prototype.reRegisterPosition=function(){this.isGroup?this.columns.forEach((function(e){e.reRegisterPosition()})):this.registerColumnPosition(this)},Column.prototype._mapDepricatedFunctionality=function(){void 0!==this.definition.hideInHtml&&(this.definition.htmlOutput=!this.definition.hideInHtml,console.warn("hideInHtml column definition property is deprecated, you should now use htmlOutput")),void 0!==this.definition.align&&(this.definition.hozAlign=this.definition.align,console.warn("align column definition property is deprecated, you should now use hozAlign")),void 0!==this.definition.downloadTitle&&(this.definition.titleDownload=this.definition.downloadTitle,console.warn("downloadTitle definition property is deprecated, you should now use titleDownload"))},Column.prototype.setTooltip=function(){var e=this,t=e.definition,o=t.headerTooltip||!1===t.tooltip?t.headerTooltip:e.table.options.tooltipsHeader;o?!0===o?t.field?e.table.modules.localize.bind("columns|"+t.field,(function(o){e.element.setAttribute("title",o||t.title)})):e.element.setAttribute("title",t.title):("function"==typeof o&&!1===(o=o(e.getComponent()))&&(o=""),e.element.setAttribute("title",o)):e.element.setAttribute("title","")},Column.prototype._buildHeader=function(){for(var e=this,t=e.definition;e.element.firstChild;)e.element.removeChild(e.element.firstChild);t.headerVertical&&(e.element.classList.add("tabulator-col-vertical"),"flip"===t.headerVertical&&e.element.classList.add("tabulator-col-vertical-flip")),e.contentElement=e._bindEvents(),e.contentElement=e._buildColumnHeaderContent(),e.element.appendChild(e.contentElement),e.isGroup?e._buildGroupHeader():e._buildColumnHeader(),e.setTooltip(),e.table.options.resizableColumns&&e.table.modExists("resizeColumns")&&e.table.modules.resizeColumns.initializeColumn("header",e,e.element),t.headerFilter&&e.table.modExists("filter")&&e.table.modExists("edit")&&(void 0!==t.headerFilterPlaceholder&&t.field&&e.table.modules.localize.setHeaderFilterColumnPlaceholder(t.field,t.headerFilterPlaceholder),e.table.modules.filter.initializeColumn(e)),e.table.modExists("frozenColumns")&&e.table.modules.frozenColumns.initializeColumn(e),e.table.options.movableColumns&&!e.isGroup&&e.table.modExists("moveColumn")&&e.table.modules.moveColumn.initializeColumn(e),(t.topCalc||t.bottomCalc)&&e.table.modExists("columnCalcs")&&e.table.modules.columnCalcs.initializeColumn(e),e.table.modExists("persistence")&&e.table.modules.persistence.config.columns&&e.table.modules.persistence.initializeColumn(e),e.element.addEventListener("mouseenter",(function(t){e.setTooltip()}))},Column.prototype._bindEvents=function(){var e,t,o,i=this,s=i.definition;"function"==typeof s.headerClick&&i.element.addEventListener("click",(function(e){s.headerClick(e,i.getComponent())})),"function"==typeof s.headerDblClick&&i.element.addEventListener("dblclick",(function(e){s.headerDblClick(e,i.getComponent())})),"function"==typeof s.headerContext&&i.element.addEventListener("contextmenu",(function(e){s.headerContext(e,i.getComponent())})),"function"==typeof s.headerTap&&(o=!1,i.element.addEventListener("touchstart",(function(e){o=!0}),{passive:!0}),i.element.addEventListener("touchend",(function(e){o&&s.headerTap(e,i.getComponent()),o=!1}))),"function"==typeof s.headerDblTap&&(e=null,i.element.addEventListener("touchend",(function(t){e?(clearTimeout(e),e=null,s.headerDblTap(t,i.getComponent())):e=setTimeout((function(){clearTimeout(e),e=null}),300)}))),"function"==typeof s.headerTapHold&&(t=null,i.element.addEventListener("touchstart",(function(e){clearTimeout(t),t=setTimeout((function(){clearTimeout(t),t=null,o=!1,s.headerTapHold(e,i.getComponent())}),1e3)}),{passive:!0}),i.element.addEventListener("touchend",(function(e){clearTimeout(t),t=null}))),"function"==typeof s.cellClick&&(i.cellEvents.cellClick=s.cellClick),"function"==typeof s.cellDblClick&&(i.cellEvents.cellDblClick=s.cellDblClick),"function"==typeof s.cellContext&&(i.cellEvents.cellContext=s.cellContext),"function"==typeof s.cellMouseEnter&&(i.cellEvents.cellMouseEnter=s.cellMouseEnter),"function"==typeof s.cellMouseLeave&&(i.cellEvents.cellMouseLeave=s.cellMouseLeave),"function"==typeof s.cellMouseOver&&(i.cellEvents.cellMouseOver=s.cellMouseOver),"function"==typeof s.cellMouseOut&&(i.cellEvents.cellMouseOut=s.cellMouseOut),"function"==typeof s.cellMouseMove&&(i.cellEvents.cellMouseMove=s.cellMouseMove),"function"==typeof s.cellTap&&(i.cellEvents.cellTap=s.cellTap),"function"==typeof s.cellDblTap&&(i.cellEvents.cellDblTap=s.cellDblTap),"function"==typeof s.cellTapHold&&(i.cellEvents.cellTapHold=s.cellTapHold),"function"==typeof s.cellEdited&&(i.cellEvents.cellEdited=s.cellEdited),"function"==typeof s.cellEditing&&(i.cellEvents.cellEditing=s.cellEditing),"function"==typeof s.cellEditCancelled&&(i.cellEvents.cellEditCancelled=s.cellEditCancelled)},Column.prototype._buildColumnHeader=function(){var e=this,t=this.definition,o=this.table;(o.modExists("sort")&&o.modules.sort.initializeColumn(this,this.titleHolderElement),(t.headerContextMenu||t.headerClickMenu||t.headerMenu)&&o.modExists("menu")&&o.modules.menu.initializeColumnHeader(this),o.modExists("format")&&o.modules.format.initializeColumn(this),void 0!==t.editor&&o.modExists("edit")&&o.modules.edit.initializeColumn(this),void 0!==t.validator&&o.modExists("validate")&&o.modules.validate.initializeColumn(this),o.modExists("mutator")&&o.modules.mutator.initializeColumn(this),o.modExists("accessor")&&o.modules.accessor.initializeColumn(this),_typeof(o.options.responsiveLayout)&&o.modExists("responsiveLayout")&&o.modules.responsiveLayout.initializeColumn(this),void 0!==t.visible&&(t.visible?this.show(!0):this.hide(!0)),t.cssClass)&&t.cssClass.split(" ").forEach((function(t){e.element.classList.add(t)}));t.field&&this.element.setAttribute("tabulator-field",t.field),this.setMinWidth(void 0===t.minWidth?this.table.options.columnMinWidth:parseInt(t.minWidth)),(t.maxWidth||this.table.options.columnMaxWidth)&&!1!==t.maxWidth&&this.setMaxWidth(void 0===t.maxWidth?this.table.options.columnMaxWidth:parseInt(t.maxWidth)),this.reinitializeWidth(),this.tooltip=this.definition.tooltip||!1===this.definition.tooltip?this.definition.tooltip:this.table.options.tooltips,this.hozAlign=void 0===this.definition.hozAlign?this.table.options.cellHozAlign:this.definition.hozAlign,this.vertAlign=void 0===this.definition.vertAlign?this.table.options.cellVertAlign:this.definition.vertAlign,this.titleElement.style.textAlign=this.definition.headerHozAlign||this.table.options.headerHozAlign},Column.prototype._buildColumnHeaderContent=function(){this.definition,this.table;var e=document.createElement("div");return e.classList.add("tabulator-col-content"),this.titleHolderElement=document.createElement("div"),this.titleHolderElement.classList.add("tabulator-col-title-holder"),e.appendChild(this.titleHolderElement),this.titleElement=this._buildColumnHeaderTitle(),this.titleHolderElement.appendChild(this.titleElement),e},Column.prototype._buildColumnHeaderTitle=function(){var e=this,t=e.definition,o=e.table,i=document.createElement("div");if(i.classList.add("tabulator-col-title"),t.editableTitle){var s=document.createElement("input");s.classList.add("tabulator-title-editor"),s.addEventListener("click",(function(e){e.stopPropagation(),s.focus()})),s.addEventListener("change",(function(){t.title=s.value,o.options.columnTitleChanged.call(e.table,e.getComponent())})),i.appendChild(s),t.field?o.modules.localize.bind("columns|"+t.field,(function(e){s.value=e||t.title||"&nbsp;"})):s.value=t.title||"&nbsp;"}else t.field?o.modules.localize.bind("columns|"+t.field,(function(o){e._formatColumnHeaderTitle(i,o||t.title||"&nbsp;")})):e._formatColumnHeaderTitle(i,t.title||"&nbsp;");return i},Column.prototype._formatColumnHeaderTitle=function(e,t){var o,i,s,n,a,l=this;if(this.definition.titleFormatter&&this.table.modExists("format"))switch(o=this.table.modules.format.getFormatter(this.definition.titleFormatter),a=function(e){l.titleFormatterRendered=e},n={getValue:function(){return t},getElement:function(){return e}},s="function"==typeof(s=this.definition.titleFormatterParams||{})?s():s,void 0===(i=o.call(this.table.modules.format,n,s,a))?"undefined":_typeof(i)){case"object":i instanceof Node?e.appendChild(i):(e.innerHTML="",console.warn("Format Error - Title formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",i));break;case"undefined":case"null":e.innerHTML="";break;default:e.innerHTML=i}else e.innerHTML=t},Column.prototype._buildGroupHeader=function(){var e=this;(this.element.classList.add("tabulator-col-group"),this.element.setAttribute("role","columngroup"),this.element.setAttribute("aria-title",this.definition.title),this.definition.cssClass)&&this.definition.cssClass.split(" ").forEach((function(t){e.element.classList.add(t)}));(this.definition.headerContextMenu||this.definition.headerMenu)&&this.table.modExists("menu")&&this.table.modules.menu.initializeColumnHeader(this),this.titleElement.style.textAlign=this.definition.headerHozAlign||this.table.options.headerHozAlign,this.element.appendChild(this.groupElement)},Column.prototype._getFlatData=function(e){return e[this.field]},Column.prototype._getNestedData=function(e){for(var t,o=e,i=this.fieldStructure,s=i.length,n=0;n<s&&(t=o=o[i[n]],o);n++);return t},Column.prototype._setFlatData=function(e,t){this.field&&(e[this.field]=t)},Column.prototype._setNestedData=function(e,t){for(var o=e,i=this.fieldStructure,s=i.length,n=0;n<s;n++)if(n==s-1)o[i[n]]=t;else{if(!o[i[n]]){if(void 0===t)break;o[i[n]]={}}o=o[i[n]]}},Column.prototype.attachColumn=function(e){var t=this;t.groupElement?(t.columns.push(e),t.groupElement.appendChild(e.getElement())):console.warn("Column Warning - Column being attached to another column instead of column group")},Column.prototype.verticalAlign=function(e,t){var o=this.parent.isGroup?this.parent.getGroupElement().clientHeight:t||this.parent.getHeadersElement().clientHeight;this.element.style.height=o+"px",this.isGroup&&(this.groupElement.style.minHeight=o-this.contentElement.offsetHeight+"px"),this.isGroup||"top"===e||(this.element.style.paddingTop="bottom"===e?this.element.clientHeight-this.contentElement.offsetHeight+"px":(this.element.clientHeight-this.contentElement.offsetHeight)/2+"px"),this.columns.forEach((function(t){t.verticalAlign(e)}))},Column.prototype.clearVerticalAlign=function(){this.element.style.paddingTop="",this.element.style.height="",this.element.style.minHeight="",this.groupElement.style.minHeight="",this.columns.forEach((function(e){e.clearVerticalAlign()}))},Column.prototype.bindModuleColumns=function(){"rownum"==this.definition.formatter&&(this.table.rowManager.rowNumColumn=this)},Column.prototype.getElement=function(){return this.element},Column.prototype.getGroupElement=function(){return this.groupElement},Column.prototype.getField=function(){return this.field},Column.prototype.getFirstColumn=function(){return this.isGroup?!!this.columns.length&&this.columns[0].getFirstColumn():this},Column.prototype.getLastColumn=function(){return this.isGroup?!!this.columns.length&&this.columns[this.columns.length-1].getLastColumn():this},Column.prototype.getColumns=function(){return this.columns},Column.prototype.getCells=function(){return this.cells},Column.prototype.getTopColumn=function(){return this.parent.isGroup?this.parent.getTopColumn():this},Column.prototype.getDefinition=function(e){var t=[];return this.isGroup&&e&&(this.columns.forEach((function(e){t.push(e.getDefinition(!0))})),this.definition.columns=t),this.definition},Column.prototype.checkColumnVisibility=function(){var e=!1;this.columns.forEach((function(t){t.visible&&(e=!0)})),e?(this.show(),this.parent.table.options.columnVisibilityChanged.call(this.table,this.getComponent(),!1)):this.hide()},Column.prototype.show=function(e,t){this.visible||(this.visible=!0,this.element.style.display="",this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach((function(e){e.show()})),this.isGroup||null!==this.width||this.reinitializeWidth(),this.table.columnManager._verticalAlignHeaders(),this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.columns&&this.table.modules.persistence.save("columns"),!t&&this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.updateColumnVisibility(this,this.visible),e||this.table.options.columnVisibilityChanged.call(this.table,this.getComponent(),!0),this.parent.isGroup&&this.parent.matchChildWidths(),!this.silent&&this.table.options.virtualDomHoz&&this.table.vdomHoz.reinitialize())},Column.prototype.hide=function(e,t){this.visible&&(this.visible=!1,this.element.style.display="none",this.table.columnManager._verticalAlignHeaders(),this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach((function(e){e.hide()})),this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.columns&&this.table.modules.persistence.save("columns"),!t&&this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.updateColumnVisibility(this,this.visible),e||this.table.options.columnVisibilityChanged.call(this.table,this.getComponent(),!1),this.parent.isGroup&&this.parent.matchChildWidths(),!this.silent&&this.table.options.virtualDomHoz&&this.table.vdomHoz.reinitialize())},Column.prototype.matchChildWidths=function(){var e=0;this.contentElement&&this.columns.length&&(this.columns.forEach((function(t){t.visible&&(e+=t.getWidth())})),this.contentElement.style.maxWidth=e-1+"px",this.parent.isGroup&&this.parent.matchChildWidths())},Column.prototype.removeChild=function(e){var t=this.columns.indexOf(e);t>-1&&this.columns.splice(t,1),this.columns.length||this.delete()},Column.prototype.setWidth=function(e){this.widthFixed=!0,this.setWidthActual(e)},Column.prototype.setWidthActual=function(e){isNaN(e)&&(e=Math.floor(this.table.element.clientWidth/100*parseInt(e))),e=Math.max(this.minWidth,e),this.maxWidth&&(e=Math.min(this.maxWidth,e)),this.width=e,this.widthStyled=e?e+"px":"",this.element.style.width=this.widthStyled,this.isGroup||this.cells.forEach((function(e){e.setWidth()})),this.parent.isGroup&&this.parent.matchChildWidths(),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layout()},Column.prototype.checkCellHeights=function(){var e=[];this.cells.forEach((function(t){t.row.heightInitialized&&(null!==t.row.getElement().offsetParent?(e.push(t.row),t.row.clearCellHeight()):t.row.heightInitialized=!1)})),e.forEach((function(e){e.calcHeight()})),e.forEach((function(e){e.setCellHeight()}))},Column.prototype.getWidth=function(){var e=0;return this.isGroup?this.columns.forEach((function(t){t.visible&&(e+=t.getWidth())})):e=this.width,e},Column.prototype.getHeight=function(){return this.element.offsetHeight},Column.prototype.setMinWidth=function(e){this.minWidth=e,this.minWidthStyled=e?e+"px":"",this.element.style.minWidth=this.minWidthStyled,this.cells.forEach((function(e){e.setMinWidth()}))},Column.prototype.setMaxWidth=function(e){this.maxWidth=e,this.maxWidthStyled=e?e+"px":"",this.element.style.maxWidth=this.maxWidthStyled,this.cells.forEach((function(e){e.setMaxWidth()}))},Column.prototype.delete=function(){var e=this;return new Promise((function(t,o){e.isGroup&&e.columns.forEach((function(e){e.delete()})),e.table.modExists("edit")&&e.table.modules.edit.currentCell.column===e&&e.table.modules.edit.cancelEdit();for(var i=e.cells.length,s=0;s<i;s++)e.cells[0].delete();e.element.parentNode&&e.element.parentNode.removeChild(e.element),e.element=!1,e.contentElement=!1,e.titleElement=!1,e.groupElement=!1,e.parent.isGroup&&e.parent.removeChild(e),e.table.columnManager.deregisterColumn(e),e.table.options.virtualDomHoz&&e.table.vdomHoz.reinitialize(!0),t()}))},Column.prototype.columnRendered=function(){this.titleFormatterRendered&&this.titleFormatterRendered()},Column.prototype.validate=function(){var e=[];return this.cells.forEach((function(t){t.validate()||e.push(t.getComponent())})),!e.length||e},Column.prototype.generateCell=function(e){var t=new Cell(this,e);return this.cells.push(t),t},Column.prototype.nextColumn=function(){var e=this.table.columnManager.findColumnIndex(this);return e>-1&&this._nextVisibleColumn(e+1)},Column.prototype._nextVisibleColumn=function(e){var t=this.table.columnManager.getColumnByIndex(e);return!t||t.visible?t:this._nextVisibleColumn(e+1)},Column.prototype.prevColumn=function(){var e=this.table.columnManager.findColumnIndex(this);return e>-1&&this._prevVisibleColumn(e-1)},Column.prototype._prevVisibleColumn=function(e){var t=this.table.columnManager.getColumnByIndex(e);return!t||t.visible?t:this._prevVisibleColumn(e-1)},Column.prototype.reinitializeWidth=function(e){this.widthFixed=!1,void 0===this.definition.width||e||this.setWidth(this.definition.width),this.table.modExists("filter")&&this.table.modules.filter.hideHeaderFilterElements(),this.fitToData(),this.table.modExists("filter")&&this.table.modules.filter.showHeaderFilterElements()},Column.prototype.fitToData=function(){var e=this;this.widthFixed||(this.element.style.width="",e.cells.forEach((function(e){e.clearWidth()})));var t=this.element.offsetWidth;e.width&&this.widthFixed||(e.cells.forEach((function(e){var o=e.getWidth();o>t&&(t=o)})),t&&e.setWidthActual(t+1))},Column.prototype.updateDefinition=function(e){var t=this;return new Promise((function(o,i){var s;t.isGroup||t.parent.isGroup?(console.warn("Column Update Error - The updateDefinition function is only available on ungrouped columns"),i("Column Update Error - The updateDefinition function is only available on columns, not column groups")):(s=Object.assign({},t.getDefinition()),s=Object.assign(s,e),t.table.columnManager.addColumn(s,!1,t).then((function(e){s.field==t.field&&(t.field=!1),t.delete().then((function(){o(e.getComponent())})).catch((function(e){i(e)}))})).catch((function(e){i(e)})))}))},Column.prototype.deleteCell=function(e){var t=this.cells.indexOf(e);t>-1&&this.cells.splice(t,1)},Column.prototype.defaultOptionList=["title","field","columns","visible","align","hozAlign","vertAlign","width","minWidth","maxWidth","widthGrow","widthShrink","resizable","frozen","responsive","tooltip","cssClass","rowHandle","hideInHtml","print","htmlOutput","sorter","sorterParams","formatter","formatterParams","variableHeight","editable","editor","editorParams","validator","mutator","mutatorParams","mutatorData","mutatorDataParams","mutatorEdit","mutatorEditParams","mutatorClipboard","mutatorClipboardParams","accessor","accessorParams","accessorData","accessorDataParams","accessorDownload","accessorDownloadParams","accessorClipboard","accessorClipboardParams","accessorPrint","accessorPrintParams","accessorHtmlOutput","accessorHtmlOutputParams","clipboard","download","downloadTitle","topCalc","topCalcParams","topCalcFormatter","topCalcFormatterParams","bottomCalc","bottomCalcParams","bottomCalcFormatter","bottomCalcFormatterParams","cellClick","cellDblClick","cellContext","cellTap","cellDblTap","cellTapHold","cellMouseEnter","cellMouseLeave","cellMouseOver","cellMouseOut","cellMouseMove","cellEditing","cellEdited","cellEditCancelled","headerSort","headerSortStartingDir","headerSortTristate","headerClick","headerDblClick","headerContext","headerTap","headerDblTap","headerTapHold","headerTooltip","headerVertical","headerHozAlign","editableTitle","titleFormatter","titleFormatterParams","headerFilter","headerFilterPlaceholder","headerFilterParams","headerFilterEmptyCheck","headerFilterFunc","headerFilterFuncParams","headerFilterLiveFilter","print","headerContextMenu","headerMenu","contextMenu","clickMenu","formatterPrint","formatterPrintParams","formatterClipboard","formatterClipboardParams","formatterHtmlOutput","formatterHtmlOutputParams","titlePrint","titleClipboard","titleHtmlOutput","titleDownload"],Column.prototype.getComponent=function(){return this.component||(this.component=new ColumnComponent(this)),this.component};var RowManager=function(e){this.table=e,this.element=this.createHolderElement(),this.tableElement=this.createTableElement(),this.heightFixer=this.createTableElement(),this.columnManager=null,this.height=0,this.firstRender=!1,this.renderMode="virtual",this.fixedHeight=!1,this.rows=[],this.activeRows=[],this.activeRowsCount=0,this.displayRows=[],this.displayRowsCount=0,this.scrollTop=0,this.scrollLeft=0,this.vDomRowHeight=20,this.vDomTop=0,this.vDomBottom=0,this.vDomScrollPosTop=0,this.vDomScrollPosBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0,this.vDomMaxRenderChain=90,this.vDomWindowBuffer=0,this.vDomWindowMinTotalRows=20,this.vDomWindowMinMarginRows=5,this.vDomTopNewRows=[],this.vDomBottomNewRows=[],this.rowNumColumn=!1,this.redrawBlock=!1,this.redrawBlockRestoreConfig=!1,this.redrawBlockRederInPosition=!1};RowManager.prototype.createHolderElement=function(){var e=document.createElement("div");return e.classList.add("tabulator-tableHolder"),e.setAttribute("tabindex",0),e},RowManager.prototype.createTableElement=function(){var e=document.createElement("div");return e.classList.add("tabulator-table"),e},RowManager.prototype.getElement=function(){return this.element},RowManager.prototype.getTableElement=function(){return this.tableElement},RowManager.prototype.getRowPosition=function(e,t){return t?this.activeRows.indexOf(e):this.rows.indexOf(e)},RowManager.prototype.setColumnManager=function(e){this.columnManager=e},RowManager.prototype.initialize=function(){var e=this;e.setRenderMode(),e.element.appendChild(e.tableElement),e.firstRender=!0,e.element.addEventListener("scroll",(function(){var t=e.element.scrollLeft;e.scrollLeft!=t&&(e.columnManager.scrollHorizontal(t),e.table.options.groupBy&&e.table.modules.groupRows.scrollHeaders(t),e.table.modExists("columnCalcs")&&e.table.modules.columnCalcs.scrollHorizontal(t),e.table.options.scrollHorizontal(t)),e.scrollLeft=t})),"virtual"===this.renderMode&&e.element.addEventListener("scroll",(function(){var t=e.element.scrollTop,o=e.scrollTop>t;e.scrollTop!=t?(e.scrollTop=t,e.scrollVertical(o),"scroll"==e.table.options.ajaxProgressiveLoad&&e.table.modules.ajax.nextPage(e.element.scrollHeight-e.element.clientHeight-t),e.table.options.scrollVertical(t)):e.scrollTop=t}))},RowManager.prototype.findRow=function(e){var t=this;return"object"!=(void 0===e?"undefined":_typeof(e))?null!=e&&(t.rows.find((function(o){return o.data[t.table.options.index]==e}))||!1):e instanceof Row?e:e instanceof RowComponent?e._getSelf()||!1:"undefined"!=typeof HTMLElement&&e instanceof HTMLElement&&t.rows.find((function(t){return t.getElement()===e}))||!1},RowManager.prototype.getRowFromDataObject=function(e){return this.rows.find((function(t){return t.data===e}))||!1},RowManager.prototype.getRowFromPosition=function(e,t){return t?this.activeRows[e]:this.rows[e]},RowManager.prototype.scrollToRow=function(e,t,o){var i,s=this,n=this.getDisplayRows().indexOf(e),a=e.getElement(),l=0;return new Promise((function(e,r){if(n>-1){if(void 0===t&&(t=s.table.options.scrollToRowPosition),void 0===o&&(o=s.table.options.scrollToRowIfVisible),"nearest"===t)switch(s.renderMode){case"classic":i=Tabulator.prototype.helpers.elOffset(a).top,t=Math.abs(s.element.scrollTop-i)>Math.abs(s.element.scrollTop+s.element.clientHeight-i)?"bottom":"top";break;case"virtual":t=Math.abs(s.vDomTop-n)>Math.abs(s.vDomBottom-n)?"bottom":"top"}if(!o&&Tabulator.prototype.helpers.elVisible(a)&&(l=Tabulator.prototype.helpers.elOffset(a).top-Tabulator.prototype.helpers.elOffset(s.element).top)>0&&l<s.element.clientHeight-a.offsetHeight)return!1;switch(s.renderMode){case"classic":s.element.scrollTop=Tabulator.prototype.helpers.elOffset(a).top-Tabulator.prototype.helpers.elOffset(s.element).top+s.element.scrollTop;break;case"virtual":s._virtualRenderFill(n,!0)}switch(t){case"middle":case"center":s.element.scrollHeight-s.element.scrollTop==s.element.clientHeight?s.element.scrollTop=s.element.scrollTop+(a.offsetTop-s.element.scrollTop)-(s.element.scrollHeight-a.offsetTop)/2:s.element.scrollTop=s.element.scrollTop-s.element.clientHeight/2;break;case"bottom":s.element.scrollHeight-s.element.scrollTop==s.element.clientHeight?s.element.scrollTop=s.element.scrollTop-(s.element.scrollHeight-a.offsetTop)+a.offsetHeight:s.element.scrollTop=s.element.scrollTop-s.element.clientHeight+a.offsetHeight}e()}else console.warn("Scroll Error - Row not visible"),r("Scroll Error - Row not visible")}))},RowManager.prototype.setData=function(e,t,o){var i=this,s=this;return new Promise((function(n,a){t&&i.getDisplayRows().length?s.table.options.pagination?s._setDataActual(e,!0):i.reRenderInPosition((function(){s._setDataActual(e)})):(i.table.options.autoColumns&&o&&i.table.columnManager.generateColumnsFromRowData(e),i.resetScroll(),i._setDataActual(e)),n()}))},RowManager.prototype._setDataActual=function(e,t){var o=this;o.table.options.dataLoading.call(this.table,e),this._wipeElements(),this.table.options.history&&this.table.modExists("history")&&this.table.modules.history.clear(),Array.isArray(e)?(this.table.modExists("selectRow")&&this.table.modules.selectRow.clearSelectionData(),this.table.options.reactiveData&&this.table.modExists("reactiveData",!0)&&this.table.modules.reactiveData.watchData(e),e.forEach((function(e,t){if(e&&"object"===(void 0===e?"undefined":_typeof(e))){var i=new Row(e,o);o.rows.push(i)}else console.warn("Data Loading Warning - Invalid row data detected and ignored, expecting object but received:",e)})),o.refreshActiveData(!1,!1,t),o.table.options.dataLoaded.call(this.table,e)):console.error("Data Loading Error - Unable to process data due to invalid data type \nExpecting: array \nReceived: ",void 0===e?"undefined":_typeof(e),"\nData:     ",e)},RowManager.prototype._wipeElements=function(){this.rows.forEach((function(e){e.wipe()})),this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.wipe(),this.rows=[],this.activeRows=[],this.activeRowsCount=0,this.displayRows=[],this.displayRowsCount=0,this.adjustTableSize()},RowManager.prototype.deleteRow=function(e,t){var o=this.rows.indexOf(e),i=this.activeRows.indexOf(e);i>-1&&this.activeRows.splice(i,1),o>-1&&this.rows.splice(o,1),this.setActiveRows(this.activeRows),this.displayRowIterator((function(t){var o=t.indexOf(e);o>-1&&t.splice(o,1)})),t||this.reRenderInPosition(),this.regenerateRowNumbers(),this.table.options.rowDeleted.call(this.table,e.getComponent()),this.table.options.dataChanged&&this.table.options.dataChanged.call(this.table,this.getData()),this.table.options.groupBy&&this.table.modExists("groupRows")?this.table.modules.groupRows.updateGroupRows(!0):this.table.options.pagination&&this.table.modExists("page")?this.refreshActiveData(!1,!1,!0):this.table.options.pagination&&this.table.modExists("page")&&this.refreshActiveData("page")},RowManager.prototype.addRow=function(e,t,o,i){var s=this.addRowActual(e,t,o,i);return this.table.options.history&&this.table.modExists("history")&&this.table.modules.history.action("rowAdd",s,{data:e,pos:t,index:o}),s},RowManager.prototype.addRows=function(e,t,o){var i=this,s=this,n=[];return new Promise((function(a,l){t=i.findAddRowPos(t),Array.isArray(e)||(e=[e]),e.length-1,(void 0===o&&t||void 0!==o&&!t)&&e.reverse(),e.forEach((function(e,i){var a=s.addRow(e,t,o,!0);n.push(a)})),i.table.options.groupBy&&i.table.modExists("groupRows")?i.table.modules.groupRows.updateGroupRows(!0):i.table.options.pagination&&i.table.modExists("page")?i.refreshActiveData(!1,!1,!0):i.reRenderInPosition(),i.table.modExists("columnCalcs")&&i.table.modules.columnCalcs.recalc(i.table.rowManager.activeRows),i.regenerateRowNumbers(),a(n)}))},RowManager.prototype.findAddRowPos=function(e){return void 0===e&&(e=this.table.options.addRowPos),"pos"===e&&(e=!0),"bottom"===e&&(e=!1),e},RowManager.prototype.addRowActual=function(e,t,o,i){var s,n,a=e instanceof Row?e:new Row(e||{},this),l=this.findAddRowPos(t),r=-1;if(!o&&this.table.options.pagination&&"page"==this.table.options.paginationAddRow&&(n=this.getDisplayRows(),l?n.length?o=n[0]:this.activeRows.length&&(o=this.activeRows[this.activeRows.length-1],l=!1):n.length&&(o=n[n.length-1],l=!(n.length<this.table.modules.page.getPageSize()))),void 0!==o&&(o=this.findRow(o)),this.table.options.groupBy&&this.table.modExists("groupRows")){this.table.modules.groupRows.assignRowToGroup(a);var u=a.getGroup().rows;u.length>1&&(!o||o&&-1==u.indexOf(o)?l?u[0]!==a&&(o=u[0],this._moveRowInArray(a.getGroup().rows,a,o,!l)):u[u.length-1]!==a&&(o=u[u.length-1],this._moveRowInArray(a.getGroup().rows,a,o,!l)):this._moveRowInArray(a.getGroup().rows,a,o,!l))}return o&&(r=this.rows.indexOf(o)),o&&r>-1?(s=this.activeRows.indexOf(o),this.displayRowIterator((function(e){var t=e.indexOf(o);t>-1&&e.splice(l?t:t+1,0,a)})),s>-1&&this.activeRows.splice(l?s:s+1,0,a),this.rows.splice(l?r:r+1,0,a)):l?(this.displayRowIterator((function(e){e.unshift(a)})),this.activeRows.unshift(a),this.rows.unshift(a)):(this.displayRowIterator((function(e){e.push(a)})),this.activeRows.push(a),this.rows.push(a)),this.setActiveRows(this.activeRows),this.table.options.rowAdded.call(this.table,a.getComponent()),this.table.options.dataChanged&&this.table.options.dataChanged.call(this.table,this.getData()),i||this.reRenderInPosition(),a},RowManager.prototype.moveRow=function(e,t,o){this.table.options.history&&this.table.modExists("history")&&this.table.modules.history.action("rowMove",e,{posFrom:this.getRowPosition(e),posTo:this.getRowPosition(t),to:t,after:o}),this.moveRowActual(e,t,o),this.regenerateRowNumbers(),this.table.options.rowMoved.call(this.table,e.getComponent())},RowManager.prototype.moveRowActual=function(e,t,o){var i=this;if(this._moveRowInArray(this.rows,e,t,o),this._moveRowInArray(this.activeRows,e,t,o),this.displayRowIterator((function(s){i._moveRowInArray(s,e,t,o)})),this.table.options.groupBy&&this.table.modExists("groupRows")){!o&&t instanceof Group&&(t=this.table.rowManager.prevDisplayRow(e)||t);var s=t.getGroup(),n=e.getGroup();s===n?this._moveRowInArray(s.rows,e,t,o):(n&&n.removeRow(e),s.insertRow(e,t,o))}},RowManager.prototype._moveRowInArray=function(e,t,o,i){var s,n,a;if(t!==o&&((s=e.indexOf(t))>-1&&(e.splice(s,1),(n=e.indexOf(o))>-1?i?e.splice(n+1,0,t):e.splice(n,0,t):e.splice(s,0,t)),e===this.getDisplayRows())){a=n>s?n:s+1;for(var l=s<n?s:n;l<=a;l++)e[l]&&this.styleRow(e[l],l)}},RowManager.prototype.clearData=function(){this.setData([])},RowManager.prototype.getRowIndex=function(e){return this.findRowIndex(e,this.rows)},RowManager.prototype.getDisplayRowIndex=function(e){var t=this.getDisplayRows().indexOf(e);return t>-1&&t},RowManager.prototype.nextDisplayRow=function(e,t){var o=this.getDisplayRowIndex(e),i=!1;return!1!==o&&o<this.displayRowsCount-1&&(i=this.getDisplayRows()[o+1]),!i||i instanceof Row&&"row"==i.type?i:this.nextDisplayRow(i,t)},RowManager.prototype.prevDisplayRow=function(e,t){var o=this.getDisplayRowIndex(e),i=!1;return o&&(i=this.getDisplayRows()[o-1]),!t||!i||i instanceof Row&&"row"==i.type?i:this.prevDisplayRow(i,t)},RowManager.prototype.findRowIndex=function(e,t){var o;return!!((e=this.findRow(e))&&(o=t.indexOf(e))>-1)&&o},RowManager.prototype.getData=function(e,t){var o=[];return this.getRows(e).forEach((function(e){"row"==e.type&&o.push(e.getData(t||"data"))})),o},RowManager.prototype.getComponents=function(e){var t=[];return this.getRows(e).forEach((function(e){t.push(e.getComponent())})),t},RowManager.prototype.getDataCount=function(e){return this.getRows(e).length},RowManager.prototype._genRemoteRequest=function(){var e=this,t=this.table,o=t.options,i={};if(t.modExists("page")){if(o.ajaxSorting){var s=this.table.modules.sort.getSort();s.forEach((function(e){delete e.column})),i[this.table.modules.page.paginationDataSentNames.sorters]=s}if(o.ajaxFiltering){var n=this.table.modules.filter.getFilters(!0,!0);i[this.table.modules.page.paginationDataSentNames.filters]=n}this.table.modules.ajax.setParams(i,!0)}t.modules.ajax.sendRequest().then((function(t){e._setDataActual(t,!0)})).catch((function(e){}))},RowManager.prototype.filterRefresh=function(){var e=this.table,t=e.options,o=this.scrollLeft;t.ajaxFiltering?"remote"==t.pagination&&e.modExists("page")?(e.modules.page.reset(!0),e.modules.page.setPage(1).then((function(){})).catch((function(){}))):t.ajaxProgressiveLoad?e.modules.ajax.loadData().then((function(){})).catch((function(){})):this._genRemoteRequest():this.refreshActiveData("filter"),this.scrollHorizontal(o)},RowManager.prototype.sorterRefresh=function(e){var t=this.table,o=this.table.options,i=this.scrollLeft;o.ajaxSorting?("remote"==o.pagination||o.progressiveLoad)&&t.modExists("page")?(t.modules.page.reset(!0),t.modules.page.setPage(1).then((function(){})).catch((function(){}))):o.ajaxProgressiveLoad?t.modules.ajax.loadData().then((function(){})).catch((function(){})):this._genRemoteRequest():this.refreshActiveData(e?"filter":"sort"),this.scrollHorizontal(i)},RowManager.prototype.scrollHorizontal=function(e){this.scrollLeft=e,this.element.scrollLeft=e,this.table.options.groupBy&&this.table.modules.groupRows.scrollHeaders(e),this.table.modExists("columnCalcs")&&this.table.modules.columnCalcs.scrollHorizontal(e)},RowManager.prototype.refreshActiveData=function(e,t,o){var i,s=this,n=this.table,a=["all","filter","sort","display","freeze","group","tree","page"];if(this.redrawBlock)(!this.redrawBlockRestoreConfig||a.indexOf(e)<a.indexOf(this.redrawBlockRestoreConfig.stage))&&(this.redrawBlockRestoreConfig={stage:e,skipStage:t,renderInPosition:o});else{switch(s.table.modExists("edit")&&s.table.modules.edit.cancelEdit(),e||(e="all"),n.options.selectable&&!n.options.selectablePersistence&&n.modExists("selectRow")&&n.modules.selectRow.deselectRows(),e){case"all":case"filter":t?t=!1:n.modExists("filter")?s.setActiveRows(n.modules.filter.filter(s.rows)):s.setActiveRows(s.rows.slice(0));case"sort":t?t=!1:n.modExists("sort")&&n.modules.sort.sort(this.activeRows),this.regenerateRowNumbers();case"display":this.resetDisplayRows();case"freeze":t?t=!1:this.table.modExists("frozenRows")&&n.modules.frozenRows.isFrozen()&&(n.modules.frozenRows.getDisplayIndex()||n.modules.frozenRows.setDisplayIndex(this.getNextDisplayIndex()),i=n.modules.frozenRows.getDisplayIndex(),!0!==(i=s.setDisplayRows(n.modules.frozenRows.getRows(this.getDisplayRows(i-1)),i))&&n.modules.frozenRows.setDisplayIndex(i));case"group":t?t=!1:n.options.groupBy&&n.modExists("groupRows")&&(n.modules.groupRows.getDisplayIndex()||n.modules.groupRows.setDisplayIndex(this.getNextDisplayIndex()),i=n.modules.groupRows.getDisplayIndex(),!0!==(i=s.setDisplayRows(n.modules.groupRows.getRows(this.getDisplayRows(i-1)),i))&&n.modules.groupRows.setDisplayIndex(i));case"tree":t?t=!1:n.options.dataTree&&n.modExists("dataTree")&&(n.modules.dataTree.getDisplayIndex()||n.modules.dataTree.setDisplayIndex(this.getNextDisplayIndex()),i=n.modules.dataTree.getDisplayIndex(),!0!==(i=s.setDisplayRows(n.modules.dataTree.getRows(this.getDisplayRows(i-1)),i))&&n.modules.dataTree.setDisplayIndex(i)),n.options.pagination&&n.modExists("page")&&!o&&"local"==n.modules.page.getMode()&&n.modules.page.reset();case"page":t?t=!1:n.options.pagination&&n.modExists("page")&&(n.modules.page.getDisplayIndex()||n.modules.page.setDisplayIndex(this.getNextDisplayIndex()),i=n.modules.page.getDisplayIndex(),"local"==n.modules.page.getMode()&&n.modules.page.setMaxRows(this.getDisplayRows(i-1).length),!0!==(i=s.setDisplayRows(n.modules.page.getRows(this.getDisplayRows(i-1)),i))&&n.modules.page.setDisplayIndex(i))}Tabulator.prototype.helpers.elVisible(s.element)&&(o?s.reRenderInPosition():("all"===e&&this.table.options.virtualDomHoz&&this.table.vdomHoz.dataChange(),s.renderTable(),n.options.layoutColumnsOnNewData&&s.table.columnManager.redraw(!0))),n.modExists("columnCalcs")&&n.modules.columnCalcs.recalc(this.activeRows)}},RowManager.prototype.regenerateRowNumbers=function(){var e=this;this.rowNumColumn&&this.activeRows.forEach((function(t){var o=t.getCell(e.rowNumColumn);o&&o._generateContents()}))},RowManager.prototype.setActiveRows=function(e){this.activeRows=e,this.activeRowsCount=this.activeRows.length},RowManager.prototype.resetDisplayRows=function(){this.displayRows=[],this.displayRows.push(this.activeRows.slice(0)),this.displayRowsCount=this.displayRows[0].length,this.table.modExists("frozenRows")&&this.table.modules.frozenRows.setDisplayIndex(0),this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.setDisplayIndex(0),this.table.options.pagination&&this.table.modExists("page")&&this.table.modules.page.setDisplayIndex(0)},RowManager.prototype.getNextDisplayIndex=function(){return this.displayRows.length},RowManager.prototype.setDisplayRows=function(e,t){var o=!0;return t&&void 0!==this.displayRows[t]?(this.displayRows[t]=e,o=!0):(this.displayRows.push(e),o=t=this.displayRows.length-1),t==this.displayRows.length-1&&(this.displayRowsCount=this.displayRows[this.displayRows.length-1].length),o},RowManager.prototype.getDisplayRows=function(e){return void 0===e?this.displayRows.length?this.displayRows[this.displayRows.length-1]:[]:this.displayRows[e]||[]},RowManager.prototype.getVisibleRows=function(e){var t=this.element.scrollTop,o=this.element.clientHeight+t,i=!1,s=0,n=0,a=this.getDisplayRows();if(e){this.getDisplayRows();for(var l=this.vDomTop;l<=this.vDomBottom;l++)if(a[l])if(i){if(!(o-a[l].getElement().offsetTop>=0))break;n=l}else if(t-a[l].getElement().offsetTop>=0)s=l;else{if(i=!0,!(o-a[l].getElement().offsetTop>=0))break;n=l}}else s=this.vDomTop,n=this.vDomBottom;return a.slice(s,n+1)},RowManager.prototype.displayRowIterator=function(e){this.displayRows.forEach(e),this.displayRowsCount=this.displayRows[this.displayRows.length-1].length},RowManager.prototype.getRows=function(e){var t;switch(e){case"active":t=this.activeRows;break;case"display":t=this.table.rowManager.getDisplayRows();break;case"visible":t=this.getVisibleRows(!0);break;case"selected":t=this.table.modules.selectRow.selectedRows;break;default:t=this.rows}return t},RowManager.prototype.reRenderInPosition=function(e){if("virtual"==this.getRenderMode())if(this.redrawBlock)e?e():this.redrawBlockRederInPosition=!0;else{for(var t=this.element.scrollTop,o=!1,i=!1,s=this.scrollLeft,n=this.getDisplayRows(),a=this.vDomTop;a<=this.vDomBottom;a++)if(n[a]){var l=t-n[a].getElement().offsetTop;if(!(!1===i||Math.abs(l)<i))break;i=l,o=a}e&&e(),this._virtualRenderFill(!1===o?this.displayRowsCount-1:o,!0,i||0),this.scrollHorizontal(s)}else this.renderTable(),e&&e()},RowManager.prototype.setRenderMode=function(){this.table.options.virtualDom?(this.renderMode="virtual",this.table.element.clientHeight||this.table.options.height?this.fixedHeight=!0:this.fixedHeight=!1):this.renderMode="classic"},RowManager.prototype.getRenderMode=function(){return this.renderMode},RowManager.prototype.renderTable=function(){switch(this.table.options.renderStarted.call(this.table),this.element.scrollTop=0,this.renderMode){case"classic":this._simpleRender();break;case"virtual":this._virtualRenderFill()}this.firstRender&&(this.displayRowsCount?(this.firstRender=!1,this.table.modules.layout.layout()):this.renderEmptyScroll()),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layout(),this.displayRowsCount||this.table.options.placeholder&&(this.table.options.placeholder.setAttribute("tabulator-render-mode",this.renderMode),this.getElement().appendChild(this.table.options.placeholder),this.table.options.placeholder.style.width=this.table.columnManager.getWidth()+"px"),this.table.options.renderComplete.call(this.table)},RowManager.prototype._simpleRender=function(){this._clearVirtualDom(),this.displayRowsCount?this.checkClassicModeGroupHeaderWidth():this.renderEmptyScroll()},RowManager.prototype.checkClassicModeGroupHeaderWidth=function(){var e=this,t=this.tableElement,o=!0;e.getDisplayRows().forEach((function(i,s){e.styleRow(i,s),t.appendChild(i.getElement()),i.initialize(!0),"group"!==i.type&&(o=!1)})),t.style.minWidth=o?e.table.columnManager.getWidth()+"px":""},RowManager.prototype.renderEmptyScroll=function(){this.table.options.placeholder?this.tableElement.style.display="none":this.tableElement.style.minWidth=this.table.columnManager.getWidth()+"px"},RowManager.prototype._clearVirtualDom=function(){var e=this.tableElement;for(this.table.options.placeholder&&this.table.options.placeholder.parentNode&&this.table.options.placeholder.parentNode.removeChild(this.table.options.placeholder);e.firstChild;)e.removeChild(e.firstChild);e.style.paddingTop="",e.style.paddingBottom="",e.style.minWidth="",e.style.minHeight="",e.style.display="",e.style.visibility="",this.scrollTop=0,this.scrollLeft=0,this.vDomTop=0,this.vDomBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0},RowManager.prototype.styleRow=function(e,t){var o=e.getElement();t%2?(o.classList.add("tabulator-row-even"),o.classList.remove("tabulator-row-odd")):(o.classList.add("tabulator-row-odd"),o.classList.remove("tabulator-row-even"))},RowManager.prototype._virtualRenderFill=function(e,t,o){var i=this,s=i.tableElement,n=i.element,a=0,l=0,r=0,u=0,c=!0,d=i.getDisplayRows();if(o=o||0,e=e||0){for(;s.firstChild;)s.removeChild(s.firstChild);var m=(i.displayRowsCount-e+1)*i.vDomRowHeight;m<i.height&&(e-=Math.ceil((i.height-m)/i.vDomRowHeight))<0&&(e=0),e-=a=Math.min(Math.max(Math.floor(i.vDomWindowBuffer/i.vDomRowHeight),i.vDomWindowMinMarginRows),e)}else i._clearVirtualDom();if(i.displayRowsCount&&Tabulator.prototype.helpers.elVisible(i.element)){for(i.vDomTop=e,i.vDomBottom=e-1;(l<=i.height+i.vDomWindowBuffer||u<i.vDomWindowMinTotalRows)&&i.vDomBottom<i.displayRowsCount-1;){var h,p=i.vDomBottom+1,g=d[p];i.styleRow(g,p),s.appendChild(g.getElement()),g.initialize(),g.heightInitialized||g.normalizeHeight(!0),h=g.getHeight(),u<a?r+=h:l+=h,h>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*h),"group"!==g.type&&(c=!1),i.vDomBottom++,u++}e?(i.vDomTopPad=t?i.vDomRowHeight*this.vDomTop+o:i.scrollTop-r,i.vDomBottomPad=i.vDomBottom==i.displayRowsCount-1?0:Math.max(i.vDomScrollHeight-i.vDomTopPad-l-r,0)):(this.vDomTopPad=0,i.vDomRowHeight=Math.floor((l+r)/u),i.vDomBottomPad=i.vDomRowHeight*(i.displayRowsCount-i.vDomBottom-1),i.vDomScrollHeight=r+l+i.vDomBottomPad-i.height),s.style.paddingTop=i.vDomTopPad+"px",s.style.paddingBottom=i.vDomBottomPad+"px",t&&(this.scrollTop=i.vDomTopPad+r+o-(this.element.scrollWidth>this.element.clientWidth?this.element.offsetHeight-this.element.clientHeight:0)),this.scrollTop=Math.min(this.scrollTop,this.element.scrollHeight-this.height),this.element.scrollWidth>this.element.offsetWidth&&t&&(this.scrollTop+=this.element.offsetHeight-this.element.clientHeight),this.vDomScrollPosTop=this.scrollTop,this.vDomScrollPosBottom=this.scrollTop,n.scrollTop=this.scrollTop,s.style.minWidth=c?i.table.columnManager.getWidth()+"px":"",i.table.options.groupBy&&"fitDataFill"!=i.table.modules.layout.getMode()&&i.displayRowsCount==i.table.modules.groupRows.countGroups()&&(i.tableElement.style.minWidth=i.table.columnManager.getWidth())}else this.renderEmptyScroll();this.fixedHeight||this.adjustTableSize()},RowManager.prototype.scrollVertical=function(e){var t=this.scrollTop-this.vDomScrollPosTop,o=this.scrollTop-this.vDomScrollPosBottom,i=2*this.vDomWindowBuffer;if(-t>i||o>i){var s=this.scrollLeft;this._virtualRenderFill(Math.floor(this.element.scrollTop/this.element.scrollHeight*this.displayRowsCount)),this.scrollHorizontal(s)}else e?(t<0&&this._addTopRow(-t),o<0&&(this.vDomScrollHeight-this.scrollTop>this.vDomWindowBuffer?this._removeBottomRow(-o):this.vDomScrollPosBottom=this.scrollTop)):(t>=0&&(this.scrollTop>this.vDomWindowBuffer?this._removeTopRow(t):this.vDomScrollPosTop=this.scrollTop),o>=0&&this._addBottomRow(o))},RowManager.prototype._addTopRow=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=this.tableElement,i=this.getDisplayRows();if(this.vDomTop){var s=this.vDomTop-1,n=i[s],a=n.getHeight()||this.vDomRowHeight;e>=a&&(this.styleRow(n,s),o.insertBefore(n.getElement(),o.firstChild),n.initialized&&n.heightInitialized||(this.vDomTopNewRows.push(n),n.heightInitialized||n.clearCellHeight()),n.initialize(),this.vDomTopPad-=a,this.vDomTopPad<0&&(this.vDomTopPad=s*this.vDomRowHeight),s||(this.vDomTopPad=0),o.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop-=a,this.vDomTop--),e=-(this.scrollTop-this.vDomScrollPosTop),n.getHeight()>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*n.getHeight()),t<this.vDomMaxRenderChain&&this.vDomTop&&e>=(i[this.vDomTop-1].getHeight()||this.vDomRowHeight)?this._addTopRow(e,t+1):this._quickNormalizeRowHeight(this.vDomTopNewRows)}},RowManager.prototype._removeTopRow=function(e){var t=this.tableElement,o=this.getDisplayRows()[this.vDomTop],i=o.getHeight()||this.vDomRowHeight;if(e>=i){var s=o.getElement();s.parentNode.removeChild(s),this.vDomTopPad+=i,t.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop+=this.vDomTop?i:i+this.vDomWindowBuffer,this.vDomTop++,e=this.scrollTop-this.vDomScrollPosTop,this._removeTopRow(e)}},RowManager.prototype._addBottomRow=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=this.tableElement,i=this.getDisplayRows();if(this.vDomBottom<this.displayRowsCount-1){var s=this.vDomBottom+1,n=i[s],a=n.getHeight()||this.vDomRowHeight;e>=a&&(this.styleRow(n,s),o.appendChild(n.getElement()),n.initialized&&n.heightInitialized||(this.vDomBottomNewRows.push(n),n.heightInitialized||n.clearCellHeight()),n.initialize(),this.vDomBottomPad-=a,(this.vDomBottomPad<0||s==this.displayRowsCount-1)&&(this.vDomBottomPad=0),o.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom+=a,this.vDomBottom++),e=this.scrollTop-this.vDomScrollPosBottom,n.getHeight()>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*n.getHeight()),t<this.vDomMaxRenderChain&&this.vDomBottom<this.displayRowsCount-1&&e>=(i[this.vDomBottom+1].getHeight()||this.vDomRowHeight)?this._addBottomRow(e,t+1):this._quickNormalizeRowHeight(this.vDomBottomNewRows)}},RowManager.prototype._removeBottomRow=function(e){var t=this.tableElement,o=this.getDisplayRows()[this.vDomBottom],i=o.getHeight()||this.vDomRowHeight;if(e>=i){var s=o.getElement();s.parentNode&&s.parentNode.removeChild(s),this.vDomBottomPad+=i,this.vDomBottomPad<0&&(this.vDomBottomPad=0),t.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom-=i,this.vDomBottom--,e=-(this.scrollTop-this.vDomScrollPosBottom),this._removeBottomRow(e)}},RowManager.prototype._quickNormalizeRowHeight=function(e){e.forEach((function(e){e.calcHeight()})),e.forEach((function(e){e.setCellHeight()})),e.length=0},RowManager.prototype.normalizeHeight=function(){this.activeRows.forEach((function(e){e.normalizeHeight()}))},RowManager.prototype.adjustTableSize=function(){var e,t=this.element.clientHeight;if("virtual"===this.renderMode){var o=Math.floor(this.columnManager.getElement().getBoundingClientRect().height+(this.table.footerManager&&this.table.footerManager.active&&!this.table.footerManager.external?this.table.footerManager.getElement().getBoundingClientRect().height:0));this.fixedHeight?(this.element.style.minHeight="calc(100% - "+o+"px)",this.element.style.height="calc(100% - "+o+"px)",this.element.style.maxHeight="calc(100% - "+o+"px)"):(this.element.style.height="",this.element.style.height=this.table.element.clientHeight-o+"px",this.element.scrollTop=this.scrollTop),this.height=this.element.clientHeight,this.vDomWindowBuffer=this.table.options.virtualDomBuffer||this.height,this.fixedHeight||t==this.element.clientHeight||((e=this.table.modExists("resizeTable"))&&!this.table.modules.resizeTable.autoResize||!e)&&this.redraw()}},RowManager.prototype.reinitialize=function(){this.rows.forEach((function(e){e.reinitialize(!0)}))},RowManager.prototype.blockRedraw=function(){this.redrawBlock=!0,this.redrawBlockRestoreConfig=!1},RowManager.prototype.restoreRedraw=function(){this.redrawBlock=!1,this.redrawBlockRestoreConfig?(this.refreshActiveData(this.redrawBlockRestoreConfig.stage,this.redrawBlockRestoreConfig.skipStage,this.redrawBlockRestoreConfig.renderInPosition),this.redrawBlockRestoreConfig=!1):this.redrawBlockRederInPosition&&this.reRenderInPosition(),this.redrawBlockRederInPosition=!1},RowManager.prototype.redraw=function(e){var t=this.scrollLeft;this.adjustTableSize(),this.table.tableWidth=this.table.element.clientWidth,e?this.renderTable():("classic"==this.renderMode?this.table.options.groupBy?this.refreshActiveData("group",!1,!1):this._simpleRender():(this.reRenderInPosition(),this.scrollHorizontal(t)),this.displayRowsCount||this.table.options.placeholder&&this.getElement().appendChild(this.table.options.placeholder))},RowManager.prototype.resetScroll=function(){if(this.element.scrollLeft=0,this.element.scrollTop=0,"ie"===this.table.browser){var e=document.createEvent("Event");e.initEvent("scroll",!1,!0),this.element.dispatchEvent(e)}else this.element.dispatchEvent(new Event("scroll"))};var VDomHoz=function(e){this.table=e,this.element=this.table.rowManager.tableElement,this.holderEl=this.table.rowManager.element,this.leftCol=0,this.rightCol=0,this.scrollLeft=0,this.vDomScrollPosLeft=0,this.vDomScrollPosRight=0,this.vDomPadLeft=0,this.vDomPadRight=0,this.fitDataColAvg=0,this.window=200,this.initialized=!1,this.columns=[],this.compatabilityCheck()&&this.initialize()};VDomHoz.prototype.compatabilityCheck=function(){var e=this.table.options,t=!0;return"fitDataTable"==e.layout&&(console.warn("Horizontal Vitrual DOM is not compatible with fitDataTable layout mode"),t=!1),e.responsiveLayout&&(console.warn("Horizontal Vitrual DOM is not compatible with responsive columns"),t=!1),this.table.rtl&&(console.warn("Horizontal Vitrual DOM is not currently compatible with RTL text direction"),t=!1),e.columns&&e.columns.find((function(e){return e.frozen}))&&(console.warn("Horizontal Vitrual DOM is not compatible with frozen columns"),t=!1),t||(e.virtualDomHoz=!1),t},VDomHoz.prototype.initialize=function(){var e=this;this.holderEl.addEventListener("scroll",(function(){var t=e.holderEl.scrollLeft;e.scrollLeft!=t&&(e.scrollLeft=t,e.scroll(t-(e.vDomScrollPosLeft+e.window)))}))},VDomHoz.prototype.deinitialize=function(){this.initialized=!1},VDomHoz.prototype.clear=function(){this.columns=[],this.leftCol=-1,this.rightCol=0,this.vDomScrollPosLeft=0,this.vDomScrollPosRight=0,this.vDomPadLeft=0,this.vDomPadRight=0},VDomHoz.prototype.dataChange=function(){var e,t,o=!1,i=0,s=0;if("fitData"===this.table.options.layout){if(this.table.columnManager.columnsByIndex.forEach((function(e){!e.definition.width&&e.visible&&(o=!0)})),o&&o&&this.table.rowManager.getDisplayRows().length&&(this.vDomScrollPosRight=this.scrollLeft+this.holderEl.clientWidth+this.window,e=this.table.options.groupBy?this.table.modules.groupRows.getGroups(!1)[0].getRows(!1)[0]:this.table.rowManager.getDisplayRows()[0])){t=e.getElement(),e.generateCells(),this.element.appendChild(t);for(s=0;s<e.cells.length;s++){var n=e.cells[s];if(t.appendChild(n.getElement()),n.column.reinitializeWidth(),(i+=n.column.getWidth())>this.vDomScrollPosRight)break}for(t.parentNode.removeChild(t),this.fitDataColAvg=Math.floor(i/(s+1));s<this.table.columnManager.columnsByIndex.length;s++)this.table.columnManager.columnsByIndex[s].setWidth(this.fitDataColAvg);this.reinitialize(!1,!0)}}else"fitColumns"===this.table.options.layout&&(this.table.modules.layout.layout(),this.table.vdomHoz.reinitialize(!1,!0))},VDomHoz.prototype.fitDataLayoutOverride=function(){for(var e=this.leftCol;e<=this.rightCol;e++)this.columns[e].reinitializeWidth()},VDomHoz.prototype.reinitialize=function(e,t){var o=this,i={cols:this.columns,leftCol:this.leftCol,rightCol:this.rightCol};if(!e||this.initialized){this.clear(),this.scrollLeft=this.holderEl.scrollLeft,this.vDomScrollPosLeft=this.scrollLeft-this.window,this.vDomScrollPosRight=this.scrollLeft+this.holderEl.clientWidth+this.window;var s=0;this.table.columnManager.columnsByIndex.forEach((function(e){var t={};if(e.visible){var i=e.getWidth();t.leftPos=s,t.rightPos=s+i,s+i>o.vDomScrollPosLeft&&s<o.vDomScrollPosRight?(-1==o.leftCol&&(o.leftCol=o.columns.length,o.vDomPadLeft=s),o.rightCol=o.columns.length):-1!==o.leftCol&&(o.vDomPadRight+=i),o.columns.push(e),e.modules.vdomHoz=t,s+=i}})),this.element.style.paddingLeft=this.vDomPadLeft+"px",this.element.style.paddingRight=this.vDomPadRight+"px",this.initialized=!0,t||e&&!this.reinitChanged(i)||this.renitializeRows(),this.holderEl.scrollLeft=this.scrollLeft}},VDomHoz.prototype.reinitChanged=function(e){var t=this,o=!0;return e.cols.length!==this.columns.length||e.leftCol!==this.leftCol||e.rightCol!==this.rightCol||(e.cols.forEach((function(e,i){e!==t.columns[i]&&(o=!1)})),!o)},VDomHoz.prototype.renitializeRows=function(){var e=this;this.table.rowManager.getVisibleRows().forEach((function(t){e.reinitializeRow(t,!0)}))},VDomHoz.prototype.scroll=function(e){this.vDomScrollPosLeft+=e,this.vDomScrollPosRight+=e,e>.8*this.holderEl.clientWidth?this.reinitialize():e>0?(this.addColRight(),this.removeColLeft()):(this.addColLeft(),this.removeColRight())},VDomHoz.prototype.colPositionAdjust=function(e,t,o){for(var i=e;i<t;i++){var s=this.columns[i];s.modules.vdomHoz.leftPos-=o,s.modules.vdomHoz.rightPos-=o}},VDomHoz.prototype.addColRight=function(){var e,t,o=this.columns[this.rightCol+1];o&&o.modules.vdomHoz.leftPos<=this.vDomScrollPosRight&&(this.table.rowManager.getVisibleRows().forEach((function(e){if("group"!==e.type){var t=e.getCell(o);e.getElement().appendChild(t.getElement()),t.cellRendered()}})),this.fitDataColAvg&&(e=o.getWidth())===this.fitDataColAvg&&(o.reinitializeWidth(),(t=e-o.getWidth())&&(o.modules.vdomHoz.rightPos-=t,this.colPositionAdjust(this.rightCol+1,this.columns.length,t))),this.rightCol++,this.rightCol>=this.columns.length-1?this.vDomPadRight=0:this.vDomPadRight-=o.getWidth(),this.element.style.paddingRight=this.vDomPadRight+"px",this.addColRight())},VDomHoz.prototype.addColLeft=function(){var e=this.columns[this.leftCol-1];e&&e.modules.vdomHoz.rightPos>=this.vDomScrollPosLeft&&(this.table.rowManager.getVisibleRows().forEach((function(t){if("group"!==t.type){var o=t.getCell(e);t.getElement().prepend(o.getElement()),o.cellRendered()}})),this.leftCol?this.vDomPadLeft-=e.getWidth():this.vDomPadLeft=0,this.element.style.paddingLeft=this.vDomPadLeft+"px",this.leftCol--,this.addColLeft())},VDomHoz.prototype.removeColRight=function(e){var t;(e=this.columns[this.rightCol])&&e.modules.vdomHoz.leftPos>this.vDomScrollPosRight&&(t=this.table.rowManager.getVisibleRows(),e.modules.vdomHoz.visible=!1,t.forEach((function(t){if("group"!==t.type){var o=t.getCell(e);t.getElement().removeChild(o.getElement())}})),this.vDomPadRight+=e.getWidth(),this.element.style.paddingRight=this.vDomPadRight+"px",this.rightCol--,this.removeColRight())},VDomHoz.prototype.removeColLeft=function(){var e=this.columns[this.leftCol];e&&e.modules.vdomHoz.rightPos<this.vDomScrollPosLeft&&(this.table.rowManager.getVisibleRows().forEach((function(t){if("group"!==t.type){var o=t.getCell(e);t.getElement().removeChild(o.getElement())}})),this.vDomPadLeft+=e.getWidth(),this.element.style.paddingLeft=this.vDomPadLeft+"px",this.leftCol++,this.removeColLeft())},VDomHoz.prototype.initializeRow=function(e){if("group"!==e.type){e.modules.vdomHoz={leftCol:this.leftCol,rightCol:this.rightCol};for(var t=this.leftCol;t<=this.rightCol;t++){var o=this.columns[t];if(o&&o.visible){var i=e.getCell(o);e.getElement().appendChild(i.getElement()),i.cellRendered()}}}},VDomHoz.prototype.reinitializeRow=function(e,t){if("group"!==e.type&&(t||!e.modules.vdomHoz||e.modules.vdomHoz.leftCol!==this.leftCol||e.modules.vdomHoz.rightCol!==this.rightCol)){for(var o=e.getElement();o.firstChild;)o.removeChild(o.firstChild);this.initializeRow(e)}};var RowComponent=function(e){this._row=e};RowComponent.prototype.getData=function(e){return this._row.getData(e)},RowComponent.prototype.getElement=function(){return this._row.getElement()},RowComponent.prototype.getCells=function(){var e=[];return this._row.getCells().forEach((function(t){e.push(t.getComponent())})),e},RowComponent.prototype.getCell=function(e){var t=this._row.getCell(e);return!!t&&t.getComponent()},RowComponent.prototype.getIndex=function(){return this._row.getData("data")[this._row.table.options.index]},RowComponent.prototype.getPosition=function(e){return this._row.table.rowManager.getRowPosition(this._row,e)},RowComponent.prototype.delete=function(){return this._row.delete()},RowComponent.prototype.scrollTo=function(){return this._row.table.rowManager.scrollToRow(this._row)},RowComponent.prototype.pageTo=function(){if(this._row.table.modExists("page",!0))return this._row.table.modules.page.setPageToRow(this._row)},RowComponent.prototype.move=function(e,t){this._row.moveToRow(e,t)},RowComponent.prototype.update=function(e){return this._row.updateData(e)},RowComponent.prototype.normalizeHeight=function(){this._row.normalizeHeight(!0)},RowComponent.prototype.select=function(){this._row.table.modules.selectRow.selectRows(this._row)},RowComponent.prototype.deselect=function(){this._row.table.modules.selectRow.deselectRows(this._row)},RowComponent.prototype.toggleSelect=function(){this._row.table.modules.selectRow.toggleRow(this._row)},RowComponent.prototype.isSelected=function(){return this._row.table.modules.selectRow.isRowSelected(this._row)},RowComponent.prototype._getSelf=function(){return this._row},RowComponent.prototype.validate=function(){return this._row.validate()},RowComponent.prototype.freeze=function(){this._row.table.modExists("frozenRows",!0)&&this._row.table.modules.frozenRows.freezeRow(this._row)},RowComponent.prototype.unfreeze=function(){this._row.table.modExists("frozenRows",!0)&&this._row.table.modules.frozenRows.unfreezeRow(this._row)},RowComponent.prototype.isFrozen=function(){return!!this._row.table.modExists("frozenRows",!0)&&this._row.table.modules.frozenRows.rows.indexOf(this._row)>-1},RowComponent.prototype.treeCollapse=function(){this._row.table.modExists("dataTree",!0)&&this._row.table.modules.dataTree.collapseRow(this._row)},RowComponent.prototype.treeExpand=function(){this._row.table.modExists("dataTree",!0)&&this._row.table.modules.dataTree.expandRow(this._row)},RowComponent.prototype.treeToggle=function(){this._row.table.modExists("dataTree",!0)&&this._row.table.modules.dataTree.toggleRow(this._row)},RowComponent.prototype.getTreeParent=function(){return!!this._row.table.modExists("dataTree",!0)&&this._row.table.modules.dataTree.getTreeParent(this._row)},RowComponent.prototype.getTreeChildren=function(){return!!this._row.table.modExists("dataTree",!0)&&this._row.table.modules.dataTree.getTreeChildren(this._row,!0)},RowComponent.prototype.addTreeChild=function(e,t,o){return!!this._row.table.modExists("dataTree",!0)&&this._row.table.modules.dataTree.addTreeChildRow(this._row,e,t,o)},RowComponent.prototype.reformat=function(){return this._row.reinitialize()},RowComponent.prototype.getGroup=function(){return this._row.getGroup().getComponent()},RowComponent.prototype.getTable=function(){return this._row.table},RowComponent.prototype.getNextRow=function(){var e=this._row.nextRow();return e?e.getComponent():e},RowComponent.prototype.getPrevRow=function(){var e=this._row.prevRow();return e?e.getComponent():e};var Row=function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"row";this.table=t.table,this.parent=t,this.data={},this.type=o,this.element=!1,this.modules={},this.cells=[],this.height=0,this.heightStyled="",this.manualHeight=!1,this.outerHeight=0,this.initialized=!1,this.heightInitialized=!1,this.component=null,this.created=!1,this.setData(e)};Row.prototype.create=function(){this.created||(this.created=!0,this.generateElement())},Row.prototype.createElement=function(){var e=document.createElement("div");e.classList.add("tabulator-row"),e.setAttribute("role","row"),this.element=e},Row.prototype.getElement=function(){return this.create(),this.element},Row.prototype.detachElement=function(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)},Row.prototype.generateElement=function(){var e,t,o,i=this;this.createElement(),!1!==i.table.options.selectable&&i.table.modExists("selectRow")&&i.table.modules.selectRow.initializeRow(this),!1!==i.table.options.movableRows&&i.table.modExists("moveRow")&&i.table.modules.moveRow.initializeRow(this),!1!==i.table.options.dataTree&&i.table.modExists("dataTree")&&i.table.modules.dataTree.initializeRow(this),"collapse"===i.table.options.responsiveLayout&&i.table.modExists("responsiveLayout")&&i.table.modules.responsiveLayout.initializeRow(this),(i.table.options.rowContextMenu||i.table.options.rowClickMenu)&&this.table.modExists("menu")&&i.table.modules.menu.initializeRow(this),i.table.options.rowClick&&i.element.addEventListener("click",(function(e){i.table.options.rowClick(e,i.getComponent())})),i.table.options.rowDblClick&&i.element.addEventListener("dblclick",(function(e){i.table.options.rowDblClick(e,i.getComponent())})),i.table.options.rowContext&&i.element.addEventListener("contextmenu",(function(e){i.table.options.rowContext(e,i.getComponent())})),i.table.options.rowMouseEnter&&i.element.addEventListener("mouseenter",(function(e){i.table.options.rowMouseEnter(e,i.getComponent())})),i.table.options.rowMouseLeave&&i.element.addEventListener("mouseleave",(function(e){i.table.options.rowMouseLeave(e,i.getComponent())})),i.table.options.rowMouseOver&&i.element.addEventListener("mouseover",(function(e){i.table.options.rowMouseOver(e,i.getComponent())})),i.table.options.rowMouseOut&&i.element.addEventListener("mouseout",(function(e){i.table.options.rowMouseOut(e,i.getComponent())})),i.table.options.rowMouseMove&&i.element.addEventListener("mousemove",(function(e){i.table.options.rowMouseMove(e,i.getComponent())})),i.table.options.rowTap&&(o=!1,i.element.addEventListener("touchstart",(function(e){o=!0}),{passive:!0}),i.element.addEventListener("touchend",(function(e){o&&i.table.options.rowTap(e,i.getComponent()),o=!1}))),i.table.options.rowDblTap&&(e=null,i.element.addEventListener("touchend",(function(t){e?(clearTimeout(e),e=null,i.table.options.rowDblTap(t,i.getComponent())):e=setTimeout((function(){clearTimeout(e),e=null}),300)}))),i.table.options.rowTapHold&&(t=null,i.element.addEventListener("touchstart",(function(e){clearTimeout(t),t=setTimeout((function(){clearTimeout(t),t=null,o=!1,i.table.options.rowTapHold(e,i.getComponent())}),1e3)}),{passive:!0}),i.element.addEventListener("touchend",(function(e){clearTimeout(t),t=null})))},Row.prototype.generateCells=function(){this.cells=this.table.columnManager.generateCells(this)},Row.prototype.initialize=function(e){var t=this;if(this.create(),!this.initialized||e){for(this.deleteCells();this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layoutRow(this),this.generateCells(),this.table.options.virtualDomHoz&&this.table.vdomHoz.initialized?this.table.vdomHoz.initializeRow(this):this.cells.forEach((function(e){t.element.appendChild(e.getElement()),e.cellRendered()})),e&&this.normalizeHeight(),this.table.options.dataTree&&this.table.modExists("dataTree")&&this.table.modules.dataTree.layoutRow(this),"collapse"===this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout")&&this.table.modules.responsiveLayout.layoutRow(this),this.table.options.rowFormatter&&this.table.options.rowFormatter(this.getComponent()),this.table.options.resizableRows&&this.table.modExists("resizeRows")&&this.table.modules.resizeRows.initializeRow(this),this.initialized=!0}else this.table.options.virtualDomHoz&&this.table.vdomHoz.reinitializeRow(this)},Row.prototype.reinitializeHeight=function(){this.heightInitialized=!1,this.element&&null!==this.element.offsetParent&&this.normalizeHeight(!0)},Row.prototype.reinitialize=function(e){this.initialized=!1,this.heightInitialized=!1,this.manualHeight||(this.height=0,this.heightStyled=""),this.element&&null!==this.element.offsetParent&&this.initialize(!0),this.table.options.dataTree&&this.table.modExists("dataTree",!0)&&this.table.modules.dataTree.getTreeChildren(this,!1,!0).forEach((function(e){e.reinitialize(!0)}))},Row.prototype.calcHeight=function(e){var t=0,o=this.table.options.resizableRows?this.element.clientHeight:0;this.cells.forEach((function(e){var o=e.getHeight();o>t&&(t=o)})),this.height=e?Math.max(t,o):this.manualHeight?this.height:Math.max(t,o),this.heightStyled=this.height?this.height+"px":"",this.outerHeight=this.element.offsetHeight},Row.prototype.setCellHeight=function(){this.cells.forEach((function(e){e.setHeight()})),this.heightInitialized=!0},Row.prototype.clearCellHeight=function(){this.cells.forEach((function(e){e.clearHeight()}))},Row.prototype.normalizeHeight=function(e){e&&this.clearCellHeight(),this.calcHeight(e),this.setCellHeight()},Row.prototype.setHeight=function(e,t){(this.height!=e||t)&&(this.manualHeight=!0,this.height=e,this.heightStyled=e?e+"px":"",this.setCellHeight(),this.outerHeight=this.element.offsetHeight)},Row.prototype.getHeight=function(){return this.outerHeight},Row.prototype.getWidth=function(){return this.element.offsetWidth},Row.prototype.deleteCell=function(e){var t=this.cells.indexOf(e);t>-1&&this.cells.splice(t,1)},Row.prototype.setData=function(e){this.table.modExists("mutator")&&(e=this.table.modules.mutator.transformRow(e,"data")),this.data=e,this.table.options.reactiveData&&this.table.modExists("reactiveData",!0)&&this.table.modules.reactiveData.watchRow(this)},Row.prototype.updateData=function(e){var t,o=this,i=this.element&&Tabulator.prototype.helpers.elVisible(this.element),s={};return new Promise((function(n,a){for(var l in"string"==typeof e&&(e=JSON.parse(e)),o.table.options.reactiveData&&o.table.modExists("reactiveData",!0)&&o.table.modules.reactiveData.block(),o.table.modExists("mutator")?(s=Object.assign(s,o.data),s=Object.assign(s,e),t=o.table.modules.mutator.transformRow(s,"data",e)):t=e,t)o.data[l]=t[l];for(var l in o.table.options.reactiveData&&o.table.modExists("reactiveData",!0)&&o.table.modules.reactiveData.unblock(),e){o.table.columnManager.getColumnsByFieldRoot(l).forEach((function(e){var s=o.getCell(e.getField());if(s){var n=e.getFieldValue(t);s.getValue()!=n&&(s.setValueProcessData(n),i&&s.cellRendered())}}))}o.table.options.groupUpdateOnCellEdit&&o.table.options.groupBy&&o.table.modExists("groupRows")&&o.table.modules.groupRows.reassignRowToGroup(o.row),i?(o.normalizeHeight(!0),o.table.options.rowFormatter&&o.table.options.rowFormatter(o.getComponent())):(o.initialized=!1,o.height=0,o.heightStyled=""),!1!==o.table.options.dataTree&&o.table.modExists("dataTree")&&o.table.modules.dataTree.redrawNeeded(e)&&(o.table.modules.dataTree.initializeRow(o),i&&(o.table.modules.dataTree.layoutRow(o),o.table.rowManager.refreshActiveData("tree",!1,!0))),o.table.options.rowUpdated.call(o.table,o.getComponent()),o.table.options.dataChanged&&o.table.options.dataChanged.call(o.table,o.table.rowManager.getData()),n()}))},Row.prototype.getData=function(e){return e&&this.table.modExists("accessor")?this.table.modules.accessor.transformRow(this,e):this.data},Row.prototype.getCell=function(e){return e=this.table.columnManager.findColumn(e),this.cells.find((function(t){return t.column===e}))},Row.prototype.getCellIndex=function(e){return this.cells.findIndex((function(t){return t===e}))},Row.prototype.findNextEditableCell=function(e){var t=!1;if(e<this.cells.length-1)for(var o=e+1;o<this.cells.length;o++){var i=this.cells[o];if(i.column.modules.edit&&Tabulator.prototype.helpers.elVisible(i.getElement())){var s=!0;if("function"==typeof i.column.modules.edit.check&&(s=i.column.modules.edit.check(i.getComponent())),s){t=i;break}}}return t},Row.prototype.findPrevEditableCell=function(e){var t=!1;if(e>0)for(var o=e-1;o>=0;o--){var i=this.cells[o],s=!0;if(i.column.modules.edit&&Tabulator.prototype.helpers.elVisible(i.getElement())&&("function"==typeof i.column.modules.edit.check&&(s=i.column.modules.edit.check(i.getComponent())),s)){t=i;break}}return t},Row.prototype.getCells=function(){return this.cells},Row.prototype.nextRow=function(){return this.table.rowManager.nextDisplayRow(this,!0)||!1},Row.prototype.prevRow=function(){return this.table.rowManager.prevDisplayRow(this,!0)||!1},Row.prototype.moveToRow=function(e,t){var o=this.table.rowManager.findRow(e);o?(this.table.rowManager.moveRowActual(this,o,!t),this.table.rowManager.refreshActiveData("display",!1,!0)):console.warn("Move Error - No matching row found:",e)},Row.prototype.validate=function(){var e=[];return this.cells.forEach((function(t){t.validate()||e.push(t.getComponent())})),!e.length||e},Row.prototype.delete=function(){var e=this;return new Promise((function(t,o){var i,s;e.table.options.history&&e.table.modExists("history")&&(e.table.options.groupBy&&e.table.modExists("groupRows")?(i=(s=e.getGroup().rows).indexOf(e))&&(i=s[i-1]):(i=e.table.rowManager.getRowIndex(e))&&(i=e.table.rowManager.rows[i-1]),e.table.modules.history.action("rowDelete",e,{data:e.getData(),pos:!i,index:i})),e.deleteActual(),t()}))},Row.prototype.deleteActual=function(e){this.table.rowManager.getRowIndex(this);this.detatchModules(),this.table.options.reactiveData&&this.table.modExists("reactiveData",!0),this.modules.group&&this.modules.group.removeRow(this),this.table.rowManager.deleteRow(this,e),this.deleteCells(),this.initialized=!1,this.heightInitialized=!1,this.element=!1,this.table.options.dataTree&&this.table.modExists("dataTree",!0)&&this.table.modules.dataTree.rowDelete(this),this.table.modExists("columnCalcs")&&(this.table.options.groupBy&&this.table.modExists("groupRows")?this.table.modules.columnCalcs.recalcRowGroup(this):this.table.modules.columnCalcs.recalc(this.table.rowManager.activeRows))},Row.prototype.detatchModules=function(){this.table.modExists("selectRow")&&this.table.modules.selectRow._deselectRow(this,!0),this.table.modExists("edit")&&this.table.modules.edit.currentCell.row===this&&this.table.modules.edit.cancelEdit(),this.table.modExists("frozenRows")&&this.table.modules.frozenRows.detachRow(this)},Row.prototype.deleteCells=function(){for(var e=this.cells.length,t=0;t<e;t++)this.cells[0].delete()},Row.prototype.wipe=function(){if(this.detatchModules(),this.deleteCells(),this.element){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.element.parentNode&&this.element.parentNode.removeChild(this.element)}this.element=!1,this.modules={}},Row.prototype.getGroup=function(){return this.modules.group||!1},Row.prototype.getComponent=function(){return this.component||(this.component=new RowComponent(this)),this.component};var CellComponent=function(e){this._cell=e};CellComponent.prototype.getValue=function(){return this._cell.getValue()},CellComponent.prototype.getOldValue=function(){return this._cell.getOldValue()},CellComponent.prototype.getInitialValue=function(){return this._cell.initialValue},CellComponent.prototype.getElement=function(){return this._cell.getElement()},CellComponent.prototype.getRow=function(){return this._cell.row.getComponent()},CellComponent.prototype.getData=function(){return this._cell.row.getData()},CellComponent.prototype.getField=function(){return this._cell.column.getField()},CellComponent.prototype.getColumn=function(){return this._cell.column.getComponent()},CellComponent.prototype.setValue=function(e,t){void 0===t&&(t=!0),this._cell.setValue(e,t)},CellComponent.prototype.restoreOldValue=function(){this._cell.setValueActual(this._cell.getOldValue())},CellComponent.prototype.restoreInitialValue=function(){this._cell.setValueActual(this._cell.initialValue)},CellComponent.prototype.edit=function(e){return this._cell.edit(e)},CellComponent.prototype.cancelEdit=function(){this._cell.cancelEdit()},CellComponent.prototype.isEdited=function(){return!!this._cell.modules.edit&&this._cell.modules.edit.edited},CellComponent.prototype.clearEdited=function(){self.table.modExists("edit",!0)&&this._cell.table.modules.edit.clearEdited(this._cell)},CellComponent.prototype.isValid=function(){return!this._cell.modules.validate||!this._cell.modules.validate.invalid},CellComponent.prototype.validate=function(){return this._cell.validate()},CellComponent.prototype.clearValidation=function(){this._cell.table.modExists("validate",!0)&&this._cell.table.modules.validate.clearValidation(this._cell)},CellComponent.prototype.nav=function(){return this._cell.nav()},CellComponent.prototype.checkHeight=function(){this._cell.checkHeight()},CellComponent.prototype.getTable=function(){return this._cell.table},CellComponent.prototype._getSelf=function(){return this._cell};var Cell=function(e,t){this.table=e.table,this.column=e,this.row=t,this.element=null,this.value=null,this.initialValue,this.oldValue=null,this.modules={},this.height=null,this.width=null,this.minWidth=null,this.component=null,this.loaded=!1,this.build()};Cell.prototype.build=function(){this.generateElement(),this.setWidth(),this._configureCell(),this.setValueActual(this.column.getFieldValue(this.row.data)),this.initialValue=this.value},Cell.prototype.generateElement=function(){this.element=document.createElement("div"),this.element.className="tabulator-cell",this.element.setAttribute("role","gridcell"),this.element=this.element},Cell.prototype._configureCell=function(){var e=this,t=e.column.cellEvents,o=e.element,i=this.column.getField();(o.style.textAlign=e.column.hozAlign,e.column.vertAlign&&(o.style.display="inline-flex",o.style.alignItems={top:"flex-start",bottom:"flex-end",middle:"center"}[e.column.vertAlign]||"",e.column.hozAlign&&(o.style.justifyContent={left:"flex-start",right:"flex-end",center:"center"}[e.column.hozAlign]||"")),i&&o.setAttribute("tabulator-field",i),e.column.definition.cssClass)&&e.column.definition.cssClass.split(" ").forEach((function(e){o.classList.add(e)}));"hover"===this.table.options.tooltipGenerationMode&&o.addEventListener("mouseenter",(function(t){e._generateTooltip()})),e._bindClickEvents(t),e._bindTouchEvents(t),e._bindMouseEvents(t),e.column.modules.edit&&e.table.modules.edit.bindEditor(e),e.column.definition.rowHandle&&!1!==e.table.options.movableRows&&e.table.modExists("moveRow")&&e.table.modules.moveRow.initializeCell(e),e.column.visible||e.hide()},Cell.prototype._bindClickEvents=function(e){var t=this,o=t.element;(e.cellClick||t.table.options.cellClick)&&o.addEventListener("click",(function(o){var i=t.getComponent();e.cellClick&&e.cellClick.call(t.table,o,i),t.table.options.cellClick&&t.table.options.cellClick.call(t.table,o,i)})),e.cellDblClick||this.table.options.cellDblClick?o.addEventListener("dblclick",(function(o){var i=t.getComponent();e.cellDblClick&&e.cellDblClick.call(t.table,o,i),t.table.options.cellDblClick&&t.table.options.cellDblClick.call(t.table,o,i)})):o.addEventListener("dblclick",(function(e){if(!t.table.modExists("edit")||t.table.modules.edit.currentCell!==t){e.preventDefault();try{if(document.selection)(o=document.body.createTextRange()).moveToElementText(t.element),o.select();else if(window.getSelection){var o;(o=document.createRange()).selectNode(t.element),window.getSelection().removeAllRanges(),window.getSelection().addRange(o)}}catch(e){}}})),(e.cellContext||this.table.options.cellContext)&&o.addEventListener("contextmenu",(function(o){var i=t.getComponent();e.cellContext&&e.cellContext.call(t.table,o,i),t.table.options.cellContext&&t.table.options.cellContext.call(t.table,o,i)}))},Cell.prototype._bindMouseEvents=function(e){var t=this,o=t.element;(e.cellMouseEnter||t.table.options.cellMouseEnter)&&o.addEventListener("mouseenter",(function(o){var i=t.getComponent();e.cellMouseEnter&&e.cellMouseEnter.call(t.table,o,i),t.table.options.cellMouseEnter&&t.table.options.cellMouseEnter.call(t.table,o,i)})),(e.cellMouseLeave||t.table.options.cellMouseLeave)&&o.addEventListener("mouseleave",(function(o){var i=t.getComponent();e.cellMouseLeave&&e.cellMouseLeave.call(t.table,o,i),t.table.options.cellMouseLeave&&t.table.options.cellMouseLeave.call(t.table,o,i)})),(e.cellMouseOver||t.table.options.cellMouseOver)&&o.addEventListener("mouseover",(function(o){var i=t.getComponent();e.cellMouseOver&&e.cellMouseOver.call(t.table,o,i),t.table.options.cellMouseOver&&t.table.options.cellMouseOver.call(t.table,o,i)})),(e.cellMouseOut||t.table.options.cellMouseOut)&&o.addEventListener("mouseout",(function(o){var i=t.getComponent();e.cellMouseOut&&e.cellMouseOut.call(t.table,o,i),t.table.options.cellMouseOut&&t.table.options.cellMouseOut.call(t.table,o,i)})),(e.cellMouseMove||t.table.options.cellMouseMove)&&o.addEventListener("mousemove",(function(o){var i=t.getComponent();e.cellMouseMove&&e.cellMouseMove.call(t.table,o,i),t.table.options.cellMouseMove&&t.table.options.cellMouseMove.call(t.table,o,i)}))},Cell.prototype._bindTouchEvents=function(e){var t,o,i,s=this,n=s.element;(e.cellTap||this.table.options.cellTap)&&(i=!1,n.addEventListener("touchstart",(function(e){i=!0}),{passive:!0}),n.addEventListener("touchend",(function(t){if(i){var o=s.getComponent();e.cellTap&&e.cellTap.call(s.table,t,o),s.table.options.cellTap&&s.table.options.cellTap.call(s.table,t,o)}i=!1}))),(e.cellDblTap||this.table.options.cellDblTap)&&(t=null,n.addEventListener("touchend",(function(o){if(t){clearTimeout(t),t=null;var i=s.getComponent();e.cellDblTap&&e.cellDblTap.call(s.table,o,i),s.table.options.cellDblTap&&s.table.options.cellDblTap.call(s.table,o,i)}else t=setTimeout((function(){clearTimeout(t),t=null}),300)}))),(e.cellTapHold||this.table.options.cellTapHold)&&(o=null,n.addEventListener("touchstart",(function(t){clearTimeout(o),o=setTimeout((function(){clearTimeout(o),o=null,i=!1;var n=s.getComponent();e.cellTapHold&&e.cellTapHold.call(s.table,t,n),s.table.options.cellTapHold&&s.table.options.cellTapHold.call(s.table,t,n)}),1e3)}),{passive:!0}),n.addEventListener("touchend",(function(e){clearTimeout(o),o=null})))},Cell.prototype._generateContents=function(){var e;switch(void 0===(e=this.table.modExists("format")?this.table.modules.format.formatValue(this):this.element.innerHTML=this.value)?"undefined":_typeof(e)){case"object":if(e instanceof Node){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.element.appendChild(e)}else this.element.innerHTML="",null!=e&&console.warn("Format Error - Formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",e);break;case"undefined":case"null":this.element.innerHTML="";break;default:this.element.innerHTML=e}},Cell.prototype.cellRendered=function(){this.table.modExists("format")&&this.table.modules.format.cellRendered&&this.table.modules.format.cellRendered(this)},Cell.prototype._generateTooltip=function(){var e=this.column.tooltip;e?(!0===e?e=this.value:"function"==typeof e&&!1===(e=e(this.getComponent()))&&(e=""),void 0===e&&(e=""),this.element.setAttribute("title",e)):this.element.setAttribute("title","")},Cell.prototype.getElement=function(e){return this.loaded||(this.loaded=!0,e||this.layoutElement()),this.element},Cell.prototype.getValue=function(){return this.value},Cell.prototype.getOldValue=function(){return this.oldValue},Cell.prototype.setValue=function(e,t){var o;this.setValueProcessData(e,t)&&(this.table.options.history&&this.table.modExists("history")&&this.table.modules.history.action("cellEdit",this,{oldValue:this.oldValue,newValue:this.value}),o=this.getComponent(),this.column.cellEvents.cellEdited&&this.column.cellEvents.cellEdited.call(this.table,o),this.table.options.groupUpdateOnCellEdit&&this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.reassignRowToGroup(this.row),this.cellRendered(),this.table.options.cellEdited.call(this.table,o),this.table.options.dataChanged&&this.table.options.dataChanged.call(this.table,this.table.rowManager.getData()))},Cell.prototype.setValueProcessData=function(e,t){var o=!1;return this.value!=e&&(o=!0,t&&this.column.modules.mutate&&(e=this.table.modules.mutator.transformCell(this,e))),this.setValueActual(e),o&&this.table.modExists("columnCalcs")&&(this.column.definition.topCalc||this.column.definition.bottomCalc)&&(this.table.options.groupBy&&this.table.modExists("groupRows")?("table"!=this.table.options.columnCalcs&&"both"!=this.table.options.columnCalcs||this.table.modules.columnCalcs.recalc(this.table.rowManager.activeRows),"table"!=this.table.options.columnCalcs&&this.table.modules.columnCalcs.recalcRowGroup(this.row)):this.table.modules.columnCalcs.recalc(this.table.rowManager.activeRows)),o},Cell.prototype.setValueActual=function(e){this.oldValue=this.value,this.value=e,this.table.options.reactiveData&&this.table.modExists("reactiveData")&&this.table.modules.reactiveData.block(),this.column.setFieldValue(this.row.data,e),this.table.options.reactiveData&&this.table.modExists("reactiveData")&&this.table.modules.reactiveData.unblock(),this.loaded&&this.layoutElement()},Cell.prototype.layoutElement=function(){this._generateContents(),this._generateTooltip(),this.table.options.resizableColumns&&this.table.modExists("resizeColumns")&&"row"===this.row.type&&this.table.modules.resizeColumns.initializeColumn("cell",this.column,this.element),(this.column.definition.contextMenu||this.column.definition.clickMenu)&&this.table.modExists("menu")&&this.table.modules.menu.initializeCell(this),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layoutElement(this.element,this.column)},Cell.prototype.setWidth=function(){this.width=this.column.width,this.element.style.width=this.column.widthStyled},Cell.prototype.clearWidth=function(){this.width="",this.element.style.width=""},Cell.prototype.getWidth=function(){return this.width||this.element.offsetWidth},Cell.prototype.setMinWidth=function(){this.minWidth=this.column.minWidth,this.element.style.minWidth=this.column.minWidthStyled},Cell.prototype.setMaxWidth=function(){this.maxWidth=this.column.maxWidth,this.element.style.maxWidth=this.column.maxWidthStyled},Cell.prototype.checkHeight=function(){this.row.reinitializeHeight()},Cell.prototype.clearHeight=function(){this.element.style.height="",this.height=null},Cell.prototype.setHeight=function(){this.height=this.row.height,this.element.style.height=this.row.heightStyled},Cell.prototype.getHeight=function(){return this.height||this.element.offsetHeight},Cell.prototype.show=function(){this.element.style.display=this.column.vertAlign?"inline-flex":""},Cell.prototype.hide=function(){this.element.style.display="none"},Cell.prototype.edit=function(e){if(this.table.modExists("edit",!0))return this.table.modules.edit.editCell(this,e)},Cell.prototype.cancelEdit=function(){if(this.table.modExists("edit",!0)){var e=this.table.modules.edit.getCurrentCell();e&&e._getSelf()===this?this.table.modules.edit.cancelEdit():console.warn("Cancel Editor Error - This cell is not currently being edited ")}},Cell.prototype.validate=function(){return!this.column.modules.validate||!this.table.modExists("validate",!0)||!0===this.table.modules.validate.validate(this.column.modules.validate,this,this.getValue())},Cell.prototype.delete=function(){!this.table.rowManager.redrawBlock&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.modules.validate&&this.modules.validate.invalid&&this.table.modules.validate.clearValidation(this),this.modules.edit&&this.modules.edit.edited&&this.table.modules.edit.clearEdited(this),this.table.options.history&&this.table.modules.history.clearComponentHistory(this),this.element=!1,this.column.deleteCell(this),this.row.deleteCell(this),this.calcs={}},Cell.prototype.nav=function(){var e=this,t=!1,o=this.row.getCellIndex(this);return{next:function(){var t,o=this.right();return!!o||!(!(t=e.table.rowManager.nextDisplayRow(e.row,!0))||!(o=t.findNextEditableCell(-1)))&&(o.edit(),!0)},prev:function(){var t,o=this.left();return!!o||!(!(t=e.table.rowManager.prevDisplayRow(e.row,!0))||!(o=t.findPrevEditableCell(t.cells.length)))&&(o.edit(),!0)},left:function(){return!!(t=e.row.findPrevEditableCell(o))&&(t.edit(),!0)},right:function(){return!!(t=e.row.findNextEditableCell(o))&&(t.edit(),!0)},up:function(){var t=e.table.rowManager.prevDisplayRow(e.row,!0);t&&t.cells[o].edit()},down:function(){var t=e.table.rowManager.nextDisplayRow(e.row,!0);t&&t.cells[o].edit()}}},Cell.prototype.getIndex=function(){this.row.getCellIndex(this)},Cell.prototype.getComponent=function(){return this.component||(this.component=new CellComponent(this)),this.component};var FooterManager=function(e){this.table=e,this.active=!1,this.element=this.createElement(),this.external=!1,this.links=[],this._initialize()};FooterManager.prototype.createElement=function(){var e=document.createElement("div");return e.classList.add("tabulator-footer"),e},FooterManager.prototype._initialize=function(e){if(this.table.options.footerElement)switch(_typeof(this.table.options.footerElement)){case"string":"<"===this.table.options.footerElement[0]?this.element.innerHTML=this.table.options.footerElement:(this.external=!0,this.element=document.querySelector(this.table.options.footerElement));break;default:this.element=this.table.options.footerElement}},FooterManager.prototype.getElement=function(){return this.element},FooterManager.prototype.append=function(e,t){this.activate(t),this.element.appendChild(e),this.table.rowManager.adjustTableSize()},FooterManager.prototype.prepend=function(e,t){this.activate(t),this.element.insertBefore(e,this.element.firstChild),this.table.rowManager.adjustTableSize()},FooterManager.prototype.remove=function(e){e.parentNode.removeChild(e),this.deactivate()},FooterManager.prototype.deactivate=function(e){this.element.firstChild&&!e||(this.external||this.element.parentNode.removeChild(this.element),this.active=!1)},FooterManager.prototype.activate=function(e){this.active||(this.active=!0,this.external||(this.table.element.appendChild(this.getElement()),this.table.element.style.display="")),e&&this.links.push(e)},FooterManager.prototype.redraw=function(){this.links.forEach((function(e){e.footerRedraw()}))};var Tabulator=function e(t,o){this.options={},this.columnManager=null,this.rowManager=null,this.footerManager=null,this.vdomHoz=null,this.browser="",this.browserSlow=!1,this.browserMobile=!1,this.rtl=!1,this.modules={},this.initializeElement(t)&&(this.initializeOptions(o||{}),this._create()),e.prototype.comms.register(this)};Tabulator.prototype.defaultOptions={height:!1,minHeight:!1,maxHeight:!1,layout:"fitData",layoutColumnsOnNewData:!1,columnMinWidth:40,columnMaxWidth:!1,columnHeaderVertAlign:"top",columnVertAlign:!1,resizableColumns:!0,resizableRows:!1,autoResize:!0,columns:[],cellHozAlign:"",cellVertAlign:"",headerHozAlign:"",data:[],autoColumns:!1,autoColumnsDefinitions:!1,reactiveData:!1,nestedFieldSeparator:".",tooltips:!1,tooltipsHeader:!1,tooltipGenerationMode:"load",initialSort:!1,initialFilter:!1,initialHeaderFilter:!1,columnHeaderSortMulti:!0,sortOrderReverse:!1,headerSort:!0,headerSortTristate:!1,headerSortElement:"<div class='tabulator-arrow'></div>",footerElement:!1,index:"id",textDirection:"auto",keybindings:[],tabEndNewRow:!1,invalidOptionWarnings:!0,clipboard:!1,clipboardCopyStyled:!0,clipboardCopyConfig:!1,clipboardCopyFormatter:!1,clipboardCopyRowRange:"active",clipboardPasteParser:"table",clipboardPasteAction:"insert",clipboardCopied:function(){},clipboardPasted:function(){},clipboardPasteError:function(){},downloadDataFormatter:!1,downloadReady:function(e,t){return t},downloadComplete:!1,downloadConfig:{},downloadRowRange:"active",dataTree:!1,dataTreeFilter:!0,dataTreeSort:!0,dataTreeElementColumn:!1,dataTreeBranchElement:!0,dataTreeChildIndent:9,dataTreeChildField:"_children",dataTreeCollapseElement:!1,dataTreeExpandElement:!1,dataTreeStartExpanded:!1,dataTreeRowExpanded:function(){},dataTreeRowCollapsed:function(){},dataTreeChildColumnCalcs:!1,dataTreeSelectPropagate:!1,printAsHtml:!1,printFormatter:!1,printHeader:!1,printFooter:!1,printCopyStyle:!0,printStyled:!0,printVisibleRows:!0,printRowRange:"visible",printConfig:{},addRowPos:"bottom",selectable:"highlight",selectableRangeMode:"drag",selectableRollingSelection:!0,selectablePersistence:!0,selectableCheck:function(e,t){return!0},headerFilterLiveFilterDelay:300,headerFilterPlaceholder:!1,headerVisible:!0,history:!1,locale:!1,langs:{},virtualDom:!0,virtualDomBuffer:0,virtualDomHoz:!1,persistentLayout:!1,persistentSort:!1,persistentFilter:!1,persistenceID:"",persistenceMode:!0,persistenceReaderFunc:!1,persistenceWriterFunc:!1,persistence:!1,responsiveLayout:!1,responsiveLayoutCollapseStartOpen:!0,responsiveLayoutCollapseUseFormatters:!0,responsiveLayoutCollapseFormatter:!1,pagination:!1,paginationSize:!1,paginationInitialPage:1,paginationButtonCount:5,paginationSizeSelector:!1,paginationElement:!1,paginationDataSent:{},paginationDataReceived:{},paginationAddRow:"page",ajaxURL:!1,ajaxURLGenerator:!1,ajaxParams:{},ajaxConfig:"get",ajaxContentType:"form",ajaxRequestFunc:!1,ajaxLoader:!0,ajaxLoaderLoading:!1,ajaxLoaderError:!1,ajaxFiltering:!1,ajaxSorting:!1,ajaxProgressiveLoad:!1,ajaxProgressiveLoadDelay:0,ajaxProgressiveLoadScrollMargin:0,groupBy:!1,groupStartOpen:!0,groupValues:!1,groupUpdateOnCellEdit:!1,groupHeader:!1,groupHeaderPrint:null,groupHeaderClipboard:null,groupHeaderHtmlOutput:null,groupHeaderDownload:null,htmlOutputConfig:!1,movableColumns:!1,movableRows:!1,movableRowsConnectedTables:!1,movableRowsConnectedElements:!1,movableRowsSender:!1,movableRowsReceiver:"insert",movableRowsSendingStart:function(){},movableRowsSent:function(){},movableRowsSentFailed:function(){},movableRowsSendingStop:function(){},movableRowsReceivingStart:function(){},movableRowsReceived:function(){},movableRowsReceivedFailed:function(){},movableRowsReceivingStop:function(){},movableRowsElementDrop:function(){},scrollToRowPosition:"top",scrollToRowIfVisible:!0,scrollToColumnPosition:"left",scrollToColumnIfVisible:!0,rowFormatter:!1,rowFormatterPrint:null,rowFormatterClipboard:null,rowFormatterHtmlOutput:null,placeholder:!1,tableBuilding:function(){},tableBuilt:function(){},renderStarted:function(){},renderComplete:function(){},rowClick:!1,rowDblClick:!1,rowContext:!1,rowTap:!1,rowDblTap:!1,rowTapHold:!1,rowMouseEnter:!1,rowMouseLeave:!1,rowMouseOver:!1,rowMouseOut:!1,rowMouseMove:!1,rowContextMenu:!1,rowClickMenu:!1,rowAdded:function(){},rowDeleted:function(){},rowMoved:function(){},rowUpdated:function(){},rowSelectionChanged:function(){},rowSelected:function(){},rowDeselected:function(){},rowResized:function(){},cellClick:!1,cellDblClick:!1,cellContext:!1,cellTap:!1,cellDblTap:!1,cellTapHold:!1,cellMouseEnter:!1,cellMouseLeave:!1,cellMouseOver:!1,cellMouseOut:!1,cellMouseMove:!1,cellEditing:function(){},cellEdited:function(){},cellEditCancelled:function(){},columnMoved:!1,columnResized:function(){},columnTitleChanged:function(){},columnVisibilityChanged:function(){},htmlImporting:function(){},htmlImported:function(){},dataLoading:function(){},dataLoaded:function(){},dataEdited:!1,dataChanged:!1,ajaxRequesting:function(){},ajaxResponse:!1,ajaxError:function(){},dataFiltering:!1,dataFiltered:!1,dataSorting:function(){},dataSorted:function(){},groupToggleElement:"arrow",groupClosedShowCalcs:!1,dataGrouping:function(){},dataGrouped:!1,groupVisibilityChanged:function(){},groupClick:!1,groupDblClick:!1,groupContext:!1,groupContextMenu:!1,groupClickMenu:!1,groupTap:!1,groupDblTap:!1,groupTapHold:!1,columnCalcs:!0,pageLoaded:function(){},localized:function(){},validationMode:"blocking",validationFailed:function(){},historyUndo:function(){},historyRedo:function(){},scrollHorizontal:function(){},scrollVertical:function(){}},Tabulator.prototype.initializeOptions=function(e){if(!1!==e.invalidOptionWarnings)for(var t in e)void 0===this.defaultOptions[t]&&console.warn("Invalid table constructor option:",t);for(var t in this.defaultOptions)t in e?this.options[t]=e[t]:Array.isArray(this.defaultOptions[t])?this.options[t]=Object.assign([],this.defaultOptions[t]):"object"===_typeof(this.defaultOptions[t])&&null!==this.defaultOptions[t]?this.options[t]=Object.assign({},this.defaultOptions[t]):this.options[t]=this.defaultOptions[t]},Tabulator.prototype.initializeElement=function(e){return"undefined"!=typeof HTMLElement&&e instanceof HTMLElement?(this.element=e,!0):"string"==typeof e?(this.element=document.querySelector(e),!!this.element||(console.error("Tabulator Creation Error - no element found matching selector: ",e),!1)):(console.error("Tabulator Creation Error - Invalid element provided:",e),!1)},Tabulator.prototype.rtlCheck=function(){var e=window.getComputedStyle(this.element);switch(this.options.textDirection){case"auto":if("rtl"!==e.direction)break;case"rtl":this.element.classList.add("tabulator-rtl"),this.rtl=!0;break;case"ltr":this.element.classList.add("tabulator-ltr");default:this.rtl=!1}},Tabulator.prototype._mapDepricatedFunctionality=function(){(this.options.persistentLayout||this.options.persistentSort||this.options.persistentFilter)&&(this.options.persistence||(this.options.persistence={})),this.options.dataEdited&&(console.warn("DEPRECATION WARNING - dataEdited option has been deprecated, please use the dataChanged option instead"),this.options.dataChanged=this.options.dataEdited),this.options.downloadDataFormatter&&console.warn("DEPRECATION WARNING - downloadDataFormatter option has been deprecated"),void 0!==this.options.clipboardCopyHeader&&(this.options.columnHeaders=this.options.clipboardCopyHeader,console.warn("DEPRECATION WARNING - clipboardCopyHeader option has been deprecated, please use the columnHeaders property on the clipboardCopyConfig option")),!0!==this.options.printVisibleRows&&(console.warn("printVisibleRows option is deprecated, you should now use the printRowRange option"),this.options.persistence.printRowRange="active"),!0!==this.options.printCopyStyle&&(console.warn("printCopyStyle option is deprecated, you should now use the printStyled option"),this.options.persistence.printStyled=this.options.printCopyStyle),this.options.persistentLayout&&(console.warn("persistentLayout option is deprecated, you should now use the persistence option"),!0!==this.options.persistence&&void 0===this.options.persistence.columns&&(this.options.persistence.columns=!0)),this.options.persistentSort&&(console.warn("persistentSort option is deprecated, you should now use the persistence option"),!0!==this.options.persistence&&void 0===this.options.persistence.sort&&(this.options.persistence.sort=!0)),this.options.persistentFilter&&(console.warn("persistentFilter option is deprecated, you should now use the persistence option"),!0!==this.options.persistence&&void 0===this.options.persistence.filter&&(this.options.persistence.filter=!0)),this.options.columnVertAlign&&(console.warn("columnVertAlign option is deprecated, you should now use the columnHeaderVertAlign option"),this.options.columnHeaderVertAlign=this.options.columnVertAlign)},Tabulator.prototype._clearSelection=function(){this.element.classList.add("tabulator-block-select"),window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty(),this.element.classList.remove("tabulator-block-select")},Tabulator.prototype._create=function(){this._clearObjectPointers(),this._mapDepricatedFunctionality(),this.bindModules(),this.rtlCheck(),"TABLE"===this.element.tagName&&this.modExists("htmlTableImport",!0)&&this.modules.htmlTableImport.parseTable(),this.columnManager=new ColumnManager(this),this.rowManager=new RowManager(this),this.footerManager=new FooterManager(this),this.columnManager.setRowManager(this.rowManager),this.rowManager.setColumnManager(this.columnManager),this.options.virtualDomHoz&&(this.vdomHoz=new VDomHoz(this)),this._buildElement(),this._loadInitialData()},Tabulator.prototype._clearObjectPointers=function(){this.options.columns=this.options.columns.slice(0),this.options.reactiveData||(this.options.data=this.options.data.slice(0))},Tabulator.prototype._buildElement=function(){var e=this,t=this.element,o=this.modules,i=this.options;for(i.tableBuilding.call(this),t.classList.add("tabulator"),t.setAttribute("role","grid");t.firstChild;)t.removeChild(t.firstChild);for(var s in i.height&&(i.height=isNaN(i.height)?i.height:i.height+"px",t.style.height=i.height),!1!==i.minHeight&&(i.minHeight=isNaN(i.minHeight)?i.minHeight:i.minHeight+"px",t.style.minHeight=i.minHeight),!1!==i.maxHeight&&(i.maxHeight=isNaN(i.maxHeight)?i.maxHeight:i.maxHeight+"px",t.style.maxHeight=i.maxHeight),this.columnManager.initialize(),this.rowManager.initialize(),this._detectBrowser(),this.modExists("layout",!0)&&o.layout.initialize(i.layout),o.localize.initialize(),!1!==i.headerFilterPlaceholder&&o.localize.setHeaderFilterPlaceholder(i.headerFilterPlaceholder),i.langs)o.localize.installLang(s,i.langs[s]);if(o.localize.setLocale(i.locale),"string"==typeof i.placeholder){var n=document.createElement("div");n.classList.add("tabulator-placeholder");var a=document.createElement("span");a.innerHTML=i.placeholder,n.appendChild(a),i.placeholder=n}if(t.appendChild(this.columnManager.getElement()),t.appendChild(this.rowManager.getElement()),i.footerElement&&this.footerManager.activate(),i.persistence&&this.modExists("persistence",!0)&&o.persistence.initialize(),i.movableRows&&this.modExists("moveRow")&&o.moveRow.initialize(),i.autoColumns&&this.options.data&&this.columnManager.generateColumnsFromRowData(this.options.data),this.modExists("columnCalcs")&&o.columnCalcs.initialize(),this.columnManager.setColumns(i.columns),i.dataTree&&this.modExists("dataTree",!0)&&o.dataTree.initialize(),this.modExists("frozenRows")&&this.modules.frozenRows.initialize(),(i.persistence&&this.modExists("persistence",!0)&&o.persistence.config.sort||i.initialSort)&&this.modExists("sort",!0)){var l=[];i.persistence&&this.modExists("persistence",!0)&&o.persistence.config.sort?!1===(l=o.persistence.load("sort"))&&i.initialSort&&(l=i.initialSort):i.initialSort&&(l=i.initialSort),o.sort.setSort(l)}if((i.persistence&&this.modExists("persistence",!0)&&o.persistence.config.filter||i.initialFilter)&&this.modExists("filter",!0)){var r=[];i.persistence&&this.modExists("persistence",!0)&&o.persistence.config.filter?!1===(r=o.persistence.load("filter"))&&i.initialFilter&&(r=i.initialFilter):i.initialFilter&&(r=i.initialFilter),o.filter.setFilter(r)}i.initialHeaderFilter&&this.modExists("filter",!0)&&i.initialHeaderFilter.forEach((function(t){var i=e.columnManager.findColumn(t.field);if(!i)return console.warn("Column Filter Error - No matching column found:",t.field),!1;o.filter.setHeaderFilterValue(i,t.value)})),this.modExists("ajax")&&o.ajax.initialize(),i.pagination&&this.modExists("page",!0)&&o.page.initialize(),i.groupBy&&this.modExists("groupRows",!0)&&o.groupRows.initialize(),this.modExists("keybindings")&&o.keybindings.initialize(),this.modExists("selectRow")&&o.selectRow.clearSelectionData(!0),i.autoResize&&this.modExists("resizeTable")&&o.resizeTable.initialize(),this.modExists("clipboard")&&o.clipboard.initialize(),i.printAsHtml&&this.modExists("print")&&o.print.initialize(),i.tableBuilt.call(this)},Tabulator.prototype._loadInitialData=function(){var e=this;if(e.options.pagination&&e.modExists("page"))if(e.modules.page.reset(!0,!0),"local"==e.options.pagination){if(e.options.data.length)e.rowManager.setData(e.options.data,!1,!0);else{if((e.options.ajaxURL||e.options.ajaxURLGenerator)&&e.modExists("ajax"))return void e.modules.ajax.loadData(!1,!0).then((function(){})).catch((function(){e.options.paginationInitialPage&&e.modules.page.setPage(e.options.paginationInitialPage)}));e.rowManager.setData(e.options.data,!1,!0)}e.options.paginationInitialPage&&e.modules.page.setPage(e.options.paginationInitialPage)}else e.options.ajaxURL?e.modules.page.setPage(e.options.paginationInitialPage).then((function(){})).catch((function(){})):e.rowManager.setData([],!1,!0);else e.options.data.length?e.rowManager.setData(e.options.data):(e.options.ajaxURL||e.options.ajaxURLGenerator)&&e.modExists("ajax")?e.modules.ajax.loadData(!1,!0).then((function(){})).catch((function(){})):e.rowManager.setData(e.options.data,!1,!0)},Tabulator.prototype.destroy=function(){var e=this.element;for(Tabulator.prototype.comms.deregister(this),this.options.reactiveData&&this.modExists("reactiveData",!0)&&this.modules.reactiveData.unwatchData(),this.rowManager.rows.forEach((function(e){e.wipe()})),this.rowManager.rows=[],this.rowManager.activeRows=[],this.rowManager.displayRows=[],this.options.autoResize&&this.modExists("resizeTable")&&this.modules.resizeTable.clearBindings(),this.modExists("keybindings")&&this.modules.keybindings.clearBindings();e.firstChild;)e.removeChild(e.firstChild);e.classList.remove("tabulator")},Tabulator.prototype._detectBrowser=function(){var e=navigator.userAgent||navigator.vendor||window.opera;e.indexOf("Trident")>-1?(this.browser="ie",this.browserSlow=!0):e.indexOf("Edge")>-1?(this.browser="edge",this.browserSlow=!0):e.indexOf("Firefox")>-1?(this.browser="firefox",this.browserSlow=!1):(this.browser="other",this.browserSlow=!1),this.browserMobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))},Tabulator.prototype.blockRedraw=function(){return this.rowManager.blockRedraw()},Tabulator.prototype.restoreRedraw=function(){return this.rowManager.restoreRedraw()},Tabulator.prototype.setDataFromLocalFile=function(e){var t=this;return new Promise((function(o,i){var s=document.createElement("input");s.type="file",s.accept=e||".json,application/json",s.addEventListener("change",(function(e){var n,a=s.files[0],l=new FileReader;l.readAsText(a),l.onload=function(e){try{n=JSON.parse(l.result)}catch(e){return console.warn("File Load Error - File contents is invalid JSON",e),void i(e)}t.setData(n).then((function(e){o(e)})).catch((function(e){o(e)}))},l.onerror=function(e){console.warn("File Load Error - Unable to read file"),i()}})),s.click()}))},Tabulator.prototype.setData=function(e,t,o){return this.modExists("ajax")&&this.modules.ajax.blockActiveRequest(),this._setData(e,t,o,!1,!0)},Tabulator.prototype._setData=function(e,t,o,i,s){var n=this;return"string"!=typeof e?e?n.rowManager.setData(e,i,s):n.modExists("ajax")&&(n.modules.ajax.getUrl||n.options.ajaxURLGenerator)?"remote"==n.options.pagination&&n.modExists("page",!0)?(n.modules.page.reset(!0,!0),n.modules.page.setPage(1)):n.modules.ajax.loadData(i,s):n.rowManager.setData([],i,s):0==e.indexOf("{")||0==e.indexOf("[")?n.rowManager.setData(JSON.parse(e),i,s):n.modExists("ajax",!0)?(t&&n.modules.ajax.setParams(t),o&&n.modules.ajax.setConfig(o),n.modules.ajax.setUrl(e),"remote"==n.options.pagination&&n.modExists("page",!0)?(n.modules.page.reset(!0,!0),n.modules.page.setPage(1)):n.modules.ajax.loadData(i,s)):void 0},Tabulator.prototype.clearData=function(){this.modExists("ajax")&&this.modules.ajax.blockActiveRequest(),this.rowManager.clearData()},Tabulator.prototype.getData=function(e){return!0===e&&(console.warn("passing a boolean to the getData function is deprecated, you should now pass the string 'active'"),e="active"),this.rowManager.getData(e)},Tabulator.prototype.getDataCount=function(e){return!0===e&&(console.warn("passing a boolean to the getDataCount function is deprecated, you should now pass the string 'active'"),e="active"),this.rowManager.getDataCount(e)},Tabulator.prototype.searchRows=function(e,t,o){if(this.modExists("filter",!0))return this.modules.filter.search("rows",e,t,o)},Tabulator.prototype.searchData=function(e,t,o){if(this.modExists("filter",!0))return this.modules.filter.search("data",e,t,o)},Tabulator.prototype.getHtml=function(e,t,o){if(this.modExists("export",!0))return this.modules.export.getHtml(e,t,o)},Tabulator.prototype.print=function(e,t,o){if(this.modExists("print",!0))return this.modules.print.printFullscreen(e,t,o)},Tabulator.prototype.getAjaxUrl=function(){if(this.modExists("ajax",!0))return this.modules.ajax.getUrl()},Tabulator.prototype.replaceData=function(e,t,o){return this.modExists("ajax")&&this.modules.ajax.blockActiveRequest(),this._setData(e,t,o,!0)},Tabulator.prototype.updateData=function(e){var t=this,o=this,i=0;return new Promise((function(s,n){t.modExists("ajax")&&t.modules.ajax.blockActiveRequest(),"string"==typeof e&&(e=JSON.parse(e)),e?e.forEach((function(e){var t=o.rowManager.findRow(e[o.options.index]);t&&(i++,t.updateData(e).then((function(){--i||s()})))})):(console.warn("Update Error - No data provided"),n("Update Error - No data provided"))}))},Tabulator.prototype.addData=function(e,t,o){var i=this;return new Promise((function(s,n){i.modExists("ajax")&&i.modules.ajax.blockActiveRequest(),"string"==typeof e&&(e=JSON.parse(e)),e?i.rowManager.addRows(e,t,o).then((function(e){var t=[];e.forEach((function(e){t.push(e.getComponent())})),s(t)})):(console.warn("Update Error - No data provided"),n("Update Error - No data provided"))}))},Tabulator.prototype.updateOrAddData=function(e){var t=this,o=this,i=[],s=0;return new Promise((function(n,a){t.modExists("ajax")&&t.modules.ajax.blockActiveRequest(),"string"==typeof e&&(e=JSON.parse(e)),e?e.forEach((function(e){var t=o.rowManager.findRow(e[o.options.index]);s++,t?t.updateData(e).then((function(){s--,i.push(t.getComponent()),s||n(i)})):o.rowManager.addRows(e).then((function(e){s--,i.push(e[0].getComponent()),s||n(i)}))})):(console.warn("Update Error - No data provided"),a("Update Error - No data provided"))}))},Tabulator.prototype.getRow=function(e){var t=this.rowManager.findRow(e);return t?t.getComponent():(console.warn("Find Error - No matching row found:",e),!1)},Tabulator.prototype.getRowFromPosition=function(e,t){var o=this.rowManager.getRowFromPosition(e,t);return o?o.getComponent():(console.warn("Find Error - No matching row found:",e),!1)},Tabulator.prototype.deleteRow=function(e){var t=this;return new Promise((function(o,i){var s=t,n=0,a=0,l=[];function r(){++n==e.length&&a&&(s.rowManager.reRenderInPosition(),o())}Array.isArray(e)||(e=[e]),e.forEach((function(e){var o=t.rowManager.findRow(e,!0);o?l.push(o):(console.warn("Delete Error - No matching row found:",e),i("Delete Error - No matching row found"),r())})),l.sort((function(e,o){return t.rowManager.rows.indexOf(e)>t.rowManager.rows.indexOf(o)?1:-1})),l.forEach((function(e){e.delete().then((function(){a++,r()})).catch((function(e){r(),i(e)}))}))}))},Tabulator.prototype.addRow=function(e,t,o){var i=this;return new Promise((function(s,n){"string"==typeof e&&(e=JSON.parse(e)),i.rowManager.addRows(e,t,o).then((function(e){i.modExists("columnCalcs")&&i.modules.columnCalcs.recalc(i.rowManager.activeRows),s(e[0].getComponent())}))}))},Tabulator.prototype.updateOrAddRow=function(e,t){var o=this;return new Promise((function(i,s){var n=o.rowManager.findRow(e);"string"==typeof t&&(t=JSON.parse(t)),n?n.updateData(t).then((function(){o.modExists("columnCalcs")&&o.modules.columnCalcs.recalc(o.rowManager.activeRows),i(n.getComponent())})).catch((function(e){s(e)})):n=o.rowManager.addRows(t).then((function(e){o.modExists("columnCalcs")&&o.modules.columnCalcs.recalc(o.rowManager.activeRows),i(e[0].getComponent())})).catch((function(e){s(e)}))}))},Tabulator.prototype.updateRow=function(e,t){var o=this;return new Promise((function(i,s){var n=o.rowManager.findRow(e);"string"==typeof t&&(t=JSON.parse(t)),n?n.updateData(t).then((function(){i(n.getComponent())})).catch((function(e){s(e)})):(console.warn("Update Error - No matching row found:",e),s("Update Error - No matching row found"))}))},Tabulator.prototype.scrollToRow=function(e,t,o){var i=this;return new Promise((function(s,n){var a=i.rowManager.findRow(e);a?i.rowManager.scrollToRow(a,t,o).then((function(){s()})).catch((function(e){n(e)})):(console.warn("Scroll Error - No matching row found:",e),n("Scroll Error - No matching row found"))}))},Tabulator.prototype.moveRow=function(e,t,o){var i=this.rowManager.findRow(e);i?i.moveToRow(t,o):console.warn("Move Error - No matching row found:",e)},Tabulator.prototype.getRows=function(e){return!0===e&&(console.warn("passing a boolean to the getRows function is deprecated, you should now pass the string 'active'"),e="active"),this.rowManager.getComponents(e)},Tabulator.prototype.getRowPosition=function(e,t){var o=this.rowManager.findRow(e);return o?this.rowManager.getRowPosition(o,t):(console.warn("Position Error - No matching row found:",e),!1)},Tabulator.prototype.copyToClipboard=function(e){this.modExists("clipboard",!0)&&this.modules.clipboard.copy(e)},Tabulator.prototype.setColumns=function(e){this.columnManager.setColumns(e)},Tabulator.prototype.getColumns=function(e){return this.columnManager.getComponents(e)},Tabulator.prototype.getColumn=function(e){var t=this.columnManager.findColumn(e);return t?t.getComponent():(console.warn("Find Error - No matching column found:",e),!1)},Tabulator.prototype.getColumnDefinitions=function(){return this.columnManager.getDefinitionTree()},Tabulator.prototype.getColumnLayout=function(){if(this.modExists("persistence",!0))return this.modules.persistence.parseColumns(this.columnManager.getColumns())},Tabulator.prototype.setColumnLayout=function(e){return!!this.modExists("persistence",!0)&&(this.columnManager.setColumns(this.modules.persistence.mergeDefinition(this.options.columns,e)),!0)},Tabulator.prototype.showColumn=function(e){var t=this.columnManager.findColumn(e);if(!t)return console.warn("Column Show Error - No matching column found:",e),!1;t.show(),this.options.responsiveLayout&&this.modExists("responsiveLayout",!0)&&this.modules.responsiveLayout.update()},Tabulator.prototype.hideColumn=function(e){var t=this.columnManager.findColumn(e);if(!t)return console.warn("Column Hide Error - No matching column found:",e),!1;t.hide(),this.options.responsiveLayout&&this.modExists("responsiveLayout",!0)&&this.modules.responsiveLayout.update()},Tabulator.prototype.toggleColumn=function(e){var t=this.columnManager.findColumn(e);if(!t)return console.warn("Column Visibility Toggle Error - No matching column found:",e),!1;t.visible?t.hide():t.show()},Tabulator.prototype.addColumn=function(e,t,o){var i=this;return new Promise((function(s,n){var a=i.columnManager.findColumn(o);i.columnManager.addColumn(e,t,a).then((function(e){s(e.getComponent())})).catch((function(e){n(e)}))}))},Tabulator.prototype.deleteColumn=function(e){var t=this;return new Promise((function(o,i){var s=t.columnManager.findColumn(e);s?s.delete().then((function(){o()})).catch((function(e){i(e)})):(console.warn("Column Delete Error - No matching column found:",e),i())}))},Tabulator.prototype.updateColumnDefinition=function(e,t){var o=this;return new Promise((function(i,s){var n=o.columnManager.findColumn(e);n?n.updateDefinition(t).then((function(e){i(e)})).catch((function(e){s(e)})):(console.warn("Column Update Error - No matching column found:",e),s())}))},Tabulator.prototype.moveColumn=function(e,t,o){var i=this.columnManager.findColumn(e),s=this.columnManager.findColumn(t);i?s?this.columnManager.moveColumn(i,s,o):console.warn("Move Error - No matching column found:",s):console.warn("Move Error - No matching column found:",e)},Tabulator.prototype.scrollToColumn=function(e,t,o){var i=this;return new Promise((function(s,n){var a=i.columnManager.findColumn(e);a?i.columnManager.scrollToColumn(a,t,o).then((function(){s()})).catch((function(e){n(e)})):(console.warn("Scroll Error - No matching column found:",e),n("Scroll Error - No matching column found"))}))},Tabulator.prototype.setLocale=function(e){this.modules.localize.setLocale(e)},Tabulator.prototype.getLocale=function(){return this.modules.localize.getLocale()},Tabulator.prototype.getLang=function(e){return this.modules.localize.getLang(e)},Tabulator.prototype.redraw=function(e){this.columnManager.redraw(e),this.rowManager.redraw(e)},Tabulator.prototype.setHeight=function(e){"classic"!==this.rowManager.renderMode?(this.options.height=isNaN(e)?e:e+"px",this.element.style.height=this.options.height,this.rowManager.setRenderMode(),this.rowManager.redraw()):console.warn("setHeight function is not available in classic render mode")},Tabulator.prototype.setSort=function(e,t){this.modExists("sort",!0)&&(this.modules.sort.setSort(e,t),this.rowManager.sorterRefresh())},Tabulator.prototype.getSorters=function(){if(this.modExists("sort",!0))return this.modules.sort.getSort()},Tabulator.prototype.clearSort=function(){this.modExists("sort",!0)&&(this.modules.sort.clear(),this.rowManager.sorterRefresh())},Tabulator.prototype.setFilter=function(e,t,o,i){this.modExists("filter",!0)&&(this.modules.filter.setFilter(e,t,o,i),this.rowManager.filterRefresh())},Tabulator.prototype.refreshFilter=function(){this.modExists("filter",!0)&&this.rowManager.filterRefresh()},Tabulator.prototype.addFilter=function(e,t,o,i){this.modExists("filter",!0)&&(this.modules.filter.addFilter(e,t,o,i),this.rowManager.filterRefresh())},Tabulator.prototype.getFilters=function(e){if(this.modExists("filter",!0))return this.modules.filter.getFilters(e)},Tabulator.prototype.setHeaderFilterFocus=function(e){if(this.modExists("filter",!0)){var t=this.columnManager.findColumn(e);if(!t)return console.warn("Column Filter Focus Error - No matching column found:",e),!1;this.modules.filter.setHeaderFilterFocus(t)}},Tabulator.prototype.getHeaderFilterValue=function(e){if(this.modExists("filter",!0)){var t=this.columnManager.findColumn(e);if(t)return this.modules.filter.getHeaderFilterValue(t);console.warn("Column Filter Error - No matching column found:",e)}},Tabulator.prototype.setHeaderFilterValue=function(e,t){if(this.modExists("filter",!0)){var o=this.columnManager.findColumn(e);if(!o)return console.warn("Column Filter Error - No matching column found:",e),!1;this.modules.filter.setHeaderFilterValue(o,t)}},Tabulator.prototype.getHeaderFilters=function(){if(this.modExists("filter",!0))return this.modules.filter.getHeaderFilters()},Tabulator.prototype.removeFilter=function(e,t,o){this.modExists("filter",!0)&&(this.modules.filter.removeFilter(e,t,o),this.rowManager.filterRefresh())},Tabulator.prototype.clearFilter=function(e){this.modExists("filter",!0)&&(this.modules.filter.clearFilter(e),this.rowManager.filterRefresh())},Tabulator.prototype.clearHeaderFilter=function(){this.modExists("filter",!0)&&(this.modules.filter.clearHeaderFilter(),this.rowManager.filterRefresh())},Tabulator.prototype.selectRow=function(e){this.modExists("selectRow",!0)&&(!0===e&&(console.warn("passing a boolean to the selectRowselectRow function is deprecated, you should now pass the string 'active'"),e="active"),this.modules.selectRow.selectRows(e))},Tabulator.prototype.deselectRow=function(e){this.modExists("selectRow",!0)&&this.modules.selectRow.deselectRows(e)},Tabulator.prototype.toggleSelectRow=function(e){this.modExists("selectRow",!0)&&this.modules.selectRow.toggleRow(e)},Tabulator.prototype.getSelectedRows=function(){if(this.modExists("selectRow",!0))return this.modules.selectRow.getSelectedRows()},Tabulator.prototype.getSelectedData=function(){if(this.modExists("selectRow",!0))return this.modules.selectRow.getSelectedData()},Tabulator.prototype.getInvalidCells=function(){if(this.modExists("validate",!0))return this.modules.validate.getInvalidCells()},Tabulator.prototype.clearCellValidation=function(e){var t=this;this.modExists("validate",!0)&&(e||(e=this.modules.validate.getInvalidCells()),Array.isArray(e)||(e=[e]),e.forEach((function(e){t.modules.validate.clearValidation(e._getSelf())})))},Tabulator.prototype.validate=function(e){var t=[];return this.rowManager.rows.forEach((function(e){var o=e.validate();!0!==o&&(t=t.concat(o))})),!t.length||t},Tabulator.prototype.setMaxPage=function(e){if(!this.options.pagination||!this.modExists("page"))return!1;this.modules.page.setMaxPage(e)},Tabulator.prototype.setPage=function(e){return this.options.pagination&&this.modExists("page")?this.modules.page.setPage(e):new Promise((function(e,t){t()}))},Tabulator.prototype.setPageToRow=function(e){var t=this;return new Promise((function(o,i){t.options.pagination&&t.modExists("page")&&(e=t.rowManager.findRow(e))?t.modules.page.setPageToRow(e).then((function(){o()})).catch((function(){i()})):i()}))},Tabulator.prototype.setPageSize=function(e){if(!this.options.pagination||!this.modExists("page"))return!1;this.modules.page.setPageSize(e),this.modules.page.setPage(1).then((function(){})).catch((function(){}))},Tabulator.prototype.getPageSize=function(){if(this.options.pagination&&this.modExists("page",!0))return this.modules.page.getPageSize()},Tabulator.prototype.previousPage=function(){if(!this.options.pagination||!this.modExists("page"))return!1;this.modules.page.previousPage()},Tabulator.prototype.nextPage=function(){if(!this.options.pagination||!this.modExists("page"))return!1;this.modules.page.nextPage()},Tabulator.prototype.getPage=function(){return!(!this.options.pagination||!this.modExists("page"))&&this.modules.page.getPage()},Tabulator.prototype.getPageMax=function(){return!(!this.options.pagination||!this.modExists("page"))&&this.modules.page.getPageMax()},Tabulator.prototype.setGroupBy=function(e){if(!this.modExists("groupRows",!0))return!1;this.options.groupBy=e,this.modules.groupRows.initialize(),this.rowManager.refreshActiveData("display"),this.options.persistence&&this.modExists("persistence",!0)&&this.modules.persistence.config.group&&this.modules.persistence.save("group")},Tabulator.prototype.setGroupValues=function(e){if(!this.modExists("groupRows",!0))return!1;this.options.groupValues=e,this.modules.groupRows.initialize(),this.rowManager.refreshActiveData("display"),this.options.persistence&&this.modExists("persistence",!0)&&this.modules.persistence.config.group&&this.modules.persistence.save("group")},Tabulator.prototype.setGroupStartOpen=function(e){if(!this.modExists("groupRows",!0))return!1;this.options.groupStartOpen=e,this.modules.groupRows.initialize(),this.options.groupBy?(this.rowManager.refreshActiveData("group"),this.options.persistence&&this.modExists("persistence",!0)&&this.modules.persistence.config.group&&this.modules.persistence.save("group")):console.warn("Grouping Update - cant refresh view, no groups have been set")},Tabulator.prototype.setGroupHeader=function(e){if(!this.modExists("groupRows",!0))return!1;this.options.groupHeader=e,this.modules.groupRows.initialize(),this.options.groupBy?(this.rowManager.refreshActiveData("group"),this.options.persistence&&this.modExists("persistence",!0)&&this.modules.persistence.config.group&&this.modules.persistence.save("group")):console.warn("Grouping Update - cant refresh view, no groups have been set")},Tabulator.prototype.getGroups=function(e){return!!this.modExists("groupRows",!0)&&this.modules.groupRows.getGroups(!0)},Tabulator.prototype.getGroupedData=function(){if(this.modExists("groupRows",!0))return this.options.groupBy?this.modules.groupRows.getGroupedData():this.getData()},Tabulator.prototype.getEditedCells=function(){if(this.modExists("edit",!0))return this.modules.edit.getEditedCells()},Tabulator.prototype.clearCellEdited=function(e){var t=this;this.modExists("edit",!0)&&(e||(e=this.modules.edit.getEditedCells()),Array.isArray(e)||(e=[e]),e.forEach((function(e){t.modules.edit.clearEdited(e._getSelf())})))},Tabulator.prototype.getCalcResults=function(){return!!this.modExists("columnCalcs",!0)&&this.modules.columnCalcs.getResults()},Tabulator.prototype.recalc=function(){this.modExists("columnCalcs",!0)&&this.modules.columnCalcs.recalcAll(this.rowManager.activeRows)},Tabulator.prototype.navigatePrev=function(){var e=!1;return!(!this.modExists("edit",!0)||!(e=this.modules.edit.currentCell))&&e.nav().prev()},Tabulator.prototype.navigateNext=function(){var e=!1;return!(!this.modExists("edit",!0)||!(e=this.modules.edit.currentCell))&&e.nav().next()},Tabulator.prototype.navigateLeft=function(){var t=!1;return!(!this.modExists("edit",!0)||!(t=this.modules.edit.currentCell))&&(e.preventDefault(),t.nav().left())},Tabulator.prototype.navigateRight=function(){var t=!1;return!(!this.modExists("edit",!0)||!(t=this.modules.edit.currentCell))&&(e.preventDefault(),t.nav().right())},Tabulator.prototype.navigateUp=function(){var t=!1;return!(!this.modExists("edit",!0)||!(t=this.modules.edit.currentCell))&&(e.preventDefault(),t.nav().up())},Tabulator.prototype.navigateDown=function(){var t=!1;return!(!this.modExists("edit",!0)||!(t=this.modules.edit.currentCell))&&(e.preventDefault(),t.nav().down())},Tabulator.prototype.undo=function(){return!(!this.options.history||!this.modExists("history",!0))&&this.modules.history.undo()},Tabulator.prototype.redo=function(){return!(!this.options.history||!this.modExists("history",!0))&&this.modules.history.redo()},Tabulator.prototype.getHistoryUndoSize=function(){return!(!this.options.history||!this.modExists("history",!0))&&this.modules.history.getHistoryUndoSize()},Tabulator.prototype.getHistoryRedoSize=function(){return!(!this.options.history||!this.modExists("history",!0))&&this.modules.history.getHistoryRedoSize()},Tabulator.prototype.clearHistory=function(){return!(!this.options.history||!this.modExists("history",!0))&&this.modules.history.clear()},Tabulator.prototype.download=function(e,t,o,i){this.modExists("download",!0)&&this.modules.download.download(e,t,o,i)},Tabulator.prototype.downloadToTab=function(e,t,o,i){this.modExists("download",!0)&&this.modules.download.download(e,t,o,i,!0)},Tabulator.prototype.tableComms=function(e,t,o,i){this.modules.comms.receive(e,t,o,i)},Tabulator.prototype.moduleBindings={},Tabulator.prototype.extendModule=function(e,t,o){if(Tabulator.prototype.moduleBindings[e]){var i=Tabulator.prototype.moduleBindings[e].prototype[t];if(i)if("object"==(void 0===o?"undefined":_typeof(o)))for(var s in o)i[s]=o[s];else console.warn("Module Error - Invalid value type, it must be an object");else console.warn("Module Error - property does not exist:",t)}else console.warn("Module Error - module does not exist:",e)},Tabulator.prototype.registerModule=function(e,t){Tabulator.prototype.moduleBindings[e]=t},Tabulator.prototype.bindModules=function(){for(var e in this.modules={},Tabulator.prototype.moduleBindings)this.modules[e]=new Tabulator.prototype.moduleBindings[e](this)},Tabulator.prototype.modExists=function(e,t){return!!this.modules[e]||(t&&console.error("Tabulator Module Not Installed: "+e),!1)},Tabulator.prototype.helpers={elVisible:function(e){return!(e.offsetWidth<=0&&e.offsetHeight<=0)},elOffset:function(e){var t=e.getBoundingClientRect();return{top:t.top+window.pageYOffset-document.documentElement.clientTop,left:t.left+window.pageXOffset-document.documentElement.clientLeft}},deepClone:function(e){var t=Object.assign(Array.isArray(e)?[]:{},e);for(var o in e)null!=e[o]&&"object"===_typeof(e[o])&&(e[o]instanceof Date?t[o]=new Date(e[o]):t[o]=this.deepClone(e[o]));return t}},Tabulator.prototype.comms={tables:[],register:function(e){Tabulator.prototype.comms.tables.push(e)},deregister:function(e){var t=Tabulator.prototype.comms.tables.indexOf(e);t>-1&&Tabulator.prototype.comms.tables.splice(t,1)},lookupTable:function(e,t){var o,i,s=[];if("string"==typeof e){if((o=document.querySelectorAll(e)).length)for(var n=0;n<o.length;n++)(i=Tabulator.prototype.comms.matchElement(o[n]))&&s.push(i)}else"undefined"!=typeof HTMLElement&&e instanceof HTMLElement||e instanceof Tabulator?(i=Tabulator.prototype.comms.matchElement(e))&&s.push(i):Array.isArray(e)?e.forEach((function(e){s=s.concat(Tabulator.prototype.comms.lookupTable(e))})):t||console.warn("Table Connection Error - Invalid Selector",e);return s},matchElement:function(e){return Tabulator.prototype.comms.tables.find((function(t){return e instanceof Tabulator?t===e:t.element===e}))}},Tabulator.prototype.findTable=function(e){var t=Tabulator.prototype.comms.lookupTable(e,!0);return!(Array.isArray(t)&&!t.length)&&t};var Layout=function(e){this.table=e,this.mode=null};Layout.prototype.initialize=function(e){this.modes[e]?this.mode=e:(console.warn("Layout Error - invalid mode set, defaulting to 'fitData' : "+e),this.mode="fitData"),this.table.element.setAttribute("tabulator-layout",this.mode)},Layout.prototype.getMode=function(){return this.mode},Layout.prototype.layout=function(){this.modes[this.mode].call(this,this.table.columnManager.columnsByIndex),0===this.mode.indexOf("fitData")&&this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.columns&&this.table.modules.persistence.save("columns")},Layout.prototype.modes={fitData:function(e){this.table.options.virtualDomHoz?this.table.vdomHoz.fitDataLayoutOverride():e.forEach((function(e){e.reinitializeWidth()})),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()},fitDataFill:function(e){e.forEach((function(e){e.reinitializeWidth()})),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()},fitDataTable:function(e){e.forEach((function(e){e.reinitializeWidth()})),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()},fitDataStretch:function(e){var t=this,o=0,i=this.table.rowManager.element.clientWidth,s=0,n=!1;e.forEach((function(e,i){e.widthFixed||e.reinitializeWidth(),(t.table.options.responsiveLayout?e.modules.responsive.visible:e.visible)&&(n=e),e.visible&&(o+=e.getWidth())})),n?(s=i-o+n.getWidth(),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&(n.setWidth(0),this.table.modules.responsiveLayout.update()),s>0?n.setWidth(s):n.reinitializeWidth()):this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()},fitColumns:function(e){var t,o,i=this.table.element.clientWidth,s=0,n=0,a=0,l=[],r=[],u=0,c=0;function d(e){return"string"==typeof e?e.indexOf("%")>-1?i/100*parseInt(e):parseInt(e):e}function m(e,t,o,i){var s=[],n=0,l=0,r=0,u=a,c=0,h=0,p=[];function g(e){return o*(e.column.definition.widthGrow||1)}function f(e){return d(e.width)-o*(e.column.definition.widthShrink||0)}return e.forEach((function(e,n){var a=i?f(e):g(e);e.column.minWidth>=a?s.push(e):e.column.maxWidth&&e.column.maxWidth<a?(e.width=e.column.maxWidth,t-=e.column.maxWidth,(u-=i?e.column.definition.widthShrink||1:e.column.definition.widthGrow||1)&&(o=Math.floor(t/u))):(p.push(e),h+=i?e.column.definition.widthShrink||1:e.column.definition.widthGrow||1)})),s.length?(s.forEach((function(e){n+=i?e.width-e.column.minWidth:e.column.minWidth,e.width=e.column.minWidth})),c=(l=t-n)-(r=h?Math.floor(l/h):l)*h,c+=m(p,l,r,i)):(c=h?t-Math.floor(t/h)*h:t,p.forEach((function(e){e.width=i?f(e):g(e)}))),c}this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update(),this.table.rowManager.element.scrollHeight>this.table.rowManager.element.clientHeight&&(i-=this.table.rowManager.element.offsetWidth-this.table.rowManager.element.clientWidth),e.forEach((function(e){var t,o,i;e.visible&&(t=e.definition.width,o=parseInt(e.minWidth),t?(i=d(t),s+=i>o?i:o,e.definition.widthShrink&&(r.push({column:e,width:i>o?i:o}),u+=e.definition.widthShrink)):(l.push({column:e,width:0}),a+=e.definition.widthGrow||1))})),n=i-s,t=Math.floor(n/a);c=m(l,n,t,!1);l.length&&c>0&&(l[l.length-1].width+=+c),l.forEach((function(e){n-=e.width})),(o=Math.abs(c)+n)>0&&u&&(c=m(r,o,Math.floor(o/u),!0)),r.length&&(r[r.length-1].width-=c),l.forEach((function(e){e.column.setWidth(e.width)})),r.forEach((function(e){e.column.setWidth(e.width)}))}},Tabulator.prototype.registerModule("layout",Layout);var Localize=function(e){this.table=e,this.locale="default",this.lang=!1,this.bindings={},this.langList={}};Localize.prototype.initialize=function(){this.langList=Tabulator.prototype.helpers.deepClone(this.langs)},Localize.prototype.setHeaderFilterPlaceholder=function(e){this.langList.default.headerFilters.default=e},Localize.prototype.setHeaderFilterColumnPlaceholder=function(e,t){this.langList.default.headerFilters.columns[e]=t,this.lang&&!this.lang.headerFilters.columns[e]&&(this.lang.headerFilters.columns[e]=t)},Localize.prototype.installLang=function(e,t){this.langList[e]?this._setLangProp(this.langList[e],t):this.langList[e]=t},Localize.prototype._setLangProp=function(e,t){for(var o in t)e[o]&&"object"==_typeof(e[o])?this._setLangProp(e[o],t[o]):e[o]=t[o]},Localize.prototype.setLocale=function(e){var t=this;if(!0===(e=e||"default")&&navigator.language&&(e=navigator.language.toLowerCase()),e&&!t.langList[e]){var o=e.split("-")[0];t.langList[o]?(console.warn("Localization Error - Exact matching locale not found, using closest match: ",e,o),e=o):(console.warn("Localization Error - Matching locale not found, using default: ",e),e="default")}t.locale=e,t.lang=Tabulator.prototype.helpers.deepClone(t.langList.default||{}),"default"!=e&&function e(t,o){for(var i in t)"object"==_typeof(t[i])?(o[i]||(o[i]={}),e(t[i],o[i])):o[i]=t[i]}(t.langList[e],t.lang),t.table.options.localized.call(t.table,t.locale,t.lang),t._executeBindings()},Localize.prototype.getLocale=function(e){return self.locale},Localize.prototype.getLang=function(e){return e?this.langList[e]:this.lang},Localize.prototype.getText=function(e,t){var o=(e=t?e+"|"+t:e).split("|");return this._getLangElement(o,this.locale)||""},Localize.prototype._getLangElement=function(e,t){var o=this.lang;return e.forEach((function(e){var t;o&&(t=o[e],o=void 0!==t&&t)})),o},Localize.prototype.bind=function(e,t){this.bindings[e]||(this.bindings[e]=[]),this.bindings[e].push(t),t(this.getText(e),this.lang)},Localize.prototype._executeBindings=function(){var e=this,t=function(t){e.bindings[t].forEach((function(o){o(e.getText(t),e.lang)}))};for(var o in e.bindings)t(o)},Localize.prototype.langs={default:{groups:{item:"item",items:"items"},columns:{},ajax:{loading:"Loading",error:"Error"},pagination:{page_size:"Page Size",page_title:"Show Page",first:"First",first_title:"First Page",last:"Last",last_title:"Last Page",prev:"Prev",prev_title:"Prev Page",next:"Next",next_title:"Next Page",all:"All"},headerFilters:{default:"filter column...",columns:{}}}},Tabulator.prototype.registerModule("localize",Localize);var Comms=function(e){this.table=e};Comms.prototype.getConnections=function(e){var t=this,o=[];return Tabulator.prototype.comms.lookupTable(e).forEach((function(e){t.table!==e&&o.push(e)})),o},Comms.prototype.send=function(e,t,o,i){var s=this,n=this.getConnections(e);n.forEach((function(e){e.tableComms(s.table.element,t,o,i)})),!n.length&&e&&console.warn("Table Connection Error - No tables matching selector found",e)},Comms.prototype.receive=function(e,t,o,i){if(this.table.modExists(t))return this.table.modules[t].commsReceived(e,o,i);console.warn("Inter-table Comms Error - no such module:",t)},Tabulator.prototype.registerModule("comms",Comms);_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var Sort=function(e){this.table=e,this.sortList=[],this.changed=!1};Sort.prototype.initializeColumn=function(e,t){var o,i,s=this,n=!1;switch(_typeof(e.definition.sorter)){case"string":s.sorters[e.definition.sorter]?n=s.sorters[e.definition.sorter]:console.warn("Sort Error - No such sorter found: ",e.definition.sorter);break;case"function":n=e.definition.sorter}e.modules.sort={sorter:n,dir:"none",params:e.definition.sorterParams||{},startingDir:e.definition.headerSortStartingDir||"asc",tristate:void 0!==e.definition.headerSortTristate?e.definition.headerSortTristate:this.table.options.headerSortTristate},(void 0===e.definition.headerSort?!1!==this.table.options.headerSort:!1!==e.definition.headerSort)&&((o=e.getElement()).classList.add("tabulator-sortable"),(i=document.createElement("div")).classList.add("tabulator-col-sorter"),"object"==_typeof(this.table.options.headerSortElement)?i.appendChild(this.table.options.headerSortElement):i.innerHTML=this.table.options.headerSortElement,t.appendChild(i),e.modules.sort.element=i,o.addEventListener("click",(function(t){var o="",i=[],n=!1;if(e.modules.sort){if(e.modules.sort.tristate)o="none"==e.modules.sort.dir?e.modules.sort.startingDir:e.modules.sort.dir==e.modules.sort.startingDir?"asc"==e.modules.sort.dir?"desc":"asc":"none";else switch(e.modules.sort.dir){case"asc":o="desc";break;case"desc":o="asc";break;default:o=e.modules.sort.startingDir}s.table.options.columnHeaderSortMulti&&(t.shiftKey||t.ctrlKey)?((n=(i=s.getSort()).findIndex((function(t){return t.field===e.getField()})))>-1?(i[n].dir=o,n!=i.length-1&&(n=i.splice(n,1)[0],"none"!=o&&i.push(n))):"none"!=o&&i.push({column:e,dir:o}),s.setSort(i)):"none"==o?s.clear():s.setSort(e,o),s.table.rowManager.sorterRefresh(!s.sortList.length)}})))},Sort.prototype.hasChanged=function(){var e=this.changed;return this.changed=!1,e},Sort.prototype.getSort=function(){var e=[];return this.sortList.forEach((function(t){t.column&&e.push({column:t.column.getComponent(),field:t.column.getField(),dir:t.dir})})),e},Sort.prototype.setSort=function(e,t){var o=this,i=[];Array.isArray(e)||(e=[{column:e,dir:t}]),e.forEach((function(e){var t;(t=o.table.columnManager.findColumn(e.column))?(e.column=t,i.push(e),o.changed=!0):console.warn("Sort Warning - Sort field does not exist and is being ignored: ",e.column)})),o.sortList=i,this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.sort&&this.table.modules.persistence.save("sort")},Sort.prototype.clear=function(){this.setSort([])},Sort.prototype.findSorter=function(e){var t,o=this.table.rowManager.activeRows[0],i="string";if(o&&(o=o.getData(),e.getField()))switch(void 0===(t=e.getFieldValue(o))?"undefined":_typeof(t)){case"undefined":i="string";break;case"boolean":i="boolean";break;default:isNaN(t)||""===t?t.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)&&(i="alphanum"):i="number"}return this.sorters[i]},Sort.prototype.sort=function(e){var t=this,o=this.table.options.sortOrderReverse?t.sortList.slice().reverse():t.sortList,i=[],s=[];t.table.options.dataSorting&&t.table.options.dataSorting.call(t.table,t.getSort()),t.clearColumnHeaders(),t.table.options.ajaxSorting?o.forEach((function(e,o){t.setColumnHeader(e.column,e.dir)})):(o.forEach((function(e,o){var s=e.column.modules.sort;e.column&&s&&(s.sorter||(s.sorter=t.findSorter(e.column)),e.params="function"==typeof s.params?s.params(e.column.getComponent(),e.dir):s.params,i.push(e)),t.setColumnHeader(e.column,e.dir)})),i.length&&t._sortItems(e,i)),t.table.options.dataSorted&&(e.forEach((function(e){s.push(e.getComponent())})),t.table.options.dataSorted.call(t.table,t.getSort(),s))},Sort.prototype.clearColumnHeaders=function(){this.table.columnManager.getRealColumns().forEach((function(e){e.modules.sort&&(e.modules.sort.dir="none",e.getElement().setAttribute("aria-sort","none"))}))},Sort.prototype.setColumnHeader=function(e,t){e.modules.sort.dir=t,e.getElement().setAttribute("aria-sort",t)},Sort.prototype._sortItems=function(e,t){var o=this,i=t.length-1;e.sort((function(e,s){for(var n,a=i;a>=0;a--){var l=t[a];if(0!==(n=o._sortRow(e,s,l.column,l.dir,l.params)))break}return n}))},Sort.prototype._sortRow=function(e,t,o,i,s){var n,a,l="asc"==i?e:t,r="asc"==i?t:e;return e=void 0!==(e=o.getFieldValue(l.getData()))?e:"",t=void 0!==(t=o.getFieldValue(r.getData()))?t:"",n=l.getComponent(),a=r.getComponent(),o.modules.sort.sorter.call(this,e,t,n,a,o.getComponent(),i,s)},Sort.prototype.sorters={number:function(e,t,o,i,s,n,a){var l=a.alignEmptyValues,r=a.decimalSeparator,u=a.thousandSeparator,c=0;if(e=String(e),t=String(t),u&&(e=e.split(u).join(""),t=t.split(u).join("")),r&&(e=e.split(r).join("."),t=t.split(r).join(".")),e=parseFloat(e),t=parseFloat(t),isNaN(e))c=isNaN(t)?0:-1;else{if(!isNaN(t))return e-t;c=1}return("top"===l&&"desc"===n||"bottom"===l&&"asc"===n)&&(c*=-1),c},string:function(e,t,o,i,s,n,a){var l,r=a.alignEmptyValues,u=0;if(e){if(t){switch(_typeof(a.locale)){case"boolean":a.locale&&(l=this.table.modules.localize.getLocale());break;case"string":l=a.locale}return String(e).toLowerCase().localeCompare(String(t).toLowerCase(),l)}u=1}else u=t?-1:0;return("top"===r&&"desc"===n||"bottom"===r&&"asc"===n)&&(u*=-1),u},date:function(e,t,o,i,s,n,a){return a.format||(a.format="DD/MM/YYYY"),this.sorters.datetime.call(this,e,t,o,i,s,n,a)},time:function(e,t,o,i,s,n,a){return a.format||(a.format="HH:mm"),this.sorters.datetime.call(this,e,t,o,i,s,n,a)},datetime:function(e,t,o,i,s,n,a){var l=a.format||"DD/MM/YYYY HH:mm:ss",r=a.alignEmptyValues,u=0;if("undefined"!=typeof moment){if(e=moment(e,l),t=moment(t,l),e.isValid()){if(t.isValid())return e-t;u=1}else u=t.isValid()?-1:0;return("top"===r&&"desc"===n||"bottom"===r&&"asc"===n)&&(u*=-1),u}console.error("Sort Error - 'datetime' sorter is dependant on moment.js")},boolean:function(e,t,o,i,s,n,a){return(!0===e||"true"===e||"True"===e||1===e?1:0)-(!0===t||"true"===t||"True"===t||1===t?1:0)},array:function(e,t,o,i,s,n,a){var l=a.type||"length",r=a.alignEmptyValues,u=0;function c(e){switch(l){case"length":return e.length;case"sum":return e.reduce((function(e,t){return e+t}));case"max":return Math.max.apply(null,e);case"min":return Math.min.apply(null,e);case"avg":return e.reduce((function(e,t){return e+t}))/e.length}}if(Array.isArray(e)){if(Array.isArray(t))return(e?c(e):0)-(t?c(t):0);r=1}else r=Array.isArray(t)?-1:0;return("top"===r&&"desc"===n||"bottom"===r&&"asc"===n)&&(u*=-1),u},exists:function(e,t,o,i,s,n,a){return(void 0===e?0:1)-(void 0===t?0:1)},alphanum:function(e,t,o,i,s,n,a){var l,r,u,c,d,m=0,h=/(\d+)|(\D+)/g,p=/\d/,g=a.alignEmptyValues,f=0;if(e||0===e){if(t||0===t){if(isFinite(e)&&isFinite(t))return e-t;if((l=String(e).toLowerCase())===(r=String(t).toLowerCase()))return 0;if(!p.test(l)||!p.test(r))return l>r?1:-1;for(l=l.match(h),r=r.match(h),d=l.length>r.length?r.length:l.length;m<d;)if((u=l[m])!==(c=r[m++]))return isFinite(u)&&isFinite(c)?("0"===u.charAt(0)&&(u="."+u),"0"===c.charAt(0)&&(c="."+c),u-c):u>c?1:-1;return l.length>r.length}f=1}else f=t||0===t?-1:0;return("top"===g&&"desc"===n||"bottom"===g&&"asc"===n)&&(f*=-1),f}},Tabulator.prototype.registerModule("sort",Sort);_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var Format=function(e){this.table=e};Format.prototype.initializeColumn=function(e){e.modules.format=this.lookupFormatter(e,""),void 0!==e.definition.formatterPrint&&(e.modules.format.print=this.lookupFormatter(e,"Print")),void 0!==e.definition.formatterClipboard&&(e.modules.format.clipboard=this.lookupFormatter(e,"Clipboard")),void 0!==e.definition.formatterHtmlOutput&&(e.modules.format.htmlOutput=this.lookupFormatter(e,"HtmlOutput"))},Format.prototype.lookupFormatter=function(e,t){var o={params:e.definition["formatter"+t+"Params"]||{}},i=e.definition["formatter"+t];switch(void 0===i?"undefined":_typeof(i)){case"string":"tick"===i&&(i="tickCross",void 0===o.params.crossElement&&(o.params.crossElement=!1),console.warn("DEPRECATION WARNING - the tick formatter has been deprecated, please use the tickCross formatter with the crossElement param set to false")),this.formatters[i]?o.formatter=this.formatters[i]:(console.warn("Formatter Error - No such formatter found: ",i),o.formatter=this.formatters.plaintext);break;case"function":o.formatter=i;break;default:o.formatter=this.formatters.plaintext}return o},Format.prototype.cellRendered=function(e){e.modules.format&&e.modules.format.renderedCallback&&!e.modules.format.rendered&&(e.modules.format.renderedCallback(),e.modules.format.rendered=!0)},Format.prototype.formatValue=function(e){var t=e.getComponent(),o="function"==typeof e.column.modules.format.params?e.column.modules.format.params(t):e.column.modules.format.params;return e.column.modules.format.formatter.call(this,t,o,(function(t){e.modules.format||(e.modules.format={}),e.modules.format.renderedCallback=t,e.modules.format.rendered=!1}))},Format.prototype.formatExportValue=function(e,t){var o,i=e.column.modules.format[t];if(i){return o="function"==typeof i.params?i.params(component):i.params,i.formatter.call(this,e.getComponent(),o,(function(t){e.modules.format||(e.modules.format={}),e.modules.format.renderedCallback=t,e.modules.format.rendered=!1}))}return this.formatValue(e)},Format.prototype.sanitizeHTML=function(e){if(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(e).replace(/[&<>"'`=\/]/g,(function(e){return t[e]}))}return e},Format.prototype.emptyToSpace=function(e){return null==e||""===e?"&nbsp;":e},Format.prototype.getFormatter=function(e){switch(void 0===e?"undefined":_typeof(e)){case"string":this.formatters[e]?e=this.formatters[e]:(console.warn("Formatter Error - No such formatter found: ",e),e=this.formatters.plaintext);break;case"function":e=e;break;default:e=this.formatters.plaintext}return e},Format.prototype.formatters={plaintext:function(e,t,o){return this.emptyToSpace(this.sanitizeHTML(e.getValue()))},html:function(e,t,o){return e.getValue()},textarea:function(e,t,o){return e.getElement().style.whiteSpace="pre-wrap",this.emptyToSpace(this.sanitizeHTML(e.getValue()))},money:function(e,t,o){var i,s,n,a,l=parseFloat(e.getValue()),r=t.decimal||".",u=t.thousand||",",c=t.symbol||"",d=!!t.symbolAfter,m=void 0!==t.precision?t.precision:2;if(isNaN(l))return this.emptyToSpace(this.sanitizeHTML(e.getValue()));for(i=!1!==m?l.toFixed(m):l,s=(i=String(i).split("."))[0],n=i.length>1?r+i[1]:"",a=/(\d+)(\d{3})/;a.test(s);)s=s.replace(a,"$1"+u+"$2");return d?s+n+c:c+s+n},link:function(e,t,o){var i=e.getValue(),s=t.urlPrefix||"",n=t.download,a=i,l=document.createElement("a");if(t.labelField&&(a=e.getData()[t.labelField]),t.label)switch(_typeof(t.label)){case"string":a=t.label;break;case"function":a=t.label(e)}if(a){if(t.urlField&&(i=e.getData()[t.urlField]),t.url)switch(_typeof(t.url)){case"string":i=t.url;break;case"function":i=t.url(e)}return l.setAttribute("href",s+i),t.target&&l.setAttribute("target",t.target),t.download&&(n="function"==typeof n?n(e):!0===n?"":n,l.setAttribute("download",n)),l.innerHTML=this.emptyToSpace(this.sanitizeHTML(a)),l}return"&nbsp;"},image:function(e,t,o){var i=document.createElement("img"),s=e.getValue();switch(t.urlPrefix&&(s=t.urlPrefix+e.getValue()),t.urlSuffix&&(s+=t.urlSuffix),i.setAttribute("src",s),_typeof(t.height)){case"number":i.style.height=t.height+"px";break;case"string":i.style.height=t.height}switch(_typeof(t.width)){case"number":i.style.width=t.width+"px";break;case"string":i.style.width=t.width}return i.addEventListener("load",(function(){e.getRow().normalizeHeight()})),i},tickCross:function(e,t,o){var i=e.getValue(),s=e.getElement(),n=t.allowEmpty,a=t.allowTruthy,l=void 0!==t.tickElement?t.tickElement:'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>',r=void 0!==t.crossElement?t.crossElement:'<svg enable-background="new 0 0 24 24" height="14" width="14"  viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>';return a&&i||!0===i||"true"===i||"True"===i||1===i||"1"===i?(s.setAttribute("aria-checked",!0),l||""):!n||"null"!==i&&""!==i&&null!=i?(s.setAttribute("aria-checked",!1),r||""):(s.setAttribute("aria-checked","mixed"),"")},datetime:function(e,t,o){var i=t.inputFormat||"YYYY-MM-DD hh:mm:ss",s=t.outputFormat||"DD/MM/YYYY hh:mm:ss",n=void 0!==t.invalidPlaceholder?t.invalidPlaceholder:"",a=e.getValue(),l=moment(a,i);return l.isValid()?t.timezone?l.tz(t.timezone).format(s):l.format(s):!0===n?a:"function"==typeof n?n(a):n},datetimediff:function(e,t,o){var i=t.inputFormat||"YYYY-MM-DD hh:mm:ss",s=void 0!==t.invalidPlaceholder?t.invalidPlaceholder:"",n=void 0!==t.suffix&&t.suffix,a=void 0!==t.unit?t.unit:void 0,l=void 0!==t.humanize&&t.humanize,r=void 0!==t.date?t.date:moment(),u=e.getValue(),c=moment(u,i);return c.isValid()?l?moment.duration(c.diff(r)).humanize(n):c.diff(r,a)+(n?" "+n:""):!0===s?u:"function"==typeof s?s(u):s},lookup:function(e,t,o){var i=e.getValue();return void 0===t[i]?(console.warn("Missing display value for "+i),i):t[i]},star:function(e,t,o){var i=e.getValue(),s=e.getElement(),n=t&&t.stars?t.stars:5,a=document.createElement("span"),l=document.createElementNS("http://www.w3.org/2000/svg","svg");a.style.verticalAlign="middle",l.setAttribute("width","14"),l.setAttribute("height","14"),l.setAttribute("viewBox","0 0 512 512"),l.setAttribute("xml:space","preserve"),l.style.padding="0 1px",i=i&&!isNaN(i)?parseInt(i):0,i=Math.max(0,Math.min(i,n));for(var r=1;r<=n;r++){var u=l.cloneNode(!0);u.innerHTML=r<=i?'<polygon fill="#FFEA00" stroke="#C1AB60" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>':'<polygon fill="#D2D2D2" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>',a.appendChild(u)}return s.style.whiteSpace="nowrap",s.style.overflow="hidden",s.style.textOverflow="ellipsis",s.setAttribute("aria-label",i),a},traffic:function(e,t,o){var i,s,n=this.sanitizeHTML(e.getValue())||0,a=document.createElement("span"),l=t&&t.max?t.max:100,r=t&&t.min?t.min:0,u=t&&void 0!==t.color?t.color:["red","orange","green"],c="#666666";if(!isNaN(n)&&void 0!==e.getValue()){switch(a.classList.add("tabulator-traffic-light"),s=parseFloat(n)<=l?parseFloat(n):l,s=parseFloat(s)>=r?parseFloat(s):r,i=(l-r)/100,s=Math.round((s-r)/i),void 0===u?"undefined":_typeof(u)){case"string":c=u;break;case"function":c=u(n);break;case"object":if(Array.isArray(u)){var d=100/u.length,m=Math.floor(s/d);m=Math.min(m,u.length-1),c=u[m=Math.max(m,0)];break}}return a.style.backgroundColor=c,a}},progress:function(e,t,o){var i,s,n,a,l,r=this.sanitizeHTML(e.getValue())||0,u=e.getElement(),c=t&&t.max?t.max:100,d=t&&t.min?t.min:0,m=t&&t.legendAlign?t.legendAlign:"center";switch(s=parseFloat(r)<=c?parseFloat(r):c,s=parseFloat(s)>=d?parseFloat(s):d,i=(c-d)/100,s=Math.round((s-d)/i),_typeof(t.color)){case"string":n=t.color;break;case"function":n=t.color(r);break;case"object":if(Array.isArray(t.color)){var h=100/t.color.length,p=Math.floor(s/h);p=Math.min(p,t.color.length-1),p=Math.max(p,0),n=t.color[p];break}default:n="#2DC214"}switch(_typeof(t.legend)){case"string":a=t.legend;break;case"function":a=t.legend(r);break;case"boolean":a=r;break;default:a=!1}switch(_typeof(t.legendColor)){case"string":l=t.legendColor;break;case"function":l=t.legendColor(r);break;case"object":if(Array.isArray(t.legendColor)){h=100/t.legendColor.length,p=Math.floor(s/h);p=Math.min(p,t.legendColor.length-1),p=Math.max(p,0),l=t.legendColor[p]}break;default:l="#000"}u.style.minWidth="30px",u.style.position="relative",u.setAttribute("aria-label",s);var g=document.createElement("div");if(g.style.display="inline-block",g.style.position="relative",g.style.width=s+"%",g.style.backgroundColor=n,g.style.height="100%",g.setAttribute("data-max",c),g.setAttribute("data-min",d),a){var f=document.createElement("div");f.style.position="absolute",f.style.top="4px",f.style.left=0,f.style.textAlign=m,f.style.width="100%",f.style.color=l,f.innerHTML=a}return o((function(){if(!(e instanceof CellComponent)){var t=document.createElement("div");t.style.position="absolute",t.style.top="4px",t.style.bottom="4px",t.style.left="4px",t.style.right="4px",u.appendChild(t),u=t}u.appendChild(g),a&&u.appendChild(f)})),""},color:function(e,t,o){return e.getElement().style.backgroundColor=this.sanitizeHTML(e.getValue()),""},buttonTick:function(e,t,o){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>'},buttonCross:function(e,t,o){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>'},rownum:function(e,t,o){return this.table.rowManager.activeRows.indexOf(e.getRow()._getSelf())+1},handle:function(e,t,o){return e.getElement().classList.add("tabulator-row-handle"),"<div class='tabulator-row-handle-box'><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div></div>"},responsiveCollapse:function(e,t,o){var i=document.createElement("div"),s=e.getRow()._row.modules.responsiveLayout;function n(e){var t=s.element;s.open=e,t&&(s.open?(i.classList.add("open"),t.style.display=""):(i.classList.remove("open"),t.style.display="none"))}return i.classList.add("tabulator-responsive-collapse-toggle"),i.innerHTML="<span class='tabulator-responsive-collapse-toggle-open'>+</span><span class='tabulator-responsive-collapse-toggle-close'>-</span>",e.getElement().classList.add("tabulator-row-handle"),i.addEventListener("click",(function(e){e.stopImmediatePropagation(),n(!s.open)})),n(s.open),i},rowSelection:function(e,t,o){var i=this,s=document.createElement("input");if(s.type="checkbox",this.table.modExists("selectRow",!0))if(s.addEventListener("click",(function(e){e.stopPropagation()})),"function"==typeof e.getRow){var n=e.getRow();n instanceof RowComponent?(s.addEventListener("change",(function(e){n.toggleSelect()})),s.checked=n.isSelected&&n.isSelected(),this.table.modules.selectRow.registerRowSelectCheckbox(n,s)):s=""}else s.addEventListener("change",(function(e){i.table.modules.selectRow.selectedRows.length?i.table.deselectRow():i.table.selectRow(t.rowRange)})),this.table.modules.selectRow.registerHeaderSelectCheckbox(s);return s}},Tabulator.prototype.registerModule("format",Format);var ResizeColumns=function(e){this.table=e,this.startColumn=!1,this.startX=!1,this.startWidth=!1,this.handle=null,this.prevHandle=null};ResizeColumns.prototype.initializeColumn=function(e,t,o){var i=this,s=!1,n=this.table.options.resizableColumns;if("header"===e&&(s="textarea"==t.definition.formatter||t.definition.variableHeight,t.modules.resize={variableHeight:s}),!0===n||n==e){var a=document.createElement("div");a.className="tabulator-col-resize-handle";var l=document.createElement("div");l.className="tabulator-col-resize-handle prev",a.addEventListener("click",(function(e){e.stopPropagation()}));var r=function(e){var o=t.getLastColumn();o&&i._checkResizability(o)&&(i.startColumn=t,i._mouseDown(e,o,a))};a.addEventListener("mousedown",r),a.addEventListener("touchstart",r,{passive:!0}),a.addEventListener("dblclick",(function(e){var o=t.getLastColumn();o&&i._checkResizability(o)&&(e.stopPropagation(),o.reinitializeWidth(!0))})),l.addEventListener("click",(function(e){e.stopPropagation()}));var u=function(e){var o,s,n;(o=t.getFirstColumn())&&(n=(s=i.table.columnManager.findColumnIndex(o))>0&&i.table.columnManager.getColumnByIndex(s-1))&&i._checkResizability(n)&&(i.startColumn=t,i._mouseDown(e,n,l))};l.addEventListener("mousedown",u),l.addEventListener("touchstart",u,{passive:!0}),l.addEventListener("dblclick",(function(e){var o,s,n;(o=t.getFirstColumn())&&(n=(s=i.table.columnManager.findColumnIndex(o))>0&&i.table.columnManager.getColumnByIndex(s-1))&&i._checkResizability(n)&&(e.stopPropagation(),n.reinitializeWidth(!0))})),o.appendChild(a),o.appendChild(l)}},ResizeColumns.prototype._checkResizability=function(e){return void 0!==e.definition.resizable?e.definition.resizable:this.table.options.resizableColumns},ResizeColumns.prototype._mouseDown=function(e,t,o){var i=this;function s(e){i.table.rtl?t.setWidth(i.startWidth-((void 0===e.screenX?e.touches[0].screenX:e.screenX)-i.startX)):t.setWidth(i.startWidth+((void 0===e.screenX?e.touches[0].screenX:e.screenX)-i.startX)),i.table.options.virtualDomHoz&&i.table.vdomHoz.reinitialize(!0),!i.table.browserSlow&&t.modules.resize&&t.modules.resize.variableHeight&&t.checkCellHeights()}function n(e){i.startColumn.modules.edit&&(i.startColumn.modules.edit.blocked=!1),i.table.browserSlow&&t.modules.resize&&t.modules.resize.variableHeight&&t.checkCellHeights(),document.body.removeEventListener("mouseup",n),document.body.removeEventListener("mousemove",s),o.removeEventListener("touchmove",s),o.removeEventListener("touchend",n),i.table.element.classList.remove("tabulator-block-select"),i.table.options.persistence&&i.table.modExists("persistence",!0)&&i.table.modules.persistence.config.columns&&i.table.modules.persistence.save("columns"),i.table.options.columnResized.call(i.table,t.getComponent())}i.table.element.classList.add("tabulator-block-select"),e.stopPropagation(),i.startColumn.modules.edit&&(i.startColumn.modules.edit.blocked=!0),i.startX=void 0===e.screenX?e.touches[0].screenX:e.screenX,i.startWidth=t.getWidth(),document.body.addEventListener("mousemove",s),document.body.addEventListener("mouseup",n),o.addEventListener("touchmove",s,{passive:!0}),o.addEventListener("touchend",n)},Tabulator.prototype.registerModule("resizeColumns",ResizeColumns),
/*! pako 2.0.3 https://github.com/nodeca/pako @license (MIT AND Zlib) */
function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).pako={})}(this,(function(e){var t=(e,t,o,i)=>{let s=65535&e|0,n=e>>>16&65535|0,a=0;for(;0!==o;){a=o>2e3?2e3:o,o-=a;do{s=s+t[i++]|0,n=n+s|0}while(--a);s%=65521,n%=65521}return s|n<<16|0};const o=new Uint32Array((()=>{let e,t=[];for(var o=0;o<256;o++){e=o;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[o]=e}return t})());var i=(e,t,i,s)=>{const n=o,a=s+i;e^=-1;for(let o=s;o<a;o++)e=e>>>8^n[255&(e^t[o])];return-1^e};var s=function(e,t){let o,i,s,n,a,l,r,u,c,d,m,h,p,g,f,b,y,v,w,C,E,R,L,T;const M=e.state;o=e.next_in,L=e.input,i=o+(e.avail_in-5),s=e.next_out,T=e.output,n=s-(t-e.avail_out),a=s+(e.avail_out-257),l=M.dmax,r=M.wsize,u=M.whave,c=M.wnext,d=M.window,m=M.hold,h=M.bits,p=M.lencode,g=M.distcode,f=(1<<M.lenbits)-1,b=(1<<M.distbits)-1;e:do{h<15&&(m+=L[o++]<<h,h+=8,m+=L[o++]<<h,h+=8),y=p[m&f];t:for(;;){if(v=y>>>24,m>>>=v,h-=v,v=y>>>16&255,0===v)T[s++]=65535&y;else{if(!(16&v)){if(0==(64&v)){y=p[(65535&y)+(m&(1<<v)-1)];continue t}if(32&v){M.mode=12;break e}e.msg="invalid literal/length code",M.mode=30;break e}w=65535&y,v&=15,v&&(h<v&&(m+=L[o++]<<h,h+=8),w+=m&(1<<v)-1,m>>>=v,h-=v),h<15&&(m+=L[o++]<<h,h+=8,m+=L[o++]<<h,h+=8),y=g[m&b];o:for(;;){if(v=y>>>24,m>>>=v,h-=v,v=y>>>16&255,!(16&v)){if(0==(64&v)){y=g[(65535&y)+(m&(1<<v)-1)];continue o}e.msg="invalid distance code",M.mode=30;break e}if(C=65535&y,v&=15,h<v&&(m+=L[o++]<<h,h+=8,h<v&&(m+=L[o++]<<h,h+=8)),C+=m&(1<<v)-1,C>l){e.msg="invalid distance too far back",M.mode=30;break e}if(m>>>=v,h-=v,v=s-n,C>v){if(v=C-v,v>u&&M.sane){e.msg="invalid distance too far back",M.mode=30;break e}if(E=0,R=d,0===c){if(E+=r-v,v<w){w-=v;do{T[s++]=d[E++]}while(--v);E=s-C,R=T}}else if(c<v){if(E+=r+c-v,v-=c,v<w){w-=v;do{T[s++]=d[E++]}while(--v);if(E=0,c<w){v=c,w-=v;do{T[s++]=d[E++]}while(--v);E=s-C,R=T}}}else if(E+=c-v,v<w){w-=v;do{T[s++]=d[E++]}while(--v);E=s-C,R=T}for(;w>2;)T[s++]=R[E++],T[s++]=R[E++],T[s++]=R[E++],w-=3;w&&(T[s++]=R[E++],w>1&&(T[s++]=R[E++]))}else{E=s-C;do{T[s++]=T[E++],T[s++]=T[E++],T[s++]=T[E++],w-=3}while(w>2);w&&(T[s++]=T[E++],w>1&&(T[s++]=T[E++]))}break}}break}}while(o<i&&s<a);w=h>>3,o-=w,h-=w<<3,m&=(1<<h)-1,e.next_in=o,e.next_out=s,e.avail_in=o<i?i-o+5:5-(o-i),e.avail_out=s<a?a-s+257:257-(s-a),M.hold=m,M.bits=h};const n=15,a=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),l=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),r=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),u=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var c=(e,t,o,i,s,c,d,m)=>{const h=m.bits;let p,g,f,b,y,v,w=0,C=0,E=0,R=0,L=0,T=0,M=0,x=0,D=0,B=0,_=null,k=0;const S=new Uint16Array(16),N=new Uint16Array(16);let z,H,A,P=null,F=0;for(w=0;w<=n;w++)S[w]=0;for(C=0;C<i;C++)S[t[o+C]]++;for(L=h,R=n;R>=1&&0===S[R];R--);if(L>R&&(L=R),0===R)return s[c++]=20971520,s[c++]=20971520,m.bits=1,0;for(E=1;E<R&&0===S[E];E++);for(L<E&&(L=E),x=1,w=1;w<=n;w++)if(x<<=1,x-=S[w],x<0)return-1;if(x>0&&(0===e||1!==R))return-1;for(N[1]=0,w=1;w<n;w++)N[w+1]=N[w]+S[w];for(C=0;C<i;C++)0!==t[o+C]&&(d[N[t[o+C]]++]=C);if(0===e?(_=P=d,v=19):1===e?(_=a,k-=257,P=l,F-=257,v=256):(_=r,P=u,v=-1),B=0,C=0,w=E,y=c,T=L,M=0,f=-1,D=1<<L,b=D-1,1===e&&D>852||2===e&&D>592)return 1;for(;;){z=w-M,d[C]<v?(H=0,A=d[C]):d[C]>v?(H=P[F+d[C]],A=_[k+d[C]]):(H=96,A=0),p=1<<w-M,g=1<<T,E=g;do{g-=p,s[y+(B>>M)+g]=z<<24|H<<16|A|0}while(0!==g);for(p=1<<w-1;B&p;)p>>=1;if(0!==p?(B&=p-1,B+=p):B=0,C++,0==--S[w]){if(w===R)break;w=t[o+d[C]]}if(w>L&&(B&b)!==f){for(0===M&&(M=L),y+=E,T=w-M,x=1<<T;T+M<R&&(x-=S[T+M],!(x<=0));)T++,x<<=1;if(D+=1<<T,1===e&&D>852||2===e&&D>592)return 1;f=B&b,s[f]=L<<24|T<<16|y-c|0}}return 0!==B&&(s[y+B]=w-M<<24|64<<16|0),m.bits=L,0},d={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{Z_FINISH:m,Z_BLOCK:h,Z_TREES:p,Z_OK:g,Z_STREAM_END:f,Z_NEED_DICT:b,Z_STREAM_ERROR:y,Z_DATA_ERROR:v,Z_MEM_ERROR:w,Z_BUF_ERROR:C,Z_DEFLATED:E}=d,R=12,L=30,T=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function M(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const x=e=>{if(!e||!e.state)return y;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,g},D=e=>{if(!e||!e.state)return y;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,x(e)},B=(e,t)=>{let o;if(!e||!e.state)return y;const i=e.state;return t<0?(o=0,t=-t):(o=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?y:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=o,i.wbits=t,D(e))},_=(e,t)=>{if(!e)return y;const o=new M;e.state=o,o.window=null;const i=B(e,t);return i!==g&&(e.state=null),i};let k,S,N=!0;const z=e=>{if(N){k=new Int32Array(512),S=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(c(1,e.lens,0,288,k,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;c(2,e.lens,0,32,S,0,e.work,{bits:5}),N=!1}e.lencode=k,e.lenbits=9,e.distcode=S,e.distbits=5},H=(e,t,o,i)=>{let s;const n=e.state;return null===n.window&&(n.wsize=1<<n.wbits,n.wnext=0,n.whave=0,n.window=new Uint8Array(n.wsize)),i>=n.wsize?(n.window.set(t.subarray(o-n.wsize,o),0),n.wnext=0,n.whave=n.wsize):(s=n.wsize-n.wnext,s>i&&(s=i),n.window.set(t.subarray(o-i,o-i+s),n.wnext),(i-=s)?(n.window.set(t.subarray(o-i,o),0),n.wnext=i,n.whave=n.wsize):(n.wnext+=s,n.wnext===n.wsize&&(n.wnext=0),n.whave<n.wsize&&(n.whave+=s))),0};var A={inflateReset:D,inflateReset2:B,inflateResetKeep:x,inflateInit:e=>_(e,15),inflateInit2:_,inflate:(e,o)=>{let n,a,l,r,u,d,M,x,D,B,_,k,S,N,A,P,F,O,I,j,V,W,U=0;const G=new Uint8Array(4);let Z,q;const $=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return y;n=e.state,n.mode===R&&(n.mode=13),u=e.next_out,l=e.output,M=e.avail_out,r=e.next_in,a=e.input,d=e.avail_in,x=n.hold,D=n.bits,B=d,_=M,W=g;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;D<16;){if(0===d)break e;d--,x+=a[r++]<<D,D+=8}if(2&n.wrap&&35615===x){n.check=0,G[0]=255&x,G[1]=x>>>8&255,n.check=i(n.check,G,2,0),x=0,D=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&x)<<8)+(x>>8))%31){e.msg="incorrect header check",n.mode=L;break}if((15&x)!==E){e.msg="unknown compression method",n.mode=L;break}if(x>>>=4,D-=4,V=8+(15&x),0===n.wbits)n.wbits=V;else if(V>n.wbits){e.msg="invalid window size",n.mode=L;break}n.dmax=1<<n.wbits,e.adler=n.check=1,n.mode=512&x?10:R,x=0,D=0;break;case 2:for(;D<16;){if(0===d)break e;d--,x+=a[r++]<<D,D+=8}if(n.flags=x,(255&n.flags)!==E){e.msg="unknown compression method",n.mode=L;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=L;break}n.head&&(n.head.text=x>>8&1),512&n.flags&&(G[0]=255&x,G[1]=x>>>8&255,n.check=i(n.check,G,2,0)),x=0,D=0,n.mode=3;case 3:for(;D<32;){if(0===d)break e;d--,x+=a[r++]<<D,D+=8}n.head&&(n.head.time=x),512&n.flags&&(G[0]=255&x,G[1]=x>>>8&255,G[2]=x>>>16&255,G[3]=x>>>24&255,n.check=i(n.check,G,4,0)),x=0,D=0,n.mode=4;case 4:for(;D<16;){if(0===d)break e;d--,x+=a[r++]<<D,D+=8}n.head&&(n.head.xflags=255&x,n.head.os=x>>8),512&n.flags&&(G[0]=255&x,G[1]=x>>>8&255,n.check=i(n.check,G,2,0)),x=0,D=0,n.mode=5;case 5:if(1024&n.flags){for(;D<16;){if(0===d)break e;d--,x+=a[r++]<<D,D+=8}n.length=x,n.head&&(n.head.extra_len=x),512&n.flags&&(G[0]=255&x,G[1]=x>>>8&255,n.check=i(n.check,G,2,0)),x=0,D=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(k=n.length,k>d&&(k=d),k&&(n.head&&(V=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(a.subarray(r,r+k),V)),512&n.flags&&(n.check=i(n.check,a,k,r)),d-=k,r+=k,n.length-=k),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===d)break e;k=0;do{V=a[r+k++],n.head&&V&&n.length<65536&&(n.head.name+=String.fromCharCode(V))}while(V&&k<d);if(512&n.flags&&(n.check=i(n.check,a,k,r)),d-=k,r+=k,V)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===d)break e;k=0;do{V=a[r+k++],n.head&&V&&n.length<65536&&(n.head.comment+=String.fromCharCode(V))}while(V&&k<d);if(512&n.flags&&(n.check=i(n.check,a,k,r)),d-=k,r+=k,V)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;D<16;){if(0===d)break e;d--,x+=a[r++]<<D,D+=8}if(x!==(65535&n.check)){e.msg="header crc mismatch",n.mode=L;break}x=0,D=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=R;break;case 10:for(;D<32;){if(0===d)break e;d--,x+=a[r++]<<D,D+=8}e.adler=n.check=T(x),x=0,D=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=u,e.avail_out=M,e.next_in=r,e.avail_in=d,n.hold=x,n.bits=D,b;e.adler=n.check=1,n.mode=R;case R:if(o===h||o===p)break e;case 13:if(n.last){x>>>=7&D,D-=7&D,n.mode=27;break}for(;D<3;){if(0===d)break e;d--,x+=a[r++]<<D,D+=8}switch(n.last=1&x,x>>>=1,D-=1,3&x){case 0:n.mode=14;break;case 1:if(z(n),n.mode=20,o===p){x>>>=2,D-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=L}x>>>=2,D-=2;break;case 14:for(x>>>=7&D,D-=7&D;D<32;){if(0===d)break e;d--,x+=a[r++]<<D,D+=8}if((65535&x)!=(x>>>16^65535)){e.msg="invalid stored block lengths",n.mode=L;break}if(n.length=65535&x,x=0,D=0,n.mode=15,o===p)break e;case 15:n.mode=16;case 16:if(k=n.length,k){if(k>d&&(k=d),k>M&&(k=M),0===k)break e;l.set(a.subarray(r,r+k),u),d-=k,r+=k,M-=k,u+=k,n.length-=k;break}n.mode=R;break;case 17:for(;D<14;){if(0===d)break e;d--,x+=a[r++]<<D,D+=8}if(n.nlen=257+(31&x),x>>>=5,D-=5,n.ndist=1+(31&x),x>>>=5,D-=5,n.ncode=4+(15&x),x>>>=4,D-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=L;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;D<3;){if(0===d)break e;d--,x+=a[r++]<<D,D+=8}n.lens[$[n.have++]]=7&x,x>>>=3,D-=3}for(;n.have<19;)n.lens[$[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,Z={bits:n.lenbits},W=c(0,n.lens,0,19,n.lencode,0,n.work,Z),n.lenbits=Z.bits,W){e.msg="invalid code lengths set",n.mode=L;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;U=n.lencode[x&(1<<n.lenbits)-1],A=U>>>24,P=U>>>16&255,F=65535&U,!(A<=D);){if(0===d)break e;d--,x+=a[r++]<<D,D+=8}if(F<16)x>>>=A,D-=A,n.lens[n.have++]=F;else{if(16===F){for(q=A+2;D<q;){if(0===d)break e;d--,x+=a[r++]<<D,D+=8}if(x>>>=A,D-=A,0===n.have){e.msg="invalid bit length repeat",n.mode=L;break}V=n.lens[n.have-1],k=3+(3&x),x>>>=2,D-=2}else if(17===F){for(q=A+3;D<q;){if(0===d)break e;d--,x+=a[r++]<<D,D+=8}x>>>=A,D-=A,V=0,k=3+(7&x),x>>>=3,D-=3}else{for(q=A+7;D<q;){if(0===d)break e;d--,x+=a[r++]<<D,D+=8}x>>>=A,D-=A,V=0,k=11+(127&x),x>>>=7,D-=7}if(n.have+k>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=L;break}for(;k--;)n.lens[n.have++]=V}}if(n.mode===L)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=L;break}if(n.lenbits=9,Z={bits:n.lenbits},W=c(1,n.lens,0,n.nlen,n.lencode,0,n.work,Z),n.lenbits=Z.bits,W){e.msg="invalid literal/lengths set",n.mode=L;break}if(n.distbits=6,n.distcode=n.distdyn,Z={bits:n.distbits},W=c(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Z),n.distbits=Z.bits,W){e.msg="invalid distances set",n.mode=L;break}if(n.mode=20,o===p)break e;case 20:n.mode=21;case 21:if(d>=6&&M>=258){e.next_out=u,e.avail_out=M,e.next_in=r,e.avail_in=d,n.hold=x,n.bits=D,s(e,_),u=e.next_out,l=e.output,M=e.avail_out,r=e.next_in,a=e.input,d=e.avail_in,x=n.hold,D=n.bits,n.mode===R&&(n.back=-1);break}for(n.back=0;U=n.lencode[x&(1<<n.lenbits)-1],A=U>>>24,P=U>>>16&255,F=65535&U,!(A<=D);){if(0===d)break e;d--,x+=a[r++]<<D,D+=8}if(P&&0==(240&P)){for(O=A,I=P,j=F;U=n.lencode[j+((x&(1<<O+I)-1)>>O)],A=U>>>24,P=U>>>16&255,F=65535&U,!(O+A<=D);){if(0===d)break e;d--,x+=a[r++]<<D,D+=8}x>>>=O,D-=O,n.back+=O}if(x>>>=A,D-=A,n.back+=A,n.length=F,0===P){n.mode=26;break}if(32&P){n.back=-1,n.mode=R;break}if(64&P){e.msg="invalid literal/length code",n.mode=L;break}n.extra=15&P,n.mode=22;case 22:if(n.extra){for(q=n.extra;D<q;){if(0===d)break e;d--,x+=a[r++]<<D,D+=8}n.length+=x&(1<<n.extra)-1,x>>>=n.extra,D-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;U=n.distcode[x&(1<<n.distbits)-1],A=U>>>24,P=U>>>16&255,F=65535&U,!(A<=D);){if(0===d)break e;d--,x+=a[r++]<<D,D+=8}if(0==(240&P)){for(O=A,I=P,j=F;U=n.distcode[j+((x&(1<<O+I)-1)>>O)],A=U>>>24,P=U>>>16&255,F=65535&U,!(O+A<=D);){if(0===d)break e;d--,x+=a[r++]<<D,D+=8}x>>>=O,D-=O,n.back+=O}if(x>>>=A,D-=A,n.back+=A,64&P){e.msg="invalid distance code",n.mode=L;break}n.offset=F,n.extra=15&P,n.mode=24;case 24:if(n.extra){for(q=n.extra;D<q;){if(0===d)break e;d--,x+=a[r++]<<D,D+=8}n.offset+=x&(1<<n.extra)-1,x>>>=n.extra,D-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=L;break}n.mode=25;case 25:if(0===M)break e;if(k=_-M,n.offset>k){if(k=n.offset-k,k>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=L;break}k>n.wnext?(k-=n.wnext,S=n.wsize-k):S=n.wnext-k,k>n.length&&(k=n.length),N=n.window}else N=l,S=u-n.offset,k=n.length;k>M&&(k=M),M-=k,n.length-=k;do{l[u++]=N[S++]}while(--k);0===n.length&&(n.mode=21);break;case 26:if(0===M)break e;l[u++]=n.length,M--,n.mode=21;break;case 27:if(n.wrap){for(;D<32;){if(0===d)break e;d--,x|=a[r++]<<D,D+=8}if(_-=M,e.total_out+=_,n.total+=_,_&&(e.adler=n.check=n.flags?i(n.check,l,_,u-_):t(n.check,l,_,u-_)),_=M,(n.flags?x:T(x))!==n.check){e.msg="incorrect data check",n.mode=L;break}x=0,D=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;D<32;){if(0===d)break e;d--,x+=a[r++]<<D,D+=8}if(x!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=L;break}x=0,D=0}n.mode=29;case 29:W=f;break e;case L:W=v;break e;case 31:return w;case 32:default:return y}return e.next_out=u,e.avail_out=M,e.next_in=r,e.avail_in=d,n.hold=x,n.bits=D,(n.wsize||_!==e.avail_out&&n.mode<L&&(n.mode<27||o!==m))&&H(e,e.output,e.next_out,_-e.avail_out),B-=e.avail_in,_-=e.avail_out,e.total_in+=B,e.total_out+=_,n.total+=_,n.wrap&&_&&(e.adler=n.check=n.flags?i(n.check,l,_,e.next_out-_):t(n.check,l,_,e.next_out-_)),e.data_type=n.bits+(n.last?64:0)+(n.mode===R?128:0)+(20===n.mode||15===n.mode?256:0),(0===B&&0===_||o===m)&&W===g&&(W=C),W},inflateEnd:e=>{if(!e||!e.state)return y;let t=e.state;return t.window&&(t.window=null),e.state=null,g},inflateGetHeader:(e,t)=>{if(!e||!e.state)return y;const o=e.state;return 0==(2&o.wrap)?y:(o.head=t,t.done=!1,g)},inflateSetDictionary:(e,o)=>{const i=o.length;let s,n,a;return e&&e.state?(s=e.state,0!==s.wrap&&11!==s.mode?y:11===s.mode&&(n=1,n=t(n,o,i,0),n!==s.check)?v:(a=H(e,o,i,i),a?(s.mode=31,w):(s.havedict=1,g))):y},inflateInfo:"pako inflate (from Nodeca project)"};const P=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var F=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const o=t.shift();if(o){if("object"!=typeof o)throw new TypeError(o+"must be non-object");for(const t in o)P(o,t)&&(e[t]=o[t])}}return e},O=e=>{let t=0;for(let o=0,i=e.length;o<i;o++)t+=e[o].length;const o=new Uint8Array(t);for(let t=0,i=0,s=e.length;t<s;t++){let s=e[t];o.set(s,i),i+=s.length}return o};let I=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){I=!1}const j=new Uint8Array(256);for(let e=0;e<256;e++)j[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;j[254]=j[254]=1;var V=e=>{let t,o,i,s,n,a=e.length,l=0;for(s=0;s<a;s++)o=e.charCodeAt(s),55296==(64512&o)&&s+1<a&&(i=e.charCodeAt(s+1),56320==(64512&i)&&(o=65536+(o-55296<<10)+(i-56320),s++)),l+=o<128?1:o<2048?2:o<65536?3:4;for(t=new Uint8Array(l),n=0,s=0;n<l;s++)o=e.charCodeAt(s),55296==(64512&o)&&s+1<a&&(i=e.charCodeAt(s+1),56320==(64512&i)&&(o=65536+(o-55296<<10)+(i-56320),s++)),o<128?t[n++]=o:o<2048?(t[n++]=192|o>>>6,t[n++]=128|63&o):o<65536?(t[n++]=224|o>>>12,t[n++]=128|o>>>6&63,t[n++]=128|63&o):(t[n++]=240|o>>>18,t[n++]=128|o>>>12&63,t[n++]=128|o>>>6&63,t[n++]=128|63&o);return t},W=(e,t)=>{let o,i;const s=t||e.length,n=new Array(2*s);for(i=0,o=0;o<s;){let t=e[o++];if(t<128){n[i++]=t;continue}let a=j[t];if(a>4)n[i++]=65533,o+=a-1;else{for(t&=2===a?31:3===a?15:7;a>1&&o<s;)t=t<<6|63&e[o++],a--;a>1?n[i++]=65533:t<65536?n[i++]=t:(t-=65536,n[i++]=55296|t>>10&1023,n[i++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&I)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let o="";for(let i=0;i<t;i++)o+=String.fromCharCode(e[i]);return o})(n,i)},U=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let o=t-1;for(;o>=0&&128==(192&e[o]);)o--;return o<0||0===o?t:o+j[e[o]]>t?o:t},G={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};var Z=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};var q=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const $=Object.prototype.toString,{Z_NO_FLUSH:K,Z_FINISH:Y,Z_OK:X,Z_STREAM_END:J,Z_NEED_DICT:Q,Z_STREAM_ERROR:ee,Z_DATA_ERROR:te,Z_MEM_ERROR:oe}=d;function ie(e){this.options=F({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Z,this.strm.avail_out=0;let o=A.inflateInit2(this.strm,t.windowBits);if(o!==X)throw new Error(G[o]);if(this.header=new q,A.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=V(t.dictionary):"[object ArrayBuffer]"===$.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(o=A.inflateSetDictionary(this.strm,t.dictionary),o!==X)))throw new Error(G[o])}function se(e,t){const o=new ie(t);if(o.push(e),o.err)throw o.msg||G[o.err];return o.result}ie.prototype.push=function(e,t){const o=this.strm,i=this.options.chunkSize,s=this.options.dictionary;let n,a,l;if(this.ended)return!1;for(a=t===~~t?t:!0===t?Y:K,"[object ArrayBuffer]"===$.call(e)?o.input=new Uint8Array(e):o.input=e,o.next_in=0,o.avail_in=o.input.length;;){for(0===o.avail_out&&(o.output=new Uint8Array(i),o.next_out=0,o.avail_out=i),n=A.inflate(o,a),n===Q&&s&&(n=A.inflateSetDictionary(o,s),n===X?n=A.inflate(o,a):n===te&&(n=Q));o.avail_in>0&&n===J&&o.state.wrap>0&&0!==e[o.next_in];)A.inflateReset(o),n=A.inflate(o,a);switch(n){case ee:case te:case Q:case oe:return this.onEnd(n),this.ended=!0,!1}if(l=o.avail_out,o.next_out&&(0===o.avail_out||n===J))if("string"===this.options.to){let e=U(o.output,o.next_out),t=o.next_out-e,s=W(o.output,e);o.next_out=t,o.avail_out=i-t,t&&o.output.set(o.output.subarray(e,e+t),0),this.onData(s)}else this.onData(o.output.length===o.next_out?o.output:o.output.subarray(0,o.next_out));if(n!==X||0!==l){if(n===J)return n=A.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,!0;if(0===o.avail_in)break}}return!0},ie.prototype.onData=function(e){this.chunks.push(e)},ie.prototype.onEnd=function(e){e===X&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=O(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var ne=ie,ae=se,le=function(e,t){return(t=t||{}).raw=!0,se(e,t)},re=se,ue=d,ce={Inflate:ne,inflate:ae,inflateRaw:le,ungzip:re,constants:ue};e.Inflate=ne,e.constants=ue,e.default=ce,e.inflate=ae,e.inflateRaw=le,e.ungzip=re,Object.defineProperty(e,"__esModule",{value:!0})}));const strings={"en-US":{allLabel:{message:"All"},allScriptsDropdownLabel:{message:"All Scripts"},coverageColumnName:{message:"Coverage"},duplicateModulesLabel:{message:"Duplicate Modules"},resourceBytesLabel:{message:"Resource Bytes"},tableColumnName:{message:"Name"},toggleTableButtonLabel:{message:"Toggle Table"},unusedBytesLabel:{message:"Unused Bytes"}},en:{allLabel:{message:"All"},allScriptsDropdownLabel:{message:"All Scripts"},coverageColumnName:{message:"Coverage"},duplicateModulesLabel:{message:"Duplicate Modules"},resourceBytesLabel:{message:"Resource Bytes"},tableColumnName:{message:"Name"},toggleTableButtonLabel:{message:"Toggle Table"},unusedBytesLabel:{message:"Unused Bytes"}},"en-AU":{allLabel:{message:"All"},allScriptsDropdownLabel:{message:"All scripts"},coverageColumnName:{message:"Coverage"},duplicateModulesLabel:{message:"Duplicate modules"},resourceBytesLabel:{message:"Resource bytes"},tableColumnName:{message:"Name"},toggleTableButtonLabel:{message:"Toggle table"},unusedBytesLabel:{message:"Unused bytes"}},"en-GB":{allLabel:{message:"All"},allScriptsDropdownLabel:{message:"All scripts"},coverageColumnName:{message:"Coverage"},duplicateModulesLabel:{message:"Duplicate modules"},resourceBytesLabel:{message:"Resource bytes"},tableColumnName:{message:"Name"},toggleTableButtonLabel:{message:"Toggle table"},unusedBytesLabel:{message:"Unused bytes"}},"en-IE":{allLabel:{message:"All"},allScriptsDropdownLabel:{message:"All scripts"},coverageColumnName:{message:"Coverage"},duplicateModulesLabel:{message:"Duplicate modules"},resourceBytesLabel:{message:"Resource bytes"},tableColumnName:{message:"Name"},toggleTableButtonLabel:{message:"Toggle table"},unusedBytesLabel:{message:"Unused bytes"}},"en-SG":{allLabel:{message:"All"},allScriptsDropdownLabel:{message:"All scripts"},coverageColumnName:{message:"Coverage"},duplicateModulesLabel:{message:"Duplicate modules"},resourceBytesLabel:{message:"Resource bytes"},tableColumnName:{message:"Name"},toggleTableButtonLabel:{message:"Toggle table"},unusedBytesLabel:{message:"Unused bytes"}},"en-ZA":{allLabel:{message:"All"},allScriptsDropdownLabel:{message:"All scripts"},coverageColumnName:{message:"Coverage"},duplicateModulesLabel:{message:"Duplicate modules"},resourceBytesLabel:{message:"Resource bytes"},tableColumnName:{message:"Name"},toggleTableButtonLabel:{message:"Toggle table"},unusedBytesLabel:{message:"Unused bytes"}},"en-IN":{allLabel:{message:"All"},allScriptsDropdownLabel:{message:"All scripts"},coverageColumnName:{message:"Coverage"},duplicateModulesLabel:{message:"Duplicate modules"},resourceBytesLabel:{message:"Resource bytes"},tableColumnName:{message:"Name"},toggleTableButtonLabel:{message:"Toggle table"},unusedBytesLabel:{message:"Unused bytes"}},"ar-XB":{allLabel:{message:"All"},allScriptsDropdownLabel:{message:"All Scripts"},coverageColumnName:{message:"Coverage"},duplicateModulesLabel:{message:"Duplicate Modules"},resourceBytesLabel:{message:"Resource Bytes"},tableColumnName:{message:"Name"},toggleTableButtonLabel:{message:"Toggle Table"},unusedBytesLabel:{message:"Unused Bytes"}},ar:{allLabel:{message:""},allScriptsDropdownLabel:{message:"  "},coverageColumnName:{message:""},duplicateModulesLabel:{message:" "},resourceBytesLabel:{message:"   "},tableColumnName:{message:""},toggleTableButtonLabel:{message:" "},unusedBytesLabel:{message:"   "}},bg:{allLabel:{message:""},allScriptsDropdownLabel:{message:" "},coverageColumnName:{message:""},duplicateModulesLabel:{message:"  "},resourceBytesLabel:{message:"  "},tableColumnName:{message:""},toggleTableButtonLabel:{message:"  "},unusedBytesLabel:{message:" "}},ca:{allLabel:{message:"Tot"},allScriptsDropdownLabel:{message:"Tots els scripts"},coverageColumnName:{message:"Cobertura"},duplicateModulesLabel:{message:"Mduls duplicats"},resourceBytesLabel:{message:"Bytes del recurs"},tableColumnName:{message:"Nom"},toggleTableButtonLabel:{message:"Commuta la taula"},unusedBytesLabel:{message:"Bytes no utilitzats"}},cs:{allLabel:{message:"Ve"},allScriptsDropdownLabel:{message:"Vechna psma"},coverageColumnName:{message:"Pokryt"},duplicateModulesLabel:{message:"Duplicitn moduly"},resourceBytesLabel:{message:"Poet bajt zdroje"},tableColumnName:{message:"Nzev"},toggleTableButtonLabel:{message:"Zobrazit nebo skrt tabulku"},unusedBytesLabel:{message:"Nevyuit bajty"}},da:{allLabel:{message:"Alle"},allScriptsDropdownLabel:{message:"Alle scripts"},coverageColumnName:{message:"Dkning"},duplicateModulesLabel:{message:"Identiske moduler"},resourceBytesLabel:{message:"Bytes i ressourcefil"},tableColumnName:{message:"Navn"},toggleTableButtonLabel:{message:"Vis/skjul tabel"},unusedBytesLabel:{message:"Ubrugte bytes"}},de:{allLabel:{message:"Alles"},allScriptsDropdownLabel:{message:"Alle Skripts"},coverageColumnName:{message:"Abdeckung"},duplicateModulesLabel:{message:"Doppelte Module"},resourceBytesLabel:{message:"Ressourcengre in Byte"},tableColumnName:{message:"Name"},toggleTableButtonLabel:{message:"Tabelle ein- oder ausblenden"},unusedBytesLabel:{message:"Nicht verwendete Byte"}},el:{allLabel:{message:""},allScriptsDropdownLabel:{message:"  "},coverageColumnName:{message:""},duplicateModulesLabel:{message:"  "},resourceBytesLabel:{message:"Byte "},tableColumnName:{message:""},toggleTableButtonLabel:{message:" "},unusedBytesLabel:{message:"Byte   "}},"en-XA":{allLabel:{message:"[ one]"},allScriptsDropdownLabel:{message:"[  one two]"},coverageColumnName:{message:"[v one]"},duplicateModulesLabel:{message:"[ M one two three]"},resourceBytesLabel:{message:"[  one two]"},tableColumnName:{message:"[m one]"},toggleTableButtonLabel:{message:"[  one two]"},unusedBytesLabel:{message:"[  one two]"}},"en-XL":{allLabel:{message:"All"},allScriptsDropdownLabel:{message:"All Scripts"},coverageColumnName:{message:"Coverage"},duplicateModulesLabel:{message:"Duplicate Modules"},resourceBytesLabel:{message:"Resource Bytes"},tableColumnName:{message:"Name"},toggleTableButtonLabel:{message:"Toggle Table"},unusedBytesLabel:{message:"Unused Bytes"}},es:{allLabel:{message:"Todo"},allScriptsDropdownLabel:{message:"Todas las secuencias de comandos"},coverageColumnName:{message:"Cobertura"},duplicateModulesLabel:{message:"Mdulos duplicados"},resourceBytesLabel:{message:"Bytes del recurso"},tableColumnName:{message:"Nombre"},toggleTableButtonLabel:{message:"Mostrar/Ocultar tabla"},unusedBytesLabel:{message:"Bytes sin usar"}},"es-419":{allLabel:{message:"Todo"},allScriptsDropdownLabel:{message:"Todas las secuencias de comandos"},coverageColumnName:{message:"Cobertura"},duplicateModulesLabel:{message:"Mdulos duplicados"},resourceBytesLabel:{message:"Bytes de recursos"},tableColumnName:{message:"Nombre"},toggleTableButtonLabel:{message:"Activar o desactivar tabla"},unusedBytesLabel:{message:"Bytes sin usar"}},"es-AR":{allLabel:{message:"Todo"},allScriptsDropdownLabel:{message:"Todas las secuencias de comandos"},coverageColumnName:{message:"Cobertura"},duplicateModulesLabel:{message:"Mdulos duplicados"},resourceBytesLabel:{message:"Bytes de recursos"},tableColumnName:{message:"Nombre"},toggleTableButtonLabel:{message:"Activar o desactivar tabla"},unusedBytesLabel:{message:"Bytes sin usar"}},"es-BO":{allLabel:{message:"Todo"},allScriptsDropdownLabel:{message:"Todas las secuencias de comandos"},coverageColumnName:{message:"Cobertura"},duplicateModulesLabel:{message:"Mdulos duplicados"},resourceBytesLabel:{message:"Bytes de recursos"},tableColumnName:{message:"Nombre"},toggleTableButtonLabel:{message:"Activar o desactivar tabla"},unusedBytesLabel:{message:"Bytes sin usar"}},"es-BR":{allLabel:{message:"Todo"},allScriptsDropdownLabel:{message:"Todas las secuencias de comandos"},coverageColumnName:{message:"Cobertura"},duplicateModulesLabel:{message:"Mdulos duplicados"},resourceBytesLabel:{message:"Bytes de recursos"},tableColumnName:{message:"Nombre"},toggleTableButtonLabel:{message:"Activar o desactivar tabla"},unusedBytesLabel:{message:"Bytes sin usar"}},"es-BZ":{allLabel:{message:"Todo"},allScriptsDropdownLabel:{message:"Todas las secuencias de comandos"},coverageColumnName:{message:"Cobertura"},duplicateModulesLabel:{message:"Mdulos duplicados"},resourceBytesLabel:{message:"Bytes de recursos"},tableColumnName:{message:"Nombre"},toggleTableButtonLabel:{message:"Activar o desactivar tabla"},unusedBytesLabel:{message:"Bytes sin usar"}},"es-CL":{allLabel:{message:"Todo"},allScriptsDropdownLabel:{message:"Todas las secuencias de comandos"},coverageColumnName:{message:"Cobertura"},duplicateModulesLabel:{message:"Mdulos duplicados"},resourceBytesLabel:{message:"Bytes de recursos"},tableColumnName:{message:"Nombre"},toggleTableButtonLabel:{message:"Activar o desactivar tabla"},unusedBytesLabel:{message:"Bytes sin usar"}},"es-CO":{allLabel:{message:"Todo"},allScriptsDropdownLabel:{message:"Todas las secuencias de comandos"},coverageColumnName:{message:"Cobertura"},duplicateModulesLabel:{message:"Mdulos duplicados"},resourceBytesLabel:{message:"Bytes de recursos"},tableColumnName:{message:"Nombre"},toggleTableButtonLabel:{message:"Activar o desactivar tabla"},unusedBytesLabel:{message:"Bytes sin usar"}},"es-CR":{allLabel:{message:"Todo"},allScriptsDropdownLabel:{message:"Todas las secuencias de comandos"},coverageColumnName:{message:"Cobertura"},duplicateModulesLabel:{message:"Mdulos duplicados"},resourceBytesLabel:{message:"Bytes de recursos"},tableColumnName:{message:"Nombre"},toggleTableButtonLabel:{message:"Activar o desactivar tabla"},unusedBytesLabel:{message:"Bytes sin usar"}},"es-CU":{allLabel:{message:"Todo"},allScriptsDropdownLabel:{message:"Todas las secuencias de comandos"},coverageColumnName:{message:"Cobertura"},duplicateModulesLabel:{message:"Mdulos duplicados"},resourceBytesLabel:{message:"Bytes de recursos"},tableColumnName:{message:"Nombre"},toggleTableButtonLabel:{message:"Activar o desactivar tabla"},unusedBytesLabel:{message:"Bytes sin usar"}},"es-DO":{allLabel:{message:"Todo"},allScriptsDropdownLabel:{message:"Todas las secuencias de comandos"},coverageColumnName:{message:"Cobertura"},duplicateModulesLabel:{message:"Mdulos duplicados"},resourceBytesLabel:{message:"Bytes de recursos"},tableColumnName:{message:"Nombre"},toggleTableButtonLabel:{message:"Activar o desactivar tabla"},unusedBytesLabel:{message:"Bytes sin usar"}},"es-EC":{allLabel:{message:"Todo"},allScriptsDropdownLabel:{message:"Todas las secuencias de comandos"},coverageColumnName:{message:"Cobertura"},duplicateModulesLabel:{message:"Mdulos duplicados"},resourceBytesLabel:{message:"Bytes de recursos"},tableColumnName:{message:"Nombre"},toggleTableButtonLabel:{message:"Activar o desactivar tabla"},unusedBytesLabel:{message:"Bytes sin usar"}},"es-GT":{allLabel:{message:"Todo"},allScriptsDropdownLabel:{message:"Todas las secuencias de comandos"},coverageColumnName:{message:"Cobertura"},duplicateModulesLabel:{message:"Mdulos duplicados"},resourceBytesLabel:{message:"Bytes de recursos"},tableColumnName:{message:"Nombre"},toggleTableButtonLabel:{message:"Activar o desactivar tabla"},unusedBytesLabel:{message:"Bytes sin usar"}},"es-HN":{allLabel:{message:"Todo"},allScriptsDropdownLabel:{message:"Todas las secuencias de comandos"},coverageColumnName:{message:"Cobertura"},duplicateModulesLabel:{message:"Mdulos duplicados"},resourceBytesLabel:{message:"Bytes de recursos"},tableColumnName:{message:"Nombre"},toggleTableButtonLabel:{message:"Activar o desactivar tabla"},unusedBytesLabel:{message:"Bytes sin usar"}},"es-MX":{allLabel:{message:"Todo"},allScriptsDropdownLabel:{message:"Todas las secuencias de comandos"},coverageColumnName:{message:"Cobertura"},duplicateModulesLabel:{message:"Mdulos duplicados"},resourceBytesLabel:{message:"Bytes de recursos"},tableColumnName:{message:"Nombre"},toggleTableButtonLabel:{message:"Activar o desactivar tabla"},unusedBytesLabel:{message:"Bytes sin usar"}},"es-NI":{allLabel:{message:"Todo"},allScriptsDropdownLabel:{message:"Todas las secuencias de comandos"},coverageColumnName:{message:"Cobertura"},duplicateModulesLabel:{message:"Mdulos duplicados"},resourceBytesLabel:{message:"Bytes de recursos"},tableColumnName:{message:"Nombre"},toggleTableButtonLabel:{message:"Activar o desactivar tabla"},unusedBytesLabel:{message:"Bytes sin usar"}},"es-PA":{allLabel:{message:"Todo"},allScriptsDropdownLabel:{message:"Todas las secuencias de comandos"},coverageColumnName:{message:"Cobertura"},duplicateModulesLabel:{message:"Mdulos duplicados"},resourceBytesLabel:{message:"Bytes de recursos"},tableColumnName:{message:"Nombre"},toggleTableButtonLabel:{message:"Activar o desactivar tabla"},unusedBytesLabel:{message:"Bytes sin usar"}},"es-PE":{allLabel:{message:"Todo"},allScriptsDropdownLabel:{message:"Todas las secuencias de comandos"},coverageColumnName:{message:"Cobertura"},duplicateModulesLabel:{message:"Mdulos duplicados"},resourceBytesLabel:{message:"Bytes de recursos"},tableColumnName:{message:"Nombre"},toggleTableButtonLabel:{message:"Activar o desactivar tabla"},unusedBytesLabel:{message:"Bytes sin usar"}},"es-PR":{allLabel:{message:"Todo"},allScriptsDropdownLabel:{message:"Todas las secuencias de comandos"},coverageColumnName:{message:"Cobertura"},duplicateModulesLabel:{message:"Mdulos duplicados"},resourceBytesLabel:{message:"Bytes de recursos"},tableColumnName:{message:"Nombre"},toggleTableButtonLabel:{message:"Activar o desactivar tabla"},unusedBytesLabel:{message:"Bytes sin usar"}},"es-PY":{allLabel:{message:"Todo"},allScriptsDropdownLabel:{message:"Todas las secuencias de comandos"},coverageColumnName:{message:"Cobertura"},duplicateModulesLabel:{message:"Mdulos duplicados"},resourceBytesLabel:{message:"Bytes de recursos"},tableColumnName:{message:"Nombre"},toggleTableButtonLabel:{message:"Activar o desactivar tabla"},unusedBytesLabel:{message:"Bytes sin usar"}},"es-SV":{allLabel:{message:"Todo"},allScriptsDropdownLabel:{message:"Todas las secuencias de comandos"},coverageColumnName:{message:"Cobertura"},duplicateModulesLabel:{message:"Mdulos duplicados"},resourceBytesLabel:{message:"Bytes de recursos"},tableColumnName:{message:"Nombre"},toggleTableButtonLabel:{message:"Activar o desactivar tabla"},unusedBytesLabel:{message:"Bytes sin usar"}},"es-US":{allLabel:{message:"Todo"},allScriptsDropdownLabel:{message:"Todas las secuencias de comandos"},coverageColumnName:{message:"Cobertura"},duplicateModulesLabel:{message:"Mdulos duplicados"},resourceBytesLabel:{message:"Bytes de recursos"},tableColumnName:{message:"Nombre"},toggleTableButtonLabel:{message:"Activar o desactivar tabla"},unusedBytesLabel:{message:"Bytes sin usar"}},"es-UY":{allLabel:{message:"Todo"},allScriptsDropdownLabel:{message:"Todas las secuencias de comandos"},coverageColumnName:{message:"Cobertura"},duplicateModulesLabel:{message:"Mdulos duplicados"},resourceBytesLabel:{message:"Bytes de recursos"},tableColumnName:{message:"Nombre"},toggleTableButtonLabel:{message:"Activar o desactivar tabla"},unusedBytesLabel:{message:"Bytes sin usar"}},"es-VE":{allLabel:{message:"Todo"},allScriptsDropdownLabel:{message:"Todas las secuencias de comandos"},coverageColumnName:{message:"Cobertura"},duplicateModulesLabel:{message:"Mdulos duplicados"},resourceBytesLabel:{message:"Bytes de recursos"},tableColumnName:{message:"Nombre"},toggleTableButtonLabel:{message:"Activar o desactivar tabla"},unusedBytesLabel:{message:"Bytes sin usar"}},fi:{allLabel:{message:"Kaikki"},allScriptsDropdownLabel:{message:"Kaikki skriptit"},coverageColumnName:{message:"Kattavuus"},duplicateModulesLabel:{message:"Moduulien kaksoiskappaleet"},resourceBytesLabel:{message:"Resurssin tavut"},tableColumnName:{message:"Nimi"},toggleTableButtonLabel:{message:"Nyt/piilota taulukko"},unusedBytesLabel:{message:"Kyttmttmt tavut"}},fil:{allLabel:{message:"Lahat"},allScriptsDropdownLabel:{message:"Lahat ng Script"},coverageColumnName:{message:"Sakop"},duplicateModulesLabel:{message:"Mga Duplicate na Module"},resourceBytesLabel:{message:"Mga Byte ng Resource"},tableColumnName:{message:"Pangalan"},toggleTableButtonLabel:{message:"I-toggle ang Talahanayan"},unusedBytesLabel:{message:"Mga Hindi Nagamit na Byte"}},fr:{allLabel:{message:"Tout"},allScriptsDropdownLabel:{message:"Tous les scripts"},coverageColumnName:{message:"Couverture"},duplicateModulesLabel:{message:"Modules en double"},resourceBytesLabel:{message:"Octets de la ressource"},tableColumnName:{message:"Nom"},toggleTableButtonLabel:{message:"Activer/Dsactiver le tableau"},unusedBytesLabel:{message:"Octets inutiliss"}},he:{allLabel:{message:""},allScriptsDropdownLabel:{message:" "},coverageColumnName:{message:""},duplicateModulesLabel:{message:" "},resourceBytesLabel:{message:"  "},tableColumnName:{message:""},toggleTableButtonLabel:{message:"    "},unusedBytesLabel:{message:"  "}},hi:{allLabel:{message:""},allScriptsDropdownLabel:{message:" "},coverageColumnName:{message:""},duplicateModulesLabel:{message:" "},resourceBytesLabel:{message:"   ( )"},tableColumnName:{message:""},toggleTableButtonLabel:{message:"   "},unusedBytesLabel:{message:"      "}},hr:{allLabel:{message:"Sve"},allScriptsDropdownLabel:{message:"Sve skripte"},coverageColumnName:{message:"Pokrivenost"},duplicateModulesLabel:{message:"Duplicirani moduli"},resourceBytesLabel:{message:"Bajtovi resursa"},tableColumnName:{message:"Naziv"},toggleTableButtonLabel:{message:"Prikai/sakrij tablicu"},unusedBytesLabel:{message:"Neiskoriteni bajtovi"}},hu:{allLabel:{message:"sszes"},allScriptsDropdownLabel:{message:"Minden szkript"},coverageColumnName:{message:"Lefedettsg"},duplicateModulesLabel:{message:"Ismtld modulok"},resourceBytesLabel:{message:"Forrsfjl mrete bjtokban"},tableColumnName:{message:"Nv"},toggleTableButtonLabel:{message:"Tblzat elrejtse/megjelentse"},unusedBytesLabel:{message:"Fel nem hasznlt bjtok"}},gsw:{allLabel:{message:"Alles"},allScriptsDropdownLabel:{message:"Alle Skripts"},coverageColumnName:{message:"Abdeckung"},duplicateModulesLabel:{message:"Doppelte Module"},resourceBytesLabel:{message:"Ressourcengre in Byte"},tableColumnName:{message:"Name"},toggleTableButtonLabel:{message:"Tabelle ein- oder ausblenden"},unusedBytesLabel:{message:"Nicht verwendete Byte"}},id:{allLabel:{message:"Semua"},allScriptsDropdownLabel:{message:"Semua Skrip"},coverageColumnName:{message:"Cakupan"},duplicateModulesLabel:{message:"Modul Duplikat"},resourceBytesLabel:{message:"Byte Resource"},tableColumnName:{message:"Nama"},toggleTableButtonLabel:{message:"Tampilkan/Sembunyikan Tabel"},unusedBytesLabel:{message:"Byte yang Tidak Digunakan"}},in:{allLabel:{message:"Semua"},allScriptsDropdownLabel:{message:"Semua Skrip"},coverageColumnName:{message:"Cakupan"},duplicateModulesLabel:{message:"Modul Duplikat"},resourceBytesLabel:{message:"Byte Resource"},tableColumnName:{message:"Nama"},toggleTableButtonLabel:{message:"Tampilkan/Sembunyikan Tabel"},unusedBytesLabel:{message:"Byte yang Tidak Digunakan"}},it:{allLabel:{message:"Tutto"},allScriptsDropdownLabel:{message:"Tutti gli script"},coverageColumnName:{message:"Copertura"},duplicateModulesLabel:{message:"Moduli duplicati"},resourceBytesLabel:{message:"Byte risorsa"},tableColumnName:{message:"Nome"},toggleTableButtonLabel:{message:"Mostra/nascondi tabella"},unusedBytesLabel:{message:"Byte non utilizzati"}},iw:{allLabel:{message:""},allScriptsDropdownLabel:{message:" "},coverageColumnName:{message:""},duplicateModulesLabel:{message:" "},resourceBytesLabel:{message:"  "},tableColumnName:{message:""},toggleTableButtonLabel:{message:"    "},unusedBytesLabel:{message:"  "}},ja:{allLabel:{message:""},allScriptsDropdownLabel:{message:""},coverageColumnName:{message:""},duplicateModulesLabel:{message:""},resourceBytesLabel:{message:""},tableColumnName:{message:""},toggleTableButtonLabel:{message:""},unusedBytesLabel:{message:""}},ko:{allLabel:{message:""},allScriptsDropdownLabel:{message:" "},coverageColumnName:{message:""},duplicateModulesLabel:{message:" "},resourceBytesLabel:{message:" "},tableColumnName:{message:""},toggleTableButtonLabel:{message:" "},unusedBytesLabel:{message:"  "}},lt:{allLabel:{message:"Viskas"},allScriptsDropdownLabel:{message:"Visi scenarijai"},coverageColumnName:{message:"Aprptis"},duplicateModulesLabel:{message:"Tikslios moduli kopijos"},resourceBytesLabel:{message:"altini baitai"},tableColumnName:{message:"Pavadinimas"},toggleTableButtonLabel:{message:"Perjungti lentel"},unusedBytesLabel:{message:"Nenaudojami baitai"}},lv:{allLabel:{message:"Visi"},allScriptsDropdownLabel:{message:"Visi skripti"},coverageColumnName:{message:"Tvrums"},duplicateModulesLabel:{message:"Dublti modui"},resourceBytesLabel:{message:"Faila lielums baitos"},tableColumnName:{message:"Nosaukums"},toggleTableButtonLabel:{message:"Prslgt tabulu"},unusedBytesLabel:{message:"Neizmantotais apjoms baitos"}},mo:{allLabel:{message:"Toate"},allScriptsDropdownLabel:{message:"Toate scripturile"},coverageColumnName:{message:"Acoperire"},duplicateModulesLabel:{message:"Module dublate"},resourceBytesLabel:{message:"Byi resurs"},tableColumnName:{message:"Nume"},toggleTableButtonLabel:{message:"Activeaz / dezactiveaz tabelul"},unusedBytesLabel:{message:"Byi nefolosii"}},nl:{allLabel:{message:"Alle"},allScriptsDropdownLabel:{message:"Alle scripts"},coverageColumnName:{message:"Dekking"},duplicateModulesLabel:{message:"Dubbele modules"},resourceBytesLabel:{message:"Resourcebytes"},tableColumnName:{message:"Naam"},toggleTableButtonLabel:{message:"Tabel schakelen"},unusedBytesLabel:{message:"Ongebruikte bytes"}},nb:{allLabel:{message:"Alt"},allScriptsDropdownLabel:{message:"Alle skript"},coverageColumnName:{message:"Dekning"},duplicateModulesLabel:{message:"Duplikatmoduler"},resourceBytesLabel:{message:"Ressursstrrelse i byte"},tableColumnName:{message:"Navn"},toggleTableButtonLabel:{message:"Sl av/p tabell"},unusedBytesLabel:{message:"Ubrukte byte"}},no:{allLabel:{message:"Alt"},allScriptsDropdownLabel:{message:"Alle skript"},coverageColumnName:{message:"Dekning"},duplicateModulesLabel:{message:"Duplikatmoduler"},resourceBytesLabel:{message:"Ressursstrrelse i byte"},tableColumnName:{message:"Navn"},toggleTableButtonLabel:{message:"Sl av/p tabell"},unusedBytesLabel:{message:"Ubrukte byte"}},pl:{allLabel:{message:"Wszystko"},allScriptsDropdownLabel:{message:"Wszystkie skrypty"},coverageColumnName:{message:"Pokrycie"},duplicateModulesLabel:{message:"Zduplikowane moduy"},resourceBytesLabel:{message:"Rozmiar zasobu (wbajtach)"},tableColumnName:{message:"Nazwa"},toggleTableButtonLabel:{message:"Przecz tabel"},unusedBytesLabel:{message:"Nieuywane bajty"}},pt:{allLabel:{message:"Tudo"},allScriptsDropdownLabel:{message:"Todos os scripts"},coverageColumnName:{message:"Cobertura"},duplicateModulesLabel:{message:"Mdulos duplicados"},resourceBytesLabel:{message:"Bytes de recursos"},tableColumnName:{message:"Nome"},toggleTableButtonLabel:{message:"Alternar tabela"},unusedBytesLabel:{message:"Bytes no usados"}},"pt-PT":{allLabel:{message:"Tudo"},allScriptsDropdownLabel:{message:"Todos os scripts"},coverageColumnName:{message:"Cobertura"},duplicateModulesLabel:{message:"Mdulos duplicados"},resourceBytesLabel:{message:"Bytes de recursos"},tableColumnName:{message:"Nome"},toggleTableButtonLabel:{message:"Ativar/desativar tabela"},unusedBytesLabel:{message:"Bytes no utilizados"}},ro:{allLabel:{message:"Toate"},allScriptsDropdownLabel:{message:"Toate scripturile"},coverageColumnName:{message:"Acoperire"},duplicateModulesLabel:{message:"Module dublate"},resourceBytesLabel:{message:"Byi resurs"},tableColumnName:{message:"Nume"},toggleTableButtonLabel:{message:"Activeaz / dezactiveaz tabelul"},unusedBytesLabel:{message:"Byi nefolosii"}},ru:{allLabel:{message:""},allScriptsDropdownLabel:{message:" "},coverageColumnName:{message:" "},duplicateModulesLabel:{message:" "},resourceBytesLabel:{message:"  "},tableColumnName:{message:""},toggleTableButtonLabel:{message:"/ "},unusedBytesLabel:{message:" "}},sk:{allLabel:{message:"Vetko"},allScriptsDropdownLabel:{message:"Vetky skripty"},coverageColumnName:{message:"Pokrytie"},duplicateModulesLabel:{message:"Duplikova moduly"},resourceBytesLabel:{message:"Poet bajtov zdroja"},tableColumnName:{message:"Nzov"},toggleTableButtonLabel:{message:"Prepn tabuku"},unusedBytesLabel:{message:"Nepouit bajty"}},sl:{allLabel:{message:"Vse"},allScriptsDropdownLabel:{message:"Vsi skripti"},coverageColumnName:{message:"Pokritost"},duplicateModulesLabel:{message:"Podvojeni moduli"},resourceBytesLabel:{message:"Bajti sredstva"},tableColumnName:{message:"Ime"},toggleTableButtonLabel:{message:"Preklop tabele"},unusedBytesLabel:{message:"Neuporabljeni bajti"}},sr:{allLabel:{message:""},allScriptsDropdownLabel:{message:" "},coverageColumnName:{message:""},duplicateModulesLabel:{message:" "},resourceBytesLabel:{message:" "},tableColumnName:{message:""},toggleTableButtonLabel:{message:"/ "},unusedBytesLabel:{message:" "}},"sr-Latn":{allLabel:{message:"Sve"},allScriptsDropdownLabel:{message:"Sve skripte"},coverageColumnName:{message:"Pokrivenost"},duplicateModulesLabel:{message:"Duplirani moduli"},resourceBytesLabel:{message:"Bajtovi resursa"},tableColumnName:{message:"Naziv"},toggleTableButtonLabel:{message:"Ukljui/iskljui tabelu"},unusedBytesLabel:{message:"Neiskoriceni bajtovi"}},sv:{allLabel:{message:"Alla"},allScriptsDropdownLabel:{message:"Alla skript"},coverageColumnName:{message:"Tckning"},duplicateModulesLabel:{message:"Moduldubbletter"},resourceBytesLabel:{message:"Resursstorlek i byte"},tableColumnName:{message:"Namn"},toggleTableButtonLabel:{message:"Aktivera och inaktivera tabell"},unusedBytesLabel:{message:"Byte som inte anvnds"}},ta:{allLabel:{message:""},allScriptsDropdownLabel:{message:" "},coverageColumnName:{message:""},duplicateModulesLabel:{message:" "},resourceBytesLabel:{message:"  ()"},tableColumnName:{message:""},toggleTableButtonLabel:{message:" /"},unusedBytesLabel:{message:" "}},te:{allLabel:{message:""},allScriptsDropdownLabel:{message:" "},coverageColumnName:{message:""},duplicateModulesLabel:{message:" "},resourceBytesLabel:{message:" "},tableColumnName:{message:""},toggleTableButtonLabel:{message:" "},unusedBytesLabel:{message:" "}},th:{allLabel:{message:""},allScriptsDropdownLabel:{message:""},coverageColumnName:{message:""},duplicateModulesLabel:{message:""},resourceBytesLabel:{message:" ()"},tableColumnName:{message:""},toggleTableButtonLabel:{message:"/"},unusedBytesLabel:{message:""}},tl:{allLabel:{message:"Lahat"},allScriptsDropdownLabel:{message:"Lahat ng Script"},coverageColumnName:{message:"Sakop"},duplicateModulesLabel:{message:"Mga Duplicate na Module"},resourceBytesLabel:{message:"Mga Byte ng Resource"},tableColumnName:{message:"Pangalan"},toggleTableButtonLabel:{message:"I-toggle ang Talahanayan"},unusedBytesLabel:{message:"Mga Hindi Nagamit na Byte"}},tr:{allLabel:{message:"Tm"},allScriptsDropdownLabel:{message:"Tm Alfabeler"},coverageColumnName:{message:"Kapsam"},duplicateModulesLabel:{message:"Yinelenen Modller"},resourceBytesLabel:{message:"Kaynak Baytlar"},tableColumnName:{message:"Ad"},toggleTableButtonLabel:{message:"Tabloyu A/Kapat"},unusedBytesLabel:{message:"Kullanlmayan Baytlar"}},uk:{allLabel:{message:""},allScriptsDropdownLabel:{message:" "},coverageColumnName:{message:"  "},duplicateModulesLabel:{message:" "},resourceBytesLabel:{message:"   "},tableColumnName:{message:""},toggleTableButtonLabel:{message:"   "},unusedBytesLabel:{message:" "}},vi:{allLabel:{message:"Tt c"},allScriptsDropdownLabel:{message:"Tt c tp lnh"},coverageColumnName:{message:" bao ph"},duplicateModulesLabel:{message:"M-un trng lp"},resourceBytesLabel:{message:"S byte ti nguyn"},tableColumnName:{message:"Tn"},toggleTableButtonLabel:{message:"n/hin bng"},unusedBytesLabel:{message:"S byte cha dng n"}},zh:{allLabel:{message:""},allScriptsDropdownLabel:{message:""},coverageColumnName:{message:""},duplicateModulesLabel:{message:""},resourceBytesLabel:{message:""},tableColumnName:{message:""},toggleTableButtonLabel:{message:"/"},unusedBytesLabel:{message:""}},"zh-HK":{allLabel:{message:""},allScriptsDropdownLabel:{message:""},coverageColumnName:{message:""},duplicateModulesLabel:{message:""},resourceBytesLabel:{message:""},tableColumnName:{message:""},toggleTableButtonLabel:{message:"/"},unusedBytesLabel:{message:""}},"zh-TW":{allLabel:{message:""},allScriptsDropdownLabel:{message:""},coverageColumnName:{message:""},duplicateModulesLabel:{message:""},resourceBytesLabel:{message:""},tableColumnName:{message:""},toggleTableButtonLabel:{message:"/"},unusedBytesLabel:{message:""}}};class Logger{constructor(e){this.el=e,this._id=void 0}log(e,t=!0){this._id&&clearTimeout(this._id),this.el.textContent=e,this.el.classList.add("show"),t&&(this._id=setTimeout((e=>{this.el.classList.remove("show")}),7e3))}warn(e){this.log("Warning: "+e)}error(e){this.log(e),setTimeout((t=>{throw new Error(e)}),0)}hide(){this._id&&clearTimeout(this._id),this.el.classList.remove("show")}}"undefined"!=typeof module&&module.exports&&(module.exports=Logger);const NBSP2="",KiB=1024,MiB=1048576;class I18n{constructor(e,t){"en-XA"===e&&(e="de"),this._numberDateLocale=e,this._numberFormatter=new Intl.NumberFormat(e),this._percentFormatter=new Intl.NumberFormat(e,{style:"percent"}),this._strings=t}get strings(){return this._strings}formatNumber(e,t=.1){const o=Math.round(e/t)*t;return this._numberFormatter.format(o)}formatPercent(e){return this._percentFormatter.format(e)}formatBytesToKiB(e,t=.1){return this._byteFormatterForGranularity(t).format(Math.round(e/1024/t)*t)+"KiB"}formatBytesToMiB(e,t=.1){return this._byteFormatterForGranularity(t).format(Math.round(e/1048576/t)*t)+"MiB"}formatBytes(e,t=1){return this._byteFormatterForGranularity(t).format(Math.round(e/t)*t)+"bytes"}formatBytesWithBestUnit(e,t=.1){return e>=MiB?this.formatBytesToMiB(e,t):e>=KiB?this.formatBytesToKiB(e,t):this.formatNumber(e,t)+"B"}_byteFormatterForGranularity(e){let t=0;return e<1&&(t=-Math.floor(Math.log10(e))),new Intl.NumberFormat(this._numberDateLocale,{...this._numberFormatter.resolvedOptions(),maximumFractionDigits:t,minimumFractionDigits:t})}formatMilliseconds(e,t=10){const o=Math.round(e/t)*t;return 0===o?this._numberFormatter.format(0)+"ms":this._numberFormatter.format(o)+"ms"}formatSeconds(e,t=.1){const o=Math.round(e/1e3/t)*t;return this._numberFormatter.format(o)+"s"}formatDateTime(e){const t={month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric",timeZoneName:"short"};let o;try{o=new Intl.DateTimeFormat(this._numberDateLocale,t)}catch(e){t.timeZone="UTC",o=new Intl.DateTimeFormat(this._numberDateLocale,t)}return o.format(new Date(e))}formatDuration(e){let t=e/1e3;if(0===Math.round(t))return"None";const o=[],i={d:86400,h:3600,m:60,s:1};return Object.keys(i).forEach((e=>{const s=i[e],n=Math.floor(t/s);n>0&&(t-=n*s,o.push(`${n}${e}`))})),o.join(" ")}}"undefined"!=typeof module&&module.exports?module.exports=I18n:self.I18n=I18n;const btoa_="undefined"!=typeof btoa?btoa:e=>Buffer.from(e).toString("base64"),atob_="undefined"!=typeof atob?atob:e=>Buffer.from(e,"base64").toString();async function toBase64(e,t){let o=(new TextEncoder).encode(e);if(t.gzip)if("undefined"!=typeof CompressionStream){const e=new CompressionStream("gzip"),t=e.writable.getWriter();t.write(o),t.close();const i=await new Response(e.readable).arrayBuffer();o=new Uint8Array(i)}else{o=window.pako.gzip(e)}let i="";for(let e=0;e<o.length;e+=5e3)i+=String.fromCharCode(...o.subarray(e,e+5e3));return btoa_(i)}function fromBase64(e,t){const o=atob_(e),i=Uint8Array.from(o,(e=>e.charCodeAt(0)));if(t.gzip){return window.pako.ungzip(i,{to:"string"})}return(new TextDecoder).decode(i)}"undefined"!=typeof module&&module.exports?module.exports={toBase64:toBase64,fromBase64:fromBase64}:self.TextEncoding={toBase64:toBase64,fromBase64:fromBase64};class DragAndDrop{constructor(e){const t=document.querySelector(".drop_zone");if(!t)throw new Error("Drag and drop `.drop_zone` element not found in page");this._dropZone=t,this._fileHandlerCallback=e,this._dragging=!1,this._addListeners()}readFile(e){return new Promise(((t,o)=>{const i=new FileReader;i.onload=function(e){const i=e.target&&e.target.result;i?t(i):o("Could not read file")},i.onerror=o,i.readAsText(e)}))}_addListeners(){document.addEventListener("mouseleave",(e=>{this._dragging&&this._resetDraggingUI()})),document.addEventListener("dragover",(e=>{e.stopPropagation(),e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="copy")})),document.addEventListener("dragenter",(e=>{this._dropZone.classList.add("dropping"),this._dragging=!0})),document.addEventListener("drop",(e=>{e.stopPropagation(),e.preventDefault(),this._resetDraggingUI(),e.dataTransfer&&this.readFile(e.dataTransfer.files[0]).then((e=>{this._fileHandlerCallback(e)})).catch((e=>logger.error(e)))}))}_resetDraggingUI(){this._dropZone.classList.remove("dropping"),this._dragging=!1}}"undefined"!=typeof module&&module.exports&&(module.exports=DragAndDrop);class GithubApi{constructor(){this._auth=new FirebaseAuth,this._saving=!1}static get LH_JSON_EXT(){return".lighthouse.report.json"}getFirebaseAuth(){return this._auth}createGist(e){return this._saving?Promise.reject(new Error("Save already in progress")):(logger.log("Saving report to GitHub...",!1),this._saving=!0,this._auth.getAccessToken().then((t=>{const o={description:"Lighthouse json report",public:!1,files:{[`${getFilenamePrefix({finalUrl:e.finalUrl,fetchTime:e.fetchTime})}${GithubApi.LH_JSON_EXT}`]:{content:JSON.stringify(e)}}},i=new Request("https://api.github.com/gists",{method:"POST",headers:new Headers({Authorization:"token "+t}),body:JSON.stringify(o)});return fetch(i)})).then((e=>e.json())).then((e=>(logger.log("Saved!"),this._saving=!1,e.id))).catch((e=>{throw this._saving=!1,e})))}getGistFileContentAsJson(e){return logger.log("Fetching report from GitHub...",!1),this._auth.getAccessTokenIfLoggedIn().then((t=>{const o=new Headers;return t&&o.set("Authorization","token "+t),idbKeyval.get(e).then((t=>(t&&t.etag&&o.set("If-None-Match",t.etag),fetch("https://api.github.com/gists/"+e,{headers:o}).then((o=>{const i=Number(o.headers.get("X-RateLimit-Remaining")),s=Number(o.headers.get("X-RateLimit-Limit"));if(i<10&&logger.warn(`Approaching GitHub's rate limit. ${s-i}/${s} requests used. Consider signing in to increase this limit.`),!o.ok){if(304===o.status)return Promise.resolve(t);throw 404===o.status&&idbKeyval.delete(e),new Error(o.status+" fetching gist")}const n=o.headers.get("ETag");return o.json().then((t=>{const o=Object.keys(t.files);let i=o.find((e=>e.endsWith(GithubApi.LH_JSON_EXT)));if(i||(i=o.find((e=>e.endsWith(".json")))),!i)throw new Error(`Failed to find a Lighthouse report (*${GithubApi.LH_JSON_EXT}) in gist ${e}`);const s=t.files[i];if(s.truncated)return fetch(s.raw_url).then((e=>e.json())).then((e=>({etag:n,content:e})));const a=JSON.parse(s.content);return{etag:n,content:a}}))})))))})).then((t=>idbKeyval.set(e,t).then((e=>(logger.hide(),t.content)))))}}"undefined"!=typeof module&&module.exports&&(module.exports=GithubApi);class FirebaseAuth{constructor(){this._accessToken=null,this._firebaseUser=null,this._provider=new firebase.auth.GithubAuthProvider,this._provider.addScope("gist"),firebase.initializeApp({apiKey:"AIzaSyApMz8FHTyJNqqUtA51tik5Mro8j-2qMcM",authDomain:"lighthouse-viewer.firebaseapp.com",databaseURL:"https://lighthouse-viewer.firebaseio.com",storageBucket:"lighthouse-viewer.appspot.com",messagingSenderId:"962507201498"}),this._ready=Promise.all([new Promise((e=>firebase.auth().onAuthStateChanged(e))),idbKeyval.get("accessToken")]).then((([e,t])=>{e&&t&&(this._accessToken=t,this._firebaseUser=e)}))}getAccessTokenIfLoggedIn(){return this._ready.then((e=>this._accessToken))}getAccessToken(){return this._ready.then((e=>this._accessToken?this._accessToken:this.signIn()))}signIn(){return firebase.auth().signInWithPopup(this._provider).then((e=>{const t=e.credential.accessToken;return this._accessToken=t,this._firebaseUser=e.user,idbKeyval.set("accessToken",t).then((e=>t))}))}signOut(){return firebase.auth().signOut().then((e=>(this._accessToken=null,idbKeyval.delete("accessToken"))))}}"undefined"!=typeof module&&module.exports&&(module.exports=FirebaseAuth);const DUPLICATED_MODULES_IGNORE_THRESHOLD=1024,DUPLICATED_MODULES_IGNORE_ROOT_RATIO=.01,logEl=document.querySelector("#lh-log"),logger=new Logger(logEl);let treemapViewer;Cell.prototype.clearHeight=()=>{},Row.prototype.calcHeight=function(){this.height=24,this.outerHeight=24,this.heightStyled="24px"};class TreemapViewer{constructor(e,t){this.abortController=new AbortController;const o=e.lhr.audits["script-treemap-data"].details;if(!o||"treemap-data"!==o.type)throw new Error("missing script-treemap-data");this.depthOneNodesByGroup={scripts:o.nodes},this.nodeToDepthOneNodeMap=new WeakMap;for(const e of Object.values(this.depthOneNodesByGroup))for(const t of e)TreemapUtil.walk(t,(e=>this.nodeToDepthOneNodeMap.set(e,t)));this.nodeToPathMap=new WeakMap,this.documentUrl=new URL(e.lhr.requestedUrl),this.el=t,this.getHueForD1NodeName=TreemapUtil.stableHasher(TreemapUtil.COLOR_HUES);for(const e of this.depthOneNodesByGroup.scripts)try{const t=new URL(e.name);e.name=TreemapUtil.elideSameOrigin(t,this.documentUrl),t.href===this.documentUrl.href&&(e.name+=" (inline)")}catch{}this.currentTreemapRoot,this.currentViewMode,this.selector,this.viewModes,this.previousRenderState,this.tableRowToNodeMap=new WeakMap,this.treemap,this.createHeader(),this.toggleTable(window.innerWidth>=600),this.initListeners(),this.setSelector({type:"group",value:"scripts"}),this.render()}createHeader(){const e=TreemapUtil.find("a.lh-header--url");e.textContent=this.documentUrl.toString(),e.href=this.documentUrl.toString(),this.createBundleSelector()}createBundleSelector(){const e=TreemapUtil.find("select.bundle-selector");e.innerHTML="";const t=[];function o(o,i){const s=TreemapUtil.createChildOf(e,"option");s.value=String(t.length),t.push(o),s.textContent=i}for(const[e,t]of Object.entries(this.depthOneNodesByGroup)){o({type:"group",value:e},{scripts:TreemapUtil.i18n.strings.allScriptsDropdownLabel}[e]||"All "+e);for(const e of t)e.children&&o({type:"depthOneNode",value:e.name},e.name)}const i=t.findIndex((e=>this.selector&&e.type===this.selector.type&&e.value===this.selector.value));e.value=String(-1!==i?i:0),e.addEventListener("change",(()=>{const o=Number(e.value),i=t[o];this.setSelector(i),this.render()}))}initListeners(){const e={signal:this.abortController.signal},t=TreemapUtil.find(".lh-treemap");new ResizeObserver((()=>this.resize())).observe(t),t.addEventListener("click",(e=>{if(!(e.target instanceof HTMLElement))return;e.target.closest(".webtreemap-node")&&this.updateColors()}),e),t.addEventListener("keyup",(e=>{e instanceof KeyboardEvent&&("Enter"===e.key&&this.updateColors(),"Escape"===e.key&&this.treemap&&this.treemap.zoom([]))}),e),t.addEventListener("mouseover",(e=>{if(!(e.target instanceof HTMLElement))return;const t=e.target.closest(".webtreemap-node");t&&t.classList.add("webtreemap-node--hover")}),e),t.addEventListener("mouseout",(e=>{if(!(e.target instanceof HTMLElement))return;const t=e.target.closest(".webtreemap-node");t&&t.classList.remove("webtreemap-node--hover")}),e),TreemapUtil.find(".lh-table").addEventListener("mouseover",(e=>{const o=e.target;if(!(o instanceof HTMLElement))return;const i=o.closest(".tabulator-row");if(!(i instanceof HTMLElement))return;const s=this.tableRowToNodeMap.get(i);s&&s.dom&&(s.dom.classList.add("webtreemap-node--hover"),i.addEventListener("mouseout",(()=>{for(const e of t.querySelectorAll(".webtreemap-node--hover"))e.classList.remove("webtreemap-node--hover")}),{once:!0}))}),e);TreemapUtil.find(".lh-button--toggle-table").addEventListener("click",(()=>treemapViewer.toggleTable()),e)}wrapNodesInNewRootNode(e){const t=[...e];return{name:this.documentUrl.toString(),resourceBytes:t.reduce(((e,t)=>t.resourceBytes+e),0),unusedBytes:t.reduce(((e,t)=>(t.unusedBytes||0)+e),0),children:t}}createViewModes(){const e=[];e.push({id:"all",label:TreemapUtil.i18n.strings.allLabel,subLabel:TreemapUtil.i18n.formatBytesWithBestUnit(this.currentTreemapRoot.resourceBytes),enabled:!0});const t=function(e){if(void 0!==e.unusedBytes)return{id:"unused-bytes",label:TreemapUtil.i18n.strings.unusedBytesLabel,subLabel:TreemapUtil.i18n.formatBytesWithBestUnit(e.unusedBytes),enabled:!0}}(this.currentTreemapRoot);t&&e.push(t);const o=(e=>{const t=new Map;for(const o of e.children||[])TreemapUtil.walk(o,((e,o)=>{if(e.children)return;if(!e.duplicatedNormalizedModuleName)return;const i=t.get(e.duplicatedNormalizedModuleName)||[];i.push({node:e,path:o}),t.set(e.duplicatedNormalizedModuleName,i)}));const o=TreemapUtil.stableHasher(TreemapUtil.COLOR_HUES);let i=0;const s=[];for(const[n,a]of t.entries()){if(1===a.length)continue;const t=[];for(const{node:e}of a)t.push(e.resourceBytes);t.sort(((e,t)=>t-e));let l=0;for(let e=1;e<t.length;e++)l+=t[e];if(!(l<1024)){for(const{path:t}of a)s.push({path:[e.name,...t],color:this.getColorFromHue(o(n))});i+=l}}let n=!0;return 0===s.length&&(n=!1),i/e.resourceBytes<.01&&(n=!1),{id:"duplicate-modules",label:TreemapUtil.i18n.strings.duplicateModulesLabel,subLabel:n?TreemapUtil.i18n.formatBytesWithBestUnit(i):"N/A",highlights:s,enabled:n}})(this.currentTreemapRoot);return o&&e.push(o),e}setSelector(e){if(this.selector=e,"group"===e.type)this.currentTreemapRoot=this.wrapNodesInNewRootNode(this.depthOneNodesByGroup[e.value]);else{if("depthOneNode"!==e.type)throw new Error("unknown selector: "+JSON.stringify(e));{let t;e:for(const o of Object.values(this.depthOneNodesByGroup))for(const i of o)if(i.name===e.value){t=i;break e}if(!t)throw new Error("unknown depthOneNode: "+e.value);this.currentTreemapRoot=t}}this.viewModes=this.createViewModes();const t=this.currentViewMode&&this.viewModes.find((e=>e.id===this.currentViewMode.id&&!e.enabled));this.currentViewMode&&!t||(this.currentViewMode=this.viewModes[0])}setViewMode(e){this.currentViewMode=e}render(){const e=!this.previousRenderState||this.previousRenderState.root!==this.currentTreemapRoot,t=!this.previousRenderState||this.previousRenderState.viewMode!==this.currentViewMode;e&&(this.nodeToPathMap=new Map,TreemapUtil.walk(this.currentTreemapRoot,((e,t)=>this.nodeToPathMap.set(e,t))),renderViewModeButtons(this.viewModes),TreemapUtil.walk(this.currentTreemapRoot,(e=>{delete e.dom,e.size=e[this.currentViewMode.partitionBy||"resourceBytes"]||0})),webtreemap.sort(this.currentTreemapRoot),this.treemap=new webtreemap.TreeMap(this.currentTreemapRoot,{padding:[16,3,3,3],spacing:10,caption:e=>this.makeCaption(e)}),this.el.innerHTML="",this.treemap.render(this.el),TreemapUtil.find(".webtreemap-node").classList.add("webtreemap-node--root"),this.createTable()),(e||t)&&(this.updateColors(),applyActiveClass(this.currentViewMode.id,this.el)),this.previousRenderState={root:this.currentTreemapRoot,viewMode:this.currentViewMode}}createTable(){const e=TreemapUtil.find(".lh-table");e.innerHTML="";const t=[];TreemapUtil.walk(this.currentTreemapRoot,((e,o)=>{if(e.children)return;const i=this.nodeToDepthOneNodeMap.get(e),s=i&&i.children?i:void 0;let n;if(s){const e=this.nodeToPathMap.get(s),t=e?e.length:0;n="(bundle) "+o.slice(t).join("/")}else n=o[0]===this.currentTreemapRoot.name?o.slice(1).join("/"):o.join("/");t.push({node:e,name:n,bundleNode:s,resourceBytes:e.resourceBytes,unusedBytes:e.unusedBytes})}));const o=e=>t=>{const o=t.getRow().getData()[e];return void 0===o?"":TreemapUtil.i18n.formatBytes(o)},i=document.createElement("div");e.append(i);const s=this.currentTreemapRoot.children||[],n=Math.max(...s.map((e=>e.resourceBytes)));this.tableRowToNodeMap=new WeakMap,this.table=new Tabulator(i,{data:t,height:"100%",layout:"fitColumns",tooltips:!0,addRowPos:"top",resizableColumns:!0,initialSort:[{column:"resourceBytes",dir:"desc"}],columns:[{title:TreemapUtil.i18n.strings.tableColumnName,field:"name",widthGrow:5,tooltip:e=>{const t=e.getRow().getData();return t.bundleNode?`${t.bundleNode.name} ${t.name}`:""}},{title:TreemapUtil.i18n.strings.resourceBytesLabel,field:"resourceBytes",headerSortStartingDir:"desc",tooltip:o("resourceBytes"),formatter:e=>{const t=e.getValue();return TreemapUtil.i18n.formatBytesWithBestUnit(t)}},{title:TreemapUtil.i18n.strings.unusedBytesLabel,field:"unusedBytes",widthGrow:1,sorterParams:{alignEmptyValues:"bottom"},headerSortStartingDir:"desc",tooltip:o("unusedBytes"),formatter:e=>{const t=e.getValue();return void 0===t?"":TreemapUtil.i18n.formatBytesWithBestUnit(t)}},{title:TreemapUtil.i18n.strings.coverageColumnName,widthGrow:3,headerSort:!1,tooltip:e=>{const t=e.getRow().getData();if(!t.unusedBytes)return"";const o=t.unusedBytes/t.resourceBytes;return TreemapUtil.i18n.formatPercent(o)+" bytes unused"},formatter:e=>{const t=e.getRow().getData(),o=TreemapUtil.createElement("div","lh-coverage-bar");return void 0===t.unusedBytes||(o.style.setProperty("--max",String(n)),o.style.setProperty("--used",String(t.resourceBytes-t.unusedBytes)),o.style.setProperty("--unused",String(t.unusedBytes)),TreemapUtil.createChildOf(o,"div","lh-coverage-bar--used"),TreemapUtil.createChildOf(o,"div","lh-coverage-bar--unused")),o}}],rowFormatter:e=>{this.tableRowToNodeMap.set(e.getElement(),e.getData().node)}})}toggleTable(e){TreemapUtil.find("main").classList.toggle("lh-main--show-table",e);TreemapUtil.find(".lh-button--toggle-table").classList.toggle("lh-button--active",e)}resize(){if(!this.treemap)throw new Error("must call .render() first");this.treemap.layout(this.currentTreemapRoot,this.el),this.updateColors(),this.table&&this.table.redraw()}makeCaption(e){const t=this.currentViewMode.partitionBy||"resourceBytes",o={resourceBytes:TreemapUtil.i18n.strings.resourceBytesLabel,unusedBytes:TreemapUtil.i18n.strings.unusedBytesLabel}[t],i=e[t],s=this.currentTreemapRoot[t],n=[TreemapUtil.elide(e.name||"",60)];if(void 0!==i&&void 0!==s){const t=TreemapUtil.i18n.formatPercent(i/s);let a=`${TreemapUtil.i18n.formatBytesWithBestUnit(i)} (${t})`;e===this.currentTreemapRoot&&(a=`${o}: ${a}`),n.push(a)}return n.join("  ")}getColorFromHue(e){return TreemapUtil.hsl(e,60,90)}updateColors(){TreemapUtil.walk(this.currentTreemapRoot,(e=>{const t=this.nodeToDepthOneNodeMap.get(e),o=t&&this.getHueForD1NodeName(t?t.name:e.name),i=void 0!==o?this.getColorFromHue(o):"white";if(!e.dom)return;let s;if(this.currentViewMode.highlights){const t=this.nodeToPathMap.get(e),o=t&&this.currentViewMode.highlights.find((e=>TreemapUtil.pathsAreEqual(t,e.path)));return s=o?o.color||i:"white",void(e.dom.style.backgroundColor=s)}if(e.dom.style.backgroundColor=i,"unused-bytes"===this.currentViewMode.id){const t=(e.unusedBytes||0)/e.resourceBytes*100;e.dom.style.setProperty("--pctUnused",t+"%")}}))}}function renderViewModeButtons(e){const t=TreemapUtil.find(".lh-modes");t.innerHTML="",e.forEach((function(e){const o=TreemapUtil.createChildOf(t,"div","view-mode");e.enabled||o.classList.add("view-mode--disabled"),o.id="view-mode--"+e.id;const i=TreemapUtil.createChildOf(o,"input","view-mode__button",{id:`view-mode--${e.id}__label`,type:"radio",name:"view-mode",disabled:e.enabled?void 0:""}),s=TreemapUtil.createChildOf(o,"label",void 0,{for:i.id});TreemapUtil.createChildOf(s,"span","view-mode__label").textContent=e.label,TreemapUtil.createChildOf(s,"span","view-mode__sublabel lh-text-dim").textContent=` (${e.subLabel})`,i.addEventListener("click",(()=>{treemapViewer.setViewMode(e),treemapViewer.render()}))}))}function applyActiveClass(e,t){const o=TreemapUtil.find(".lh-modes");for(const i of o.querySelectorAll(".view-mode")){if(!(i instanceof HTMLElement))continue;const o=i.id==="view-mode--"+e;i.classList.toggle("view-mode--active",o),t.classList.toggle("lh-treemap--"+i.id,o)}}function injectOptions(e){let t=document.querySelector(".lh-injectedoptions");t&&t.remove(),t=TreemapUtil.createChildOf(document.head,"script","lh-injectedoptions"),t.textContent=`\n    window.__treemapOptions = ${JSON.stringify(e)};\n  `}function getStrings(e){const t={};for(const o of Object.keys(e)){t[o]=e[o].message}return t}class LighthouseTreemap{static get APP_URL(){return`${location.origin}${location.pathname}`}constructor(){this._onPaste=this._onPaste.bind(this),this._onFileLoad=this._onFileLoad.bind(this),this._dragAndDrop=new DragAndDrop(this._onFileLoad),this._github=new GithubApi,document.addEventListener("paste",this._onPaste);const e=TreemapUtil.find("input#hidden-file-input",document);e.addEventListener("change",(e=>{if(!e.target)return;const t=e.target;t.files&&this._dragAndDrop.readFile(t.files[0]).then((e=>{this._onFileLoad(e)})),t.value=""}));TreemapUtil.find(".treemap-placeholder-inner",document).addEventListener("click",(t=>{const o=t.target;o&&"input"!==o.localName&&"a"!==o.localName&&e.click()}))}init(e){TreemapUtil.find(".treemap-placeholder").classList.add("hidden"),TreemapUtil.find("main").classList.remove("hidden");const t=new I18n(e.lhr.configSettings.locale,{...TreemapUtil.UIStrings,...getStrings(strings[e.lhr.configSettings.locale])});TreemapUtil.i18n=t;for(const e of document.querySelectorAll("[data-i18n]")){const t=e.getAttribute("data-i18n");e.textContent=TreemapUtil.i18n.strings[t]}treemapViewer&&(TreemapUtil.find(".lh-treemap").innerHTML="",TreemapUtil.find(".lh-table").innerHTML="",treemapViewer.abortController.abort()),treemapViewer=new TreemapViewer(e,TreemapUtil.find("div.lh-treemap")),injectOptions(e),console.log("window.__treemapOptions",window.__treemapOptions)}convertToOptions(e){if(e&&"object"==typeof e&&(e.audits&&(e={lhr:e}),e.lhr&&e.lhr.audits&&"object"==typeof e.lhr.audits))return e;throw new Error("unknown json")}async loadFromGistUrl(e){try{const t=new URL(e);if("https://gist.github.com"!==t.origin)return void logger.error("URL was not a gist");const o=t.pathname.match(/[a-f0-9]{5,}/);if(o){const e=o[0];history.pushState({},"",`${LighthouseTreemap.APP_URL}?gist=${e}`);const t=await this._github.getGistFileContentAsJson(e),i=this.convertToOptions(t);this.init(i)}}catch(e){logger.error(e)}}_onFileLoad(e){let t,o;try{t=JSON.parse(e),o=this.convertToOptions(t)}catch(e){logger.error("Could not parse JSON file.")}o&&this.init(o)}_onPaste(e){if(e.clipboardData){e.preventDefault();try{const t=new URL(e.clipboardData.getData("text"));return this.loadFromGistUrl(t.href),void(window.ga&&window.ga("send","event","report","paste-link"))}catch(e){}try{const t=JSON.parse(e.clipboardData.getData("text")),o=this.convertToOptions(t);return this.init(o),void(window.ga&&window.ga("send","event","report","paste"))}catch(e){}logger.error("Pasted content did not have JSON or gist URL")}}}async function main(){const e=new LighthouseTreemap,t=new URLSearchParams(window.location.search),o="1"===t.get("gzip"),i=location.hash?JSON.parse(TextEncoding.fromBase64(location.hash.substr(1),{gzip:o})):{},s={...Object.fromEntries(t.entries()),...i};if(window.__treemapOptions)e.init(window.__treemapOptions);else if("debug"in s){const t=await fetch("debug.json");e.init(await t.json())}else if(s.lhr){const t={lhr:s.lhr};e.init(t)}else if(s.gist){let t,o;try{t=await e._github.getGistFileContentAsJson(s.gist||""),o=e.convertToOptions(t)}catch(e){logger.log(e)}o&&e.init(o)}else window.addEventListener("message",(t=>{if(t.source!==self.opener)return;const o=t.data,{lhr:i}=o;if(!i)return logger.error("Error: Invalid options");if(!i.requestedUrl)return logger.error("Error: Invalid options");e.init(o)}));self.opener&&!self.opener.closed&&self.opener.postMessage({opened:!0},"*")}document.addEventListener("DOMContentLoaded",main);class TreemapUtil{static walk(e,t,o){if(o||(o=[]),o.push(e.name),t(e,o),e.children)for(const i of e.children)TreemapUtil.walk(i,t,[...o])}static pathsAreEqual(e,t){if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++)if(e[o]!==t[o])return!1;return!0}static pathIsSubpath(e,t){if(e.length>t.length)return!1;for(let o=0;o<e.length;o++)if(e[o]!==t[o])return!1;return!0}static elide(e,t){return e.length<=t?e:e.slice(0,t-1)+""}static elideSameOrigin(e,t){return e.origin!==t.origin?e.toString():e.toString().replace(t.origin,"")}static createElement(e,t,o={}){const i=document.createElement(e);return t&&(i.className=t),Object.keys(o).forEach((e=>{const t=o[e];void 0!==t&&i.setAttribute(e,t)})),i}static createChildOf(e,t,o,i){const s=this.createElement(t,o,i);return e.appendChild(s),s}static find(e,t=document){const o=t.querySelector(e);if(null===o)throw new Error(`query ${e} not found`);return o}static format(e,t){return"bytes"===t?this.i18n.formatBytes(e):"time"===t?this.i18n.formatNumber(e)+"ms":`${this.i18n.formatNumber(e)}${t}`}static stableHasher(e){let t=[...e];const o=new Map;return i=>{const s=o.get(i);if(void 0!==s)return s;0===t.length&&(t=[...e]);const n=[...i].reduce(((e,t)=>e+t.charCodeAt(0)),0),[a]=t.splice(n%t.length,1);return o.set(i,a),a}}static hsl(e,t,o){return`hsl(${e}, ${t}%, ${o}%)`}}TreemapUtil.COLOR_HUES=[4.1,339.6,291.2,261.6,230.8,198.7,186.8,174.4,122.4,87.8,65.5,45,35.8,15.9,199.5],TreemapUtil.i18n=null,TreemapUtil.UIStrings={toggleTableButtonLabel:"Toggle Table",allScriptsDropdownLabel:"All Scripts",tableColumnName:"Name",resourceBytesLabel:"Resource Bytes",unusedBytesLabel:"Unused Bytes",coverageColumnName:"Coverage",allLabel:"All",duplicateModulesLabel:"Duplicate Modules"},"undefined"!=typeof module&&module.exports?module.exports=TreemapUtil:self.TreemapUtil=TreemapUtil;